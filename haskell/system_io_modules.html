<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>System IO Modules</title>
<!-- 2017-03-04 sÃ¡b 14:19 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="Caio Rodrigues" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link href='/theme/style.css' rel='stylesheet'>
<link href="/Functional-Programming/theme/style.css" rel="stylesheet">

<script type="text/javascript" src="/theme/org-info.js">
/**
 *
 * @source: /theme/org-info.js
 *
 * @licstart  The following is the entire license notice for the
 *  JavaScript code in /theme/org-info.js.
 *
 * Copyright (C) 2012-2013 Free Software Foundation, Inc.
 *
 *
 * The JavaScript code in this tag is free software: you can
 * redistribute it and/or modify it under the terms of the GNU
 * General Public License (GNU GPL) as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option)
 * any later version.  The code is distributed WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.
 *
 * As additional permission under GNU GPL version 3 section 7, you
 * may distribute non-source (e.g., minimized or compacted) forms of
 * that code without the copy of the GNU GPL normally required by
 * section 4, provided you include this license notice and a URL
 * through which recipients can access the Corresponding Source.
 *
 * @licend  The above is the entire license notice
 * for the JavaScript code in /theme/org-info.js.
 *
 */
</script>

<script type="text/javascript">

/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/

<!--/*--><![CDATA[/*><!--*/
org_html_manager.set("TOC_DEPTH", "4");
org_html_manager.set("LINK_HOME", "");
org_html_manager.set("LINK_UP", "");
org_html_manager.set("LOCAL_TOC", "1");
org_html_manager.set("VIEW_BUTTONS", "0");
org_html_manager.set("MOUSE_HINT", "underline");
org_html_manager.set("FIXED_TOC", "0");
org_html_manager.set("TOC", "1");
org_html_manager.set("VIEW", "info");
org_html_manager.setup();  // activate after the parameters are set
/*]]>*///-->
</script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">System IO Modules</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. System IO Modules</a>
<ul>
<li><a href="#sec-1-1">1.1. Overview</a></li>
<li><a href="#sec-1-2">1.2. System.IO</a>
<ul>
<li><a href="#sec-1-2-1">1.2.1. Overview</a></li>
<li><a href="#sec-1-2-2">1.2.2. Read and Write File</a></li>
<li><a href="#sec-1-2-3">1.2.3. Explore System.IO</a></li>
<li><a href="#sec-1-2-4">1.2.4. Read three Lines from a file.</a></li>
<li><a href="#sec-1-2-5">1.2.5. Test the module System.IO</a></li>
<li><a href="#sec-1-2-6">1.2.6. Read all lines of a file</a></li>
</ul>
</li>
<li><a href="#sec-1-3">1.3. System.Environment</a></li>
<li><a href="#sec-1-4">1.4. System.Directory</a></li>
<li><a href="#sec-1-5">1.5. System.Info</a></li>
<li><a href="#sec-1-6">1.6. System.Process</a></li>
</ul>
</li>
</ul>
</div>
</div>
<lu> 
  <li><a href="/Functional-Programming/index.html">Index</a></li>
  <li><a href="https://github.com/caiorss/Functional-Programming">Repository</a></li>
</lu>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> System IO Modules</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> Overview</h3>
</div>
<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> System.IO</h3>
<div class="outline-text-3" id="text-1-2">
</div><div id="outline-container-sec-1-2-1" class="outline-4">
<h4 id="sec-1-2-1"><span class="section-number-4">1.2.1</span> Overview</h4>
<div class="outline-text-4" id="text-1-2-1">
<p>
<b>System.IO</b>
</p>

<p>
Standard File Handlers: 
</p>

<ul class="org-ul">
<li>stdin
</li>
<li>stdout
</li>
<li>stderr
</li>
</ul>

<p>
IOMode 
</p>

<ul class="org-ul">
<li>ReadMode
</li>
<li>WriteMode
</li>
<li>AppendMode
</li>
<li>ReadWriteMode 
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-2-2" class="outline-4">
<h4 id="sec-1-2-2"><span class="section-number-4">1.2.2</span> Read and Write File</h4>
<div class="outline-text-4" id="text-1-2-2">
<div class="org-src-container">

<pre class="src src-haskell"><span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t putStrLn
<span class="org-haskell-definition">putStrLn</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">String</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> <span class="org-haskell-constructor">()</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-comment-delimiter">-- </span><span class="org-comment">Bind operator</span>
<span class="org-comment-delimiter">--</span>
<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-type">:</span>t (<span class="org-haskell-operator">&gt;&gt;=</span>)
(<span class="org-haskell-definition">&gt;&gt;=</span>) <span class="org-haskell-operator">::</span> <span class="org-haskell-type">Monad</span> m <span class="org-haskell-operator">=&gt;</span> m a <span class="org-haskell-operator">-&gt;</span> (a <span class="org-haskell-operator">-&gt;</span> m b) <span class="org-haskell-operator">-&gt;</span> m b
<span class="org-haskell-operator">&gt;</span> 

<span class="org-comment-delimiter">-- </span><span class="org-comment">Reverse bind operator </span>
<span class="org-comment-delimiter">-- </span>
<span class="org-comment-delimiter">--</span>
<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-type">:</span>t (<span class="org-haskell-operator">=&lt;&lt;</span>)
(<span class="org-haskell-definition">=&lt;&lt;</span>) <span class="org-haskell-operator">::</span> <span class="org-haskell-type">Monad</span> m <span class="org-haskell-operator">=&gt;</span> (a <span class="org-haskell-operator">-&gt;</span> m b) <span class="org-haskell-operator">-&gt;</span> m a <span class="org-haskell-operator">-&gt;</span> m b
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-type">:</span>t readFile <span class="org-string">"/etc/lsb-release"</span> 
<span class="org-haskell-definition">readFile</span> <span class="org-string">"/etc/lsb-release"</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">IO</span> <span class="org-haskell-type">String</span>
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-definition">readFile</span> <span class="org-string">"/etc/lsb-release"</span> 
<span class="org-string">"DISTRIB_ID=Ubuntu\nDISTRIB_RELEASE=15.04 ..."</span>

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-definition">readFile</span> <span class="org-string">"/etc/lsb-release"</span> <span class="org-haskell-operator">&gt;&gt;=</span> putStrLn
<span class="org-haskell-constructor">DISTRIB_ID</span><span class="org-haskell-operator">=</span><span class="org-haskell-constructor">Ubuntu</span>
<span class="org-haskell-constructor">DISTRIB_RELEASE</span><span class="org-haskell-operator">=</span>15.04
<span class="org-haskell-constructor">DISTRIB_CODENAME</span><span class="org-haskell-operator">=</span>vivid
<span class="org-haskell-constructor">DISTRIB_DESCRIPTION</span><span class="org-haskell-operator">=</span><span class="org-string">"Ubuntu 15.04"</span>

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-definition">putStrLn</span> <span class="org-haskell-definition">=&lt;&lt;</span> readFile <span class="org-string">"/etc/lsb-release"</span> 
<span class="org-haskell-constructor">DISTRIB_ID</span><span class="org-haskell-operator">=</span><span class="org-haskell-constructor">Ubuntu</span>
<span class="org-haskell-constructor">DISTRIB_RELEASE</span><span class="org-haskell-operator">=</span>15.04
<span class="org-haskell-constructor">DISTRIB_CODENAME</span><span class="org-haskell-operator">=</span>vivid
<span class="org-haskell-constructor">DISTRIB_DESCRIPTION</span><span class="org-haskell-operator">=</span><span class="org-string">"Ubuntu 15.04"</span>

<span class="org-comment-delimiter">-- </span><span class="org-comment">This code must be loaded from a file:</span>
<span class="org-comment-delimiter">--</span>
<span class="org-haskell-definition">showFile</span> fileName <span class="org-haskell-operator">=</span> <span class="org-haskell-keyword">do</span> 
  content <span class="org-haskell-operator">&lt;-</span> readFile fileName 
  putStrLn content 


<span class="org-comment-delimiter">-- </span><span class="org-comment">This code can be pasted in the repl.</span>
<span class="org-comment-delimiter">--</span>
<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-keyword">let</span> showFile3 fileName <span class="org-haskell-operator">=</span> <span class="org-haskell-keyword">do</span> { content <span class="org-haskell-operator">&lt;-</span> readFile fileName ; putStrLn content }
<span class="org-haskell-operator">&gt;</span>
<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t showFile3
<span class="org-haskell-definition">showFile3</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">FilePath</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> <span class="org-haskell-constructor">()</span>

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-definition">showFile</span> <span class="org-string">"/etc/lsb-release"</span>
<span class="org-haskell-constructor">DISTRIB_ID</span><span class="org-haskell-operator">=</span><span class="org-haskell-constructor">Ubuntu</span>
<span class="org-haskell-constructor">DISTRIB_RELEASE</span><span class="org-haskell-operator">=</span>15.04
<span class="org-haskell-constructor">DISTRIB_CODENAME</span><span class="org-haskell-operator">=</span>vivid
<span class="org-haskell-constructor">DISTRIB_DESCRIPTION</span><span class="org-haskell-operator">=</span><span class="org-string">"Ubuntu 15.04"</span>


<span class="org-comment-delimiter">-- </span><span class="org-comment">Dessugarized.</span>
<span class="org-comment-delimiter">--</span>
<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-keyword">let</span> showFile2 fileName <span class="org-haskell-operator">=</span> readFile fileName <span class="org-haskell-operator">&gt;&gt;=</span> <span class="org-haskell-operator">\</span>content <span class="org-haskell-operator">-&gt;</span> putStrLn content
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-definition">showFile2</span> <span class="org-string">"/etc/lsb-release"</span>
<span class="org-haskell-constructor">DISTRIB_ID</span><span class="org-haskell-operator">=</span><span class="org-haskell-constructor">Ubuntu</span>
<span class="org-haskell-constructor">DISTRIB_RELEASE</span><span class="org-haskell-operator">=</span>15.04
<span class="org-haskell-constructor">DISTRIB_CODENAME</span><span class="org-haskell-operator">=</span>vivid
<span class="org-haskell-constructor">DISTRIB_DESCRIPTION</span><span class="org-haskell-operator">=</span><span class="org-string">"Ubuntu 15.04"</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-2-3" class="outline-4">
<h4 id="sec-1-2-3"><span class="section-number-4">1.2.3</span> Explore System.IO</h4>
<div class="outline-text-4" id="text-1-2-3">
<div class="org-src-container">

<pre class="src src-haskell"><span class="org-haskell-operator">&gt;</span> <span class="org-haskell-keyword">import</span> <span class="org-haskell-keyword">qualified</span> <span class="org-haskell-constructor">System.IO</span> <span class="org-haskell-keyword">as</span> <span class="org-haskell-constructor">SIO</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-comment-delimiter">-- </span><span class="org-comment">Type tab to list the module </span>
<span class="org-comment-delimiter">--</span>
<span class="org-haskell-operator">&gt;</span> SIO<span class="org-haskell-definition">.</span>
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-constructor">Display</span> all 106 possibilities<span class="org-haskell-operator">?</span> (y or n)
SIO<span class="org-haskell-definition">.</span>AbsoluteSeek                              SIO.hPutChar
SIO<span class="org-haskell-definition">.</span>AppendMode                                SIO.hPutStr
SIO<span class="org-haskell-definition">.</span>BlockBuffering                            SIO.hPutStrLn
SIO<span class="org-haskell-definition">.</span>BufferMode                                SIO.hReady
SIO<span class="org-haskell-definition">.</span>CRLF                                      SIO.hSeek

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t SIO.readFile 
SIO<span class="org-haskell-definition">.</span>readFile <span class="org-haskell-operator">::</span> <span class="org-haskell-type">FilePath</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> <span class="org-haskell-type">String</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-comment-delimiter">-- </span><span class="org-comment">File handler / File descriptor (Unix File descriptor)</span>
<span class="org-comment-delimiter">-- </span>
<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-keyword">let</span> fd <span class="org-haskell-operator">=</span> SIO.openFile <span class="org-string">"/etc/lsb-release"</span>  <span class="org-haskell-constructor">SIO.ReadMode</span>

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t SIO.openFile 
SIO<span class="org-haskell-definition">.</span>openFile <span class="org-haskell-operator">::</span> <span class="org-haskell-type">FilePath</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">SIO.IOMode</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> <span class="org-haskell-type">SIO.Handle</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> fd
{handle<span class="org-haskell-constructor">:</span> <span class="org-haskell-operator">/</span>etc<span class="org-haskell-operator">/</span>lsb<span class="org-haskell-operator">-</span>release}
<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t fd
<span class="org-haskell-definition">fd</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">IO</span> <span class="org-haskell-type">SIO.Handle</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-comment-delimiter">-- </span><span class="org-comment">Return a line from file descritor </span>
<span class="org-comment-delimiter">--</span>
<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-type">:</span>t SIO.hGetLine
SIO<span class="org-haskell-definition">.</span>hGetLine <span class="org-haskell-operator">::</span> <span class="org-haskell-type">SIO.Handle</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> <span class="org-haskell-type">String</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> fd <span class="org-haskell-definition">&gt;&gt;=</span> SIO.hGetLine 
<span class="org-string">"DISTRIB_ID=Ubuntu"</span>
<span class="org-haskell-operator">&gt;</span> fd <span class="org-haskell-definition">&gt;&gt;=</span> SIO.hGetLine 
<span class="org-string">"DISTRIB_ID=Ubuntu"</span>
<span class="org-haskell-operator">&gt;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-2-4" class="outline-4">
<h4 id="sec-1-2-4"><span class="section-number-4">1.2.4</span> Read three Lines from a file.</h4>
<div class="outline-text-4" id="text-1-2-4">
<div class="org-src-container">

<pre class="src src-haskell"><span class="org-haskell-keyword">import</span> <span class="org-haskell-keyword">qualified</span> <span class="org-haskell-constructor">System.IO</span> <span class="org-haskell-keyword">as</span> <span class="org-haskell-constructor">SIO</span> 

<span class="org-haskell-definition">readThreeLines</span> fileName <span class="org-haskell-operator">=</span> <span class="org-haskell-keyword">do</span> 
  fd    <span class="org-haskell-operator">&lt;-</span> SIO.openFile fileName <span class="org-haskell-constructor">SIO.ReadMode</span> 
  line1 <span class="org-haskell-operator">&lt;-</span> SIO.hGetLine fd     
  line2 <span class="org-haskell-operator">&lt;-</span> SIO.hGetLine fd 
  line3 <span class="org-haskell-operator">&lt;-</span> SIO.hGetLine fd 
  SIO.hClose fd 
  return [line1, line2, line3]

<span class="org-comment-delimiter">-- </span><span class="org-comment">--------------------------------</span>
<span class="org-haskell-operator">-</span> <span class="org-comment-delimiter">--</span><span class="org-comment">-------------------------------</span>

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>paste

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-definition">readThreeLines</span> <span class="org-string">"/etc/lsb-release"</span>
[<span class="org-string">"DISTRIB_ID=Ubuntu"</span>,<span class="org-string">"DISTRIB_RELEASE=15.04"</span>,<span class="org-string">"DISTRIB_CODENAME=vivid"</span>]
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t readThreeLines <span class="org-string">"/etc/lsb-release"</span>
<span class="org-haskell-definition">readThreeLines</span> <span class="org-string">"/etc/lsb-release"</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">IO</span> [<span class="org-haskell-type">String</span>]
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-2-5" class="outline-4">
<h4 id="sec-1-2-5"><span class="section-number-4">1.2.5</span> Test the module System.IO</h4>
<div class="outline-text-4" id="text-1-2-5">
<div class="org-src-container">

<pre class="src src-haskell"><span class="org-haskell-keyword">import</span> <span class="org-haskell-keyword">qualified</span> <span class="org-haskell-constructor">System.IO</span> <span class="org-haskell-keyword">as</span> <span class="org-haskell-constructor">SIO</span> 


<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-keyword">let</span> fd <span class="org-haskell-operator">=</span> SIO.openFile <span class="org-string">"/etc/lsb-release"</span> <span class="org-haskell-constructor">SIO.ReadMode</span>
<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t fd
<span class="org-haskell-definition">fd</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">IO</span> <span class="org-haskell-type">SIO.Handle</span>
<span class="org-haskell-operator">&gt;</span> 


<span class="org-haskell-operator">&gt;</span> fd <span class="org-haskell-definition">&gt;&gt;=</span> SIO.hGetContents 
<span class="org-string">"DISTRIB_ID=Ubuntu\nDISTRIB_RELEASE=15.04\nDISTRIB_CODENAME ... ... "</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> fd <span class="org-haskell-definition">&gt;&gt;=</span> SIO.hGetContents <span class="org-haskell-operator">&gt;&gt;=</span> putStrLn
<span class="org-haskell-constructor">DISTRIB_ID</span><span class="org-haskell-operator">=</span><span class="org-haskell-constructor">Ubuntu</span>
<span class="org-haskell-constructor">DISTRIB_RELEASE</span><span class="org-haskell-operator">=</span>15.04
<span class="org-haskell-constructor">DISTRIB_CODENAME</span><span class="org-haskell-operator">=</span>vivid
<span class="org-haskell-constructor">DISTRIB_DESCRIPTION</span><span class="org-haskell-operator">=</span><span class="org-string">"Ubuntu 15.04"</span>



<span class="org-haskell-keyword">let</span> readLine fd <span class="org-haskell-operator">=</span>  SIO.hGetLine fd <span class="org-haskell-operator">&gt;&gt;=</span> <span class="org-haskell-operator">\</span>line <span class="org-haskell-operator">-&gt;</span> return (line, fd)

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t readLine 
<span class="org-haskell-definition">readLine</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">SIO.Handle</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> (<span class="org-haskell-type">String</span>, <span class="org-haskell-type">SIO.Handle</span>)
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> fd <span class="org-haskell-definition">&gt;&gt;=</span> readLine 
(<span class="org-string">"DISTRIB_ID=Ubuntu"</span>,{handle<span class="org-haskell-constructor">:</span> <span class="org-haskell-operator">/</span>etc<span class="org-haskell-operator">/</span>lsb<span class="org-haskell-operator">-</span>release})
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> fd <span class="org-haskell-definition">&gt;&gt;=</span> readLine 
(<span class="org-string">"DISTRIB_ID=Ubuntu"</span>,{handle<span class="org-haskell-constructor">:</span> <span class="org-haskell-operator">/</span>etc<span class="org-haskell-operator">/</span>lsb<span class="org-haskell-operator">-</span>release})
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-keyword">let</span> readTwoLines fd <span class="org-haskell-operator">=</span> readLine fd <span class="org-haskell-operator">&gt;&gt;=</span> <span class="org-haskell-operator">\</span>(line1, fd) <span class="org-haskell-operator">-&gt;</span> readLine fd <span class="org-haskell-operator">&gt;&gt;=</span> <span class="org-haskell-operator">\</span>(line2, fd) <span class="org-haskell-operator">-&gt;</span> return ([line1, line2], fd)

<span class="org-haskell-operator">&gt;</span> fd <span class="org-haskell-definition">&gt;&gt;=</span> readTwoLines 
([<span class="org-string">"DISTRIB_ID=Ubuntu"</span>,<span class="org-string">"DISTRIB_RELEASE=15.04"</span>],{handle<span class="org-haskell-constructor">:</span> <span class="org-haskell-operator">/</span>etc<span class="org-haskell-operator">/</span>lsb<span class="org-haskell-operator">-</span>release})
<span class="org-haskell-operator">&gt;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-2-6" class="outline-4">
<h4 id="sec-1-2-6"><span class="section-number-4">1.2.6</span> Read all lines of a file</h4>
<div class="outline-text-4" id="text-1-2-6">
<div class="org-src-container">

<pre class="src src-haskell"><span class="org-haskell-keyword">import</span> <span class="org-haskell-keyword">qualified</span> <span class="org-haskell-constructor">System.IO</span> <span class="org-haskell-keyword">as</span> <span class="org-haskell-constructor">SIO</span> 

<span class="org-haskell-definition">fdtest</span> <span class="org-haskell-operator">=</span> SIO.openFile <span class="org-string">"/etc/lsb-release"</span> <span class="org-haskell-constructor">SIO.ReadMode</span>

<span class="org-haskell-definition">readLineState</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">SIO.Handle</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> (<span class="org-haskell-type">String</span>, <span class="org-haskell-type">SIO.Handle</span>)
<span class="org-haskell-definition">readLineState</span> fd <span class="org-haskell-operator">=</span> <span class="org-haskell-keyword">do</span> 
  line <span class="org-haskell-operator">&lt;-</span> SIO.hGetLine fd 
  return (line, fd)

<span class="org-haskell-definition">readLinesAux</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">SIO.Handle</span> <span class="org-haskell-operator">-&gt;</span> [<span class="org-haskell-type">String</span>] <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> [<span class="org-haskell-type">String</span>] 
<span class="org-haskell-definition">readLinesAux</span> fd lines <span class="org-haskell-operator">=</span> <span class="org-haskell-keyword">do</span>
   (lin, fdnext) <span class="org-haskell-operator">&lt;-</span> readLineState fd 
   isEOF         <span class="org-haskell-operator">&lt;-</span> SIO.hIsEOF fdnext
   <span class="org-haskell-keyword">if</span> isEOF 
   <span class="org-haskell-keyword">then</span> return (reverse lines)
   <span class="org-haskell-keyword">else</span> readLinesAux fdnext (lin<span class="org-haskell-constructor">:</span>lines)



<span class="org-haskell-definition">readLines</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">SIO.Handle</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> [<span class="org-haskell-type">String</span>]
<span class="org-haskell-definition">readLines</span> fd <span class="org-haskell-operator">=</span> readLinesAux fd <span class="org-haskell-constructor">[]</span>

<span class="org-haskell-definition">readLinesFromFile</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">String</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> [<span class="org-haskell-type">String</span>]
<span class="org-haskell-definition">readLinesFromFile</span> fileName <span class="org-haskell-operator">=</span> <span class="org-haskell-keyword">do</span> 
  handle    <span class="org-haskell-operator">&lt;-</span> SIO.openFile fileName <span class="org-haskell-constructor">SIO.ReadMode</span> 
  lines     <span class="org-haskell-operator">&lt;-</span> readLines handle 
  SIO.hClose handle 
  return  lines 


<span class="org-haskell-definition">makeReader</span>  <span class="org-haskell-operator">::</span> (<span class="org-haskell-type">SIO.Handle</span> <span class="org-haskell-operator">-&gt;</span>  <span class="org-haskell-type">IO</span> out) <span class="org-haskell-operator">-&gt;</span> (<span class="org-haskell-type">SIO.Handle</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> (out, <span class="org-haskell-type">SIO.Handle</span>))
<span class="org-haskell-definition">makeReader</span> reader fd <span class="org-haskell-operator">=</span> <span class="org-haskell-keyword">do</span> 
  out <span class="org-haskell-operator">&lt;-</span> reader fd 
  return (out, fd)


<span class="org-haskell-definition">applyFileReaderAux</span> <span class="org-haskell-operator">::</span> (<span class="org-haskell-type">SIO.Handle</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> (out, <span class="org-haskell-type">SIO.Handle</span>)) <span class="org-haskell-operator">-&gt;</span>  <span class="org-haskell-type">SIO.Handle</span> <span class="org-haskell-operator">-&gt;</span> [out] <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> [out]
<span class="org-haskell-definition">applyFileReaderAux</span> fileReader fd acc <span class="org-haskell-operator">=</span> <span class="org-haskell-keyword">do</span>
   (output, fdnext) <span class="org-haskell-operator">&lt;-</span> fileReader fd 
   isEOF            <span class="org-haskell-operator">&lt;-</span> SIO.hIsEOF fdnext 
   <span class="org-haskell-keyword">if</span> isEOF 
   <span class="org-haskell-keyword">then</span> return (reverse acc)
   <span class="org-haskell-keyword">else</span> applyFileReaderAux fileReader fdnext (output<span class="org-haskell-constructor">:</span>acc)

<span class="org-haskell-definition">applyFileReader</span> <span class="org-haskell-operator">::</span>  (<span class="org-haskell-type">SIO.Handle</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> (out, <span class="org-haskell-type">SIO.Handle</span>)) <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">SIO.Handle</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> [out]
<span class="org-haskell-definition">applyFileReader</span> fileReader fd <span class="org-haskell-operator">=</span>   applyFileReaderAux fileReader fd <span class="org-haskell-constructor">[]</span>
</pre>
</div>


<p>
Repl tests:
</p>

<div class="org-src-container">

<pre class="src src-haskell"><span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t fdtest 
<span class="org-haskell-definition">fdtest</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">IO</span> <span class="org-haskell-type">SIO.Handle</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-type">:</span>t readLineState 
<span class="org-haskell-definition">readLineState</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">SIO.Handle</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> (<span class="org-haskell-type">String</span>, <span class="org-haskell-type">SIO.Handle</span>)
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> fdtest <span class="org-haskell-definition">&gt;&gt;=</span> readLineState 
(<span class="org-string">"DISTRIB_ID=Ubuntu"</span>,{handle<span class="org-haskell-constructor">:</span> <span class="org-haskell-operator">/</span>etc<span class="org-haskell-operator">/</span>lsb<span class="org-haskell-operator">-</span>release})
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-definition">readLineState</span> <span class="org-haskell-definition">=&lt;&lt;</span> fdtest
(<span class="org-string">"DISTRIB_ID=Ubuntu"</span>,{handle<span class="org-haskell-constructor">:</span> <span class="org-haskell-operator">/</span>etc<span class="org-haskell-operator">/</span>lsb<span class="org-haskell-operator">-</span>release})
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> fdtest <span class="org-haskell-definition">&gt;&gt;=</span> <span class="org-haskell-operator">\</span>fd <span class="org-haskell-operator">-&gt;</span> readLinesAux fd <span class="org-haskell-constructor">[]</span>
[<span class="org-string">"DISTRIB_ID=Ubuntu"</span>,<span class="org-string">"DISTRIB_RELEASE=15.04"</span>,<span class="org-string">"DISTRIB_CODENAME=vivid"</span>]
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t fdtest <span class="org-haskell-operator">&gt;&gt;=</span> <span class="org-haskell-operator">\</span>fd <span class="org-haskell-operator">-&gt;</span> readLinesAux fd <span class="org-haskell-constructor">[]</span>
fdtest <span class="org-haskell-definition">&gt;&gt;=</span> <span class="org-haskell-operator">\</span>fd <span class="org-haskell-operator">-&gt;</span> readLinesAux fd <span class="org-haskell-constructor">[]</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">IO</span> [<span class="org-haskell-type">String</span>]
<span class="org-haskell-operator">&gt;</span> 


<span class="org-haskell-operator">&gt;</span> fdtest <span class="org-haskell-definition">&gt;&gt;=</span> readLines 
[<span class="org-string">"DISTRIB_ID=Ubuntu"</span>,<span class="org-string">"DISTRIB_RELEASE=15.04"</span>,<span class="org-string">"DISTRIB_CODENAME=vivid"</span>]
<span class="org-haskell-operator">&gt;</span> 


<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-definition">readLinesFromFile</span> <span class="org-string">"/etc/lsb-release"</span>
[<span class="org-string">"DISTRIB_ID=Ubuntu"</span>,<span class="org-string">"DISTRIB_RELEASE=15.04"</span>,<span class="org-string">"DISTRIB_CODENAME=vivid"</span>]
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t SIO.withFile
SIO<span class="org-haskell-definition">.</span>withFile
  <span class="org-haskell-operator">::</span> <span class="org-haskell-type">FilePath</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">SIO.IOMode</span> <span class="org-haskell-operator">-&gt;</span> (<span class="org-haskell-type">SIO.Handle</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> r) <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> r
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> SIO<span class="org-haskell-definition">.</span>withFile <span class="org-string">"/etc/lsb-release"</span> <span class="org-haskell-type">SIO.ReadMode</span> readLines
[<span class="org-string">"DISTRIB_ID=Ubuntu"</span>,<span class="org-string">"DISTRIB_RELEASE=15.04"</span>,<span class="org-string">"DISTRIB_CODENAME=vivid"</span>]
<span class="org-haskell-operator">&gt;</span>

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t SIO.withFile <span class="org-string">"/etc/lsb-release"</span> <span class="org-haskell-constructor">SIO.ReadMode</span> readLines
SIO<span class="org-haskell-definition">.</span>withFile <span class="org-string">"/etc/lsb-release"</span> <span class="org-haskell-constructor">SIO.ReadMode</span> readLines
  <span class="org-haskell-operator">::</span> <span class="org-haskell-type">IO</span> [<span class="org-haskell-type">String</span>]


 <span class="org-comment-delimiter">-- </span><span class="org-comment">------------------------</span>
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> fd <span class="org-haskell-operator">&lt;-</span> SIO.openFile <span class="org-string">"/etc/lsb-release"</span> <span class="org-haskell-constructor">SIO.ReadMode</span>
<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t fd
<span class="org-haskell-definition">fd</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">SIO.Handle</span>
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> fd
{handle<span class="org-haskell-constructor">:</span> <span class="org-haskell-operator">/</span>etc<span class="org-haskell-operator">/</span>lsb<span class="org-haskell-operator">-</span>release}
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t readLineState 
<span class="org-haskell-definition">readLineState</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">SIO.Handle</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> (<span class="org-haskell-type">String</span>, <span class="org-haskell-type">SIO.Handle</span>)

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-definition">applyFileReaderAux</span> readLineState fd <span class="org-haskell-constructor">[]</span>
[<span class="org-string">"DISTRIB_ID=Ubuntu"</span>,<span class="org-string">"DISTRIB_RELEASE=15.04"</span>,<span class="org-string">"DISTRIB_CODENAME=vivid"</span>]
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-keyword">let</span> charReader <span class="org-haskell-operator">=</span> makeReader SIO.hGetChar 

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t charReader 
<span class="org-haskell-definition">charReader</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">SIO.Handle</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> (<span class="org-haskell-type">Char</span>, <span class="org-haskell-type">SIO.Handle</span>)
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-definition">applyFileReader</span> charReader fd
<span class="org-string">"DISTRIB_ID=Ubuntu\nDISTRIB_RELEASE=15.04\nDISTRIB_CODENAME= ..."</span>
<span class="org-haskell-operator">&gt;</span> 


<span class="org-haskell-operator">&gt;</span> fd <span class="org-haskell-operator">&lt;-</span> SIO.openFile <span class="org-string">"/etc/lsb-release"</span> <span class="org-haskell-constructor">SIO.ReadMode</span>
<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-definition">applyFileReader</span> (makeReader SIO.hGetLine) fd
[<span class="org-string">"DISTRIB_ID=Ubuntu"</span>,<span class="org-string">"DISTRIB_RELEASE=15.04"</span>,<span class="org-string">"DISTRIB_CODENAME=vivid"</span>]
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-definition">applyFileReader</span> (makeReader SIO.hGetLine) fd
 <span class="org-haskell-operator">***</span> <span class="org-haskell-constructor">Exception:</span> <span class="org-haskell-operator">/</span>etc<span class="org-haskell-operator">/</span>lsb<span class="org-haskell-operator">-</span>release<span class="org-haskell-constructor">:</span> hGetLine<span class="org-haskell-constructor">:</span> end <span class="org-haskell-keyword">of</span> file
<span class="org-haskell-operator">&gt;</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> System.Environment</h3>
<div class="outline-text-3" id="text-1-3">
<p>
<a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/System-Environment.html">Module Documentation</a> 
</p>

<p>
Miscellaneous information about the system environment.
</p>

<div class="org-src-container">

<pre class="src src-haskell"><span class="org-haskell-operator">&gt;</span> <span class="org-haskell-keyword">import</span> <span class="org-haskell-keyword">qualified</span> <span class="org-haskell-constructor">System.Environment</span> <span class="org-haskell-keyword">as</span> <span class="org-haskell-constructor">E</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-comment-delimiter">--  </span><span class="org-comment">returns a list of the program's command line arguments </span>
<span class="org-comment-delimiter">--  </span><span class="org-comment">(not including the program name).</span>
<span class="org-comment-delimiter">-- </span>

<span class="org-haskell-operator">&gt;</span> E<span class="org-haskell-definition">.</span>getArgs 
<span class="org-haskell-constructor">[]</span>

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t E.getArgs 
E<span class="org-haskell-definition">.</span>getArgs <span class="org-haskell-operator">::</span> <span class="org-haskell-type">IO</span> [<span class="org-haskell-type">String</span>]
<span class="org-haskell-operator">&gt;</span> 

<span class="org-comment-delimiter">-- </span><span class="org-comment">Computation getProgName returns the name of the program as it was invoked.</span>
<span class="org-comment-delimiter">--</span>

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-type">:</span>t E.getProgName 
E<span class="org-haskell-definition">.</span>getProgName <span class="org-haskell-operator">::</span> <span class="org-haskell-type">IO</span> <span class="org-haskell-type">String</span>
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> E<span class="org-haskell-definition">.</span>getProgName 
<span class="org-string">"&lt;interactive&gt;"</span>
<span class="org-haskell-operator">&gt;</span> 


<span class="org-comment-delimiter">-- </span><span class="org-comment">Returns the absolute pathname of the current executable.</span>
<span class="org-comment-delimiter">-- </span><span class="org-comment">Note that for scripts and interactive sessions, this is </span>
<span class="org-comment-delimiter">-- </span><span class="org-comment">the path to the interpreter (e.g. ghci.)</span>


<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t E.getExecutablePath 
E<span class="org-haskell-definition">.</span>getExecutablePath <span class="org-haskell-operator">::</span> <span class="org-haskell-type">IO</span> <span class="org-haskell-type">FilePath</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> E<span class="org-haskell-definition">.</span>getExecutablePath 
<span class="org-string">"/usr/lib/ghc/lib/ghc"</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> path <span class="org-haskell-operator">&lt;-</span> E.getExecutablePath 
<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t path
<span class="org-haskell-definition">path</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">FilePath</span>
<span class="org-haskell-operator">&gt;</span> path
<span class="org-string">"/usr/lib/ghc/lib/ghc"</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-comment-delimiter">-- </span><span class="org-comment">Computation getEnv var returns the value of the environment </span>
<span class="org-comment-delimiter">-- </span><span class="org-comment">variable var. For the inverse, POSIX users can use putEnv.</span>
<span class="org-comment-delimiter">--</span>
<span class="org-comment-delimiter">-- </span>

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t E.getEnv
E<span class="org-haskell-definition">.</span>getEnv <span class="org-haskell-operator">::</span> <span class="org-haskell-type">String</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> <span class="org-haskell-type">String</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> E<span class="org-haskell-definition">.</span>getEnv <span class="org-string">"HOME"</span>
<span class="org-string">"/home/tux"</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> E<span class="org-haskell-definition">.</span>getEnv <span class="org-string">"PATH"</span>
<span class="org-string">"/home/tux/.cask/bin:/opt/bin:/home/tux/.opam/4.02.1/bin:/home/tux/bin ..."</span>

<span class="org-haskell-operator">&gt;</span> E<span class="org-haskell-definition">.</span>getEnv <span class="org-string">"DONTEXISTS"</span>
 <span class="org-haskell-operator">***</span> <span class="org-haskell-constructor">Exception:</span> <span class="org-haskell-constructor">DONTEXISTS:</span> getEnv<span class="org-haskell-constructor">:</span> does not exist (no environment variable)
<span class="org-haskell-operator">&gt;</span> 

<span class="org-comment-delimiter">--  </span><span class="org-comment">Return the value of the environment variable var, </span>
<span class="org-comment-delimiter">--  </span><span class="org-comment">or Nothing if there is no such value.</span>
<span class="org-comment-delimiter">--</span>

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t E.lookupEnv 
E<span class="org-haskell-definition">.</span>lookupEnv <span class="org-haskell-operator">::</span> <span class="org-haskell-type">String</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> (<span class="org-haskell-type">Maybe</span> <span class="org-haskell-type">String</span>)
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> E<span class="org-haskell-definition">.</span>lookupEnv <span class="org-string">"JDK_HOME"</span>
<span class="org-haskell-constructor">Just</span> <span class="org-string">"/opt/java"</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> E<span class="org-haskell-definition">.</span>lookupEnv <span class="org-string">"JDK_HOMEasdasd"</span>
<span class="org-haskell-constructor">Nothing</span>
<span class="org-haskell-operator">&gt;</span> 


<span class="org-comment-delimiter">-- </span><span class="org-comment">getEnvironment retrieves the entire environment as a list of (key,value) pairs.</span>

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t E.getEnvironment 
E<span class="org-haskell-definition">.</span>getEnvironment <span class="org-haskell-operator">::</span> <span class="org-haskell-type">IO</span> [(<span class="org-haskell-type">String</span>, <span class="org-haskell-type">String</span>)]
<span class="org-haskell-operator">&gt;</span> 


<span class="org-haskell-operator">&gt;</span> E<span class="org-haskell-definition">.</span>getEnvironment <span class="org-haskell-operator">&gt;&gt;=</span> <span class="org-haskell-operator">\</span>lst <span class="org-haskell-operator">-&gt;</span> return (take 10 lst)
[(<span class="org-string">"USER"</span>,<span class="org-string">"tux"</span>),(<span class="org-string">"LANGUAGE"</span>,<span class="org-string">"en_US"</span>),(<span class="org-string">"LC_TIME"</span>,<span class="org-string">"pt_BR.UTF-8"</span>),(<span class="org-string">"COMP_WORDBREAKS"</span>,<span class="org-string">" \t\n\"'&gt;&lt;;|&amp;(:"</span>),(<span class="org-string">"XDG_SEAT"</span>,<span class="org-string">"seat0"</span>),(<span class="org-string">"SSH_AGENT_PID"</span>,<span class="org-string">"15614"</span>),(<span class="org-string">"XDG_SESSION_TYPE"</span>,<span class="org-string">"x11"</span>),(<span class="org-string">"SHLVL"</span>,<span class="org-string">"1"</span>),(<span class="org-string">"HOME"</span>,<span class="org-string">"/home/tux"</span>),(<span class="org-string">"QT4_IM_MODULE"</span>,<span class="org-string">"xim"</span>)]
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t mapM_
<span class="org-haskell-definition">mapM_</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">Monad</span> m <span class="org-haskell-operator">=&gt;</span> (a <span class="org-haskell-operator">-&gt;</span> m b) <span class="org-haskell-operator">-&gt;</span> [a] <span class="org-haskell-operator">-&gt;</span> m <span class="org-haskell-constructor">()</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-type">:</span>t E.getEnvironment <span class="org-haskell-operator">&gt;&gt;=</span> <span class="org-haskell-operator">\</span>rows <span class="org-haskell-operator">-&gt;</span>  mapM_ (<span class="org-haskell-operator">\</span>row <span class="org-haskell-operator">-&gt;</span> putStrLn (show row)) rows
E<span class="org-haskell-definition">.</span>getEnvironment <span class="org-haskell-operator">&gt;&gt;=</span> <span class="org-haskell-operator">\</span>rows <span class="org-haskell-operator">-&gt;</span>  mapM_ (<span class="org-haskell-operator">\</span>row <span class="org-haskell-operator">-&gt;</span> putStrLn (show row)) rows
  <span class="org-haskell-operator">::</span> <span class="org-haskell-type">IO</span> <span class="org-haskell-constructor">()</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> E<span class="org-haskell-definition">.</span>getEnvironment <span class="org-haskell-operator">&gt;&gt;=</span> <span class="org-haskell-operator">\</span>rows <span class="org-haskell-operator">-&gt;</span>  mapM_ (<span class="org-haskell-operator">\</span>row <span class="org-haskell-operator">-&gt;</span> putStrLn (show row)) rows

(<span class="org-string">"USER"</span>,<span class="org-string">"tux"</span>)
(<span class="org-string">"LANGUAGE"</span>,<span class="org-string">"en_US"</span>)
(<span class="org-string">"LC_TIME"</span>,<span class="org-string">"pt_BR.UTF-8"</span>)
(<span class="org-string">"XDG_SEAT"</span>,<span class="org-string">"seat0"</span>)
(<span class="org-string">"SSH_AGENT_PID"</span>,<span class="org-string">"15614"</span>)
(<span class="org-string">"XDG_SESSION_TYPE"</span>,<span class="org-string">"x11"</span>)
(<span class="org-string">"SHLVL"</span>,<span class="org-string">"1"</span>)
<span class="org-haskell-operator">...</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> System.Directory</h3>
<div class="outline-text-3" id="text-1-4">
<ul class="org-ul">
<li><a href="https://hackage.haskell.org/package/directory-1.2.5.1/docs/System-Directory.html">Module Documentation</a> 
</li>
</ul>

<div class="org-src-container">

<pre class="src src-haskell"><span class="org-haskell-operator">&gt;</span> <span class="org-haskell-keyword">import</span> <span class="org-haskell-keyword">qualified</span> <span class="org-haskell-constructor">System.Directory</span> <span class="org-haskell-keyword">as</span> <span class="org-haskell-constructor">D</span>
<span class="org-haskell-operator">&gt;</span> 


<span class="org-comment-delimiter">-- </span><span class="org-comment">createDirectory dir creates a new directory dir which is initially</span>
<span class="org-comment-delimiter">-- </span><span class="org-comment">empty, or as near to empty as the operating system allows.</span>


<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>createDirectory <span class="org-string">"/tmp/testdir"</span>
<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>createDirectory <span class="org-string">"/tmp/testdir"</span>
 <span class="org-haskell-operator">***</span> <span class="org-haskell-constructor">Exception:</span> <span class="org-haskell-operator">/</span>tmp<span class="org-haskell-operator">/</span>testdir<span class="org-haskell-constructor">:</span> createDirectory<span class="org-haskell-constructor">:</span> already exists (<span class="org-haskell-constructor">File</span> exists)
<span class="org-haskell-operator">&gt;</span> 

<span class="org-comment-delimiter">{-</span>
<span class="org-comment">createDirectoryIfMissing Source</span>
<span class="org-comment">  :: Bool        Create its parents too?</span>
<span class="org-comment">  -&gt; FilePath    The path to the directory you want to make</span>
<span class="org-comment">  -&gt; IO ()</span>

<span class="org-comment">-}</span>


<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>createDirectoryIfMissing <span class="org-haskell-constructor">True</span> <span class="org-string">"/tmp/tree1/1/2/3/4"</span>
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>createDirectoryIfMissing <span class="org-haskell-constructor">True</span> <span class="org-string">"/tmp/tree1/1/2/3/4"</span>
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>createDirectoryIfMissing <span class="org-haskell-constructor">True</span> <span class="org-string">"/tree1/1/2/3/4"</span>
 <span class="org-haskell-operator">***</span> <span class="org-haskell-constructor">Exception:</span> <span class="org-haskell-operator">/</span>tree1<span class="org-haskell-constructor">:</span> createDirectory<span class="org-haskell-constructor">:</span> permission denied (<span class="org-haskell-constructor">Permission</span> denied)
<span class="org-haskell-operator">&gt;</span> 


<span class="org-comment-delimiter">-- </span><span class="org-comment">removeDirectory dir removes an existing directory dir. </span>

<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>removeDirectory <span class="org-string">"/tmp/testdir"</span>
<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>removeDirectory <span class="org-string">"/tmp/testdir"</span>
 <span class="org-haskell-operator">***</span> <span class="org-haskell-constructor">Exception:</span> <span class="org-haskell-operator">/</span>tmp<span class="org-haskell-operator">/</span>testdir<span class="org-haskell-constructor">:</span> removeDirectory<span class="org-haskell-constructor">:</span> does not exist (<span class="org-haskell-constructor">No</span> such file or directory)
<span class="org-haskell-operator">&gt;</span> 

<span class="org-comment-delimiter">--  </span><span class="org-comment">Similar to listDirectory, but always includes the special entries</span>
<span class="org-comment-delimiter">--  </span><span class="org-comment">(. and ..). (This applies to Windows as well.)</span>

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t D.getDirectoryContents <span class="org-string">"/boot"</span> 
D<span class="org-haskell-definition">.</span>getDirectoryContents <span class="org-string">"/boot"</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">IO</span> [<span class="org-haskell-type">FilePath</span>]
<span class="org-haskell-operator">&gt;</span> 


<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-definition">fmap</span> (take 2) (D.getDirectoryContents <span class="org-string">"/boot"</span> )
[<span class="org-string">"initrd.img-3.19.0-37-generic"</span>,<span class="org-string">"config-3.19.0-21-generic"</span>]
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-definition">take</span> 2 <span class="org-haskell-operator">&lt;$&gt;</span> D.getDirectoryContents <span class="org-string">"/boot"</span> 
[<span class="org-string">"initrd.img-3.19.0-37-generic"</span>,<span class="org-string">"config-3.19.0-21-generic"</span>]
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>getDirectoryContents <span class="org-string">"/boot"</span> <span class="org-haskell-operator">&gt;&gt;=</span> mapM_ putStrLn
initrd<span class="org-haskell-definition">.</span>img<span class="org-haskell-operator">-</span>3.19<span class="org-haskell-operator">.</span>0<span class="org-haskell-operator">-</span>37<span class="org-haskell-operator">-</span>generic
config<span class="org-haskell-definition">-</span>3.19<span class="org-haskell-operator">.</span>0<span class="org-haskell-operator">-</span>21<span class="org-haskell-operator">-</span>generic
System<span class="org-haskell-definition">.</span>map<span class="org-haskell-operator">-</span>3.19<span class="org-haskell-operator">.</span>0<span class="org-haskell-operator">-</span>39<span class="org-haskell-operator">-</span>generic
abi<span class="org-haskell-definition">-</span>3.19<span class="org-haskell-operator">.</span>0<span class="org-haskell-operator">-</span>18<span class="org-haskell-operator">-</span>generic
<span class="org-haskell-operator">...</span>

<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>getDirectoryContents <span class="org-string">"/boot"</span> <span class="org-haskell-operator">&gt;&gt;=</span> <span class="org-haskell-operator">\</span>rows <span class="org-haskell-operator">-&gt;</span> return (take 10 rows) <span class="org-haskell-operator">&gt;&gt;=</span> mapM_ putStrLn
initrd<span class="org-haskell-definition">.</span>img<span class="org-haskell-operator">-</span>3.19<span class="org-haskell-operator">.</span>0<span class="org-haskell-operator">-</span>37<span class="org-haskell-operator">-</span>generic
config<span class="org-haskell-definition">-</span>3.19<span class="org-haskell-operator">.</span>0<span class="org-haskell-operator">-</span>21<span class="org-haskell-operator">-</span>generic
System<span class="org-haskell-definition">.</span>map<span class="org-haskell-operator">-</span>3.19<span class="org-haskell-operator">.</span>0<span class="org-haskell-operator">-</span>39<span class="org-haskell-operator">-</span>generic
<span class="org-haskell-operator">...</span> 
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-keyword">let</span> displayDir path <span class="org-haskell-operator">=</span> D.getDirectoryContents path <span class="org-haskell-operator">&gt;&gt;=</span> <span class="org-haskell-operator">\</span>rows <span class="org-haskell-operator">-&gt;</span> return (take 10 rows) <span class="org-haskell-operator">&gt;&gt;=</span> mapM_ putStrLn
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-definition">displayDir</span> <span class="org-string">"/boot"</span>
initrd<span class="org-haskell-definition">.</span>img<span class="org-haskell-operator">-</span>3.19<span class="org-haskell-operator">.</span>0<span class="org-haskell-operator">-</span>37<span class="org-haskell-operator">-</span>generic
config<span class="org-haskell-definition">-</span>3.19<span class="org-haskell-operator">.</span>0<span class="org-haskell-operator">-</span>21<span class="org-haskell-operator">-</span>generic
System<span class="org-haskell-definition">.</span>map<span class="org-haskell-operator">-</span>3.19<span class="org-haskell-operator">.</span>0<span class="org-haskell-operator">-</span>39<span class="org-haskell-operator">-</span>generic
<span class="org-haskell-operator">...</span>


<span class="org-comment-delimiter">--  </span><span class="org-comment">Obtain the current working directory as an absolute path.</span>
<span class="org-comment-delimiter">--</span>

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t D.getCurrentDirectory 
D<span class="org-haskell-definition">.</span>getCurrentDirectory <span class="org-haskell-operator">::</span> <span class="org-haskell-type">IO</span> <span class="org-haskell-type">FilePath</span>
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>getCurrentDirectory 
<span class="org-string">"/home/tux"</span>
<span class="org-haskell-operator">&gt;</span> 


<span class="org-comment-delimiter">-- </span><span class="org-comment">Change the working directory to the given path.</span>
<span class="org-comment-delimiter">--</span>

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t D.setCurrentDirectory 
D<span class="org-haskell-definition">.</span>setCurrentDirectory <span class="org-haskell-operator">::</span> <span class="org-haskell-type">FilePath</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> <span class="org-haskell-constructor">()</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-comment-delimiter">--  </span><span class="org-comment">Returns the current user's home direct</span>
<span class="org-comment-delimiter">-- </span>

<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>getHomeDirectory 
<span class="org-string">"/home/tux"</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>getUserDocumentsDirectory 
<span class="org-string">"/home/tux"</span>
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>getTemporaryDirectory 
<span class="org-string">"/tmp"</span>
<span class="org-haskell-operator">&gt;</span> 


<span class="org-comment-delimiter">--  </span><span class="org-comment">copyFile old new copies the existing file from old to new. If the</span>
<span class="org-comment-delimiter">-- </span><span class="org-comment">new file already exists, it is atomically replaced by the old</span>
<span class="org-comment-delimiter">--  </span><span class="org-comment">file. Neither path may refer to an existing directory. The</span>
<span class="org-comment-delimiter">--  </span><span class="org-comment">permissions of old are copied to new, if possible.  </span>

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t D.copyFile
D<span class="org-haskell-definition">.</span>copyFile <span class="org-haskell-operator">::</span> <span class="org-haskell-type">FilePath</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">FilePath</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> <span class="org-haskell-constructor">()</span> 
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>copyFile <span class="org-string">"/etc/lsb-release"</span> <span class="org-string">"/tmp/test.txt"</span> 
<span class="org-haskell-operator">&gt;</span>
<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-definition">readFile</span> <span class="org-string">"/tmp/test.txt"</span> <span class="org-haskell-operator">&gt;&gt;=</span> putStrLn
<span class="org-haskell-constructor">DISTRIB_ID</span><span class="org-haskell-operator">=</span><span class="org-haskell-constructor">Ubuntu</span>
<span class="org-haskell-constructor">DISTRIB_RELEASE</span><span class="org-haskell-operator">=</span>15.04
<span class="org-haskell-constructor">DISTRIB_CODENAME</span><span class="org-haskell-operator">=</span>vivid
<span class="org-haskell-constructor">DISTRIB_DESCRIPTION</span><span class="org-haskell-operator">=</span><span class="org-string">"Ubuntu 15.04"</span>

<span class="org-comment-delimiter">{-</span>
<span class="org-comment"> removeFile file removes the directory entry for an existing file file,</span>
<span class="org-comment"> where file is not itself a directory. The implementation may specify</span>
<span class="org-comment"> additional constraints which must be satisfied before a file can be</span>
<span class="org-comment"> removed (e.g. the file may not be in use by other processes).</span>

<span class="org-comment">-}</span>

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t D.removeFile
D<span class="org-haskell-definition">.</span>removeFile <span class="org-haskell-operator">::</span> <span class="org-haskell-type">FilePath</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> <span class="org-haskell-constructor">()</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>removeFile <span class="org-string">"/tmp/test.txt"</span>
<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>removeFile <span class="org-string">"/tmp/test.txt"</span>
 <span class="org-haskell-operator">***</span> <span class="org-haskell-type">Exception:</span> <span class="org-haskell-operator">/</span>tmp<span class="org-haskell-operator">/</span>test<span class="org-haskell-operator">.</span>txt<span class="org-haskell-type">:</span> removeLink<span class="org-haskell-type">:</span> does not exist (<span class="org-haskell-type">No</span> such file or directory)
<span class="org-haskell-operator">&gt;</span> 

<span class="org-comment-delimiter">{-</span>
<span class="org-comment"> Given an executable file name, searches for such file in the</span>
<span class="org-comment"> directories listed in system PATH. The returned value is the path to</span>
<span class="org-comment"> the found executable or Nothing if an executable with the given name</span>
<span class="org-comment"> was not found. For example (findExecutable "ghc") gives you the path</span>
<span class="org-comment"> to GHC.</span>

<span class="org-comment">-}</span>

<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>findExecutable <span class="org-string">"java"</span>
<span class="org-haskell-constructor">Just</span> <span class="org-string">"/opt/bin/java"</span>
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>findExecutable <span class="org-string">"javac"</span>
<span class="org-haskell-constructor">Just</span> <span class="org-string">"/opt/java/bin/javac"</span>
<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>findExecutable <span class="org-string">"javaasdas"</span>
<span class="org-haskell-constructor">Nothing</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-comment-delimiter">{- </span>

<span class="org-comment">Given a file name, searches for the file and returns a list of all</span>
<span class="org-comment">occurences that are executable.</span>

<span class="org-comment">-}</span>

<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>findExecutables <span class="org-string">"java"</span>
[<span class="org-string">"/opt/bin/java"</span>,<span class="org-string">"/opt/bin/java"</span>,<span class="org-string">"/usr/bin/java"</span>,<span class="org-string">"/opt/java/bin/java"</span>]
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>findExecutables <span class="org-string">"ghci"</span>
[<span class="org-string">"/usr/bin/ghci"</span>]
<span class="org-haskell-operator">&gt;</span>

<span class="org-comment-delimiter">{- </span>

<span class="org-comment">Given a file name, searches for the file on the given paths and</span>
<span class="org-comment">returns a list of all occurences that are executable.</span>
<span class="org-comment">-}</span>

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t D.findFile
D<span class="org-haskell-definition">.</span>findFile <span class="org-haskell-operator">::</span> [<span class="org-haskell-type">FilePath</span>] <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">String</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> (<span class="org-haskell-type">Maybe</span> <span class="org-haskell-type">FilePath</span>)
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>findFiles [<span class="org-string">"/opt/bin"</span>, <span class="org-string">"/usr/bin"</span>]  <span class="org-string">"java"</span>
[<span class="org-string">"/opt/bin/java"</span>,<span class="org-string">"/usr/bin/java"</span>]
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>findFiles [<span class="org-string">"/opt/bin"</span>, <span class="org-string">"/usr/bin"</span>]  <span class="org-string">"jasadva"</span>
<span class="org-haskell-constructor">[]</span>

<span class="org-comment-delimiter">-- </span><span class="org-comment">The operation doesFileExist returns True if the argument file</span>
<span class="org-comment-delimiter">-- </span><span class="org-comment">exists and is not a directory, and False otherwise.</span>

<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>doesFileExist <span class="org-string">"/etc/fstab"</span>
<span class="org-haskell-constructor">True</span>
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>doesFileExist <span class="org-string">"/etc/fstaASDb"</span>
<span class="org-haskell-constructor">False</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-comment-delimiter">{-</span>
<span class="org-comment">The operation doesDirectoryExist returns True if the argument file</span>
<span class="org-comment">exists and is either a directory or a symbolic link to a directory,</span>
<span class="org-comment">and False otherwise.</span>

<span class="org-comment">-}</span>

<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>doesDirectoryExist <span class="org-string">"/etc"</span>
<span class="org-haskell-constructor">True</span>
<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>doesDirectoryExist <span class="org-string">"/etc/Dummy"</span>
<span class="org-haskell-constructor">False</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-comment-delimiter">-- </span><span class="org-comment">The getPermissions operation returns the permissions for the file or directory.</span>
<span class="org-comment-delimiter">--</span>

<span class="org-haskell-operator">&gt;</span> D<span class="org-haskell-definition">.</span>getPermissions <span class="org-string">"/etc/fstab"</span>
<span class="org-haskell-constructor">Permissions</span> {readable <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">True</span>, writable <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">False</span>, executable <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">False</span>, searchable <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">False</span>}
<span class="org-haskell-operator">&gt;</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5"><span class="section-number-3">1.5</span> System.Info</h3>
<div class="outline-text-3" id="text-1-5">
<ul class="org-ul">
<li><a href="https://hackage.haskell.org/package/base-4.8.2.0/docs/System-Info.html">Module Documentation</a>
</li>
</ul>

<p>
Information about the characteristics of the host system lucky enough
to run your program.
</p>

<div class="org-src-container">

<pre class="src src-haskell"><span class="org-haskell-operator">&gt;</span> <span class="org-haskell-keyword">import</span> <span class="org-haskell-keyword">qualified</span> <span class="org-haskell-constructor">System.Info</span> <span class="org-haskell-keyword">as</span> <span class="org-haskell-constructor">I</span>
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> I<span class="org-haskell-definition">.</span>os
<span class="org-string">"linux"</span>
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> I<span class="org-haskell-definition">.</span>arch
<span class="org-string">"i386"</span>
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> I<span class="org-haskell-definition">.</span>compilerName 
<span class="org-string">"ghc"</span>
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> I<span class="org-haskell-definition">.</span>compilerVersion 
<span class="org-haskell-constructor">Version</span> {versionBranch <span class="org-haskell-operator">=</span> [7,6], versionTags <span class="org-haskell-operator">=</span> <span class="org-haskell-constructor">[]</span>}
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t I.compilerVersion 
I<span class="org-haskell-definition">.</span>compilerVersion <span class="org-haskell-operator">::</span> <span class="org-haskell-type">Data.Version.Version</span>
<span class="org-haskell-operator">&gt;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-6" class="outline-3">
<h3 id="sec-1-6"><span class="section-number-3">1.6</span> System.Process</h3>
<div class="outline-text-3" id="text-1-6">
<ul class="org-ul">
<li><a href="https://hackage.haskell.org/package/process-1.4.2.0/docs/System-Process.html">Module Documentation</a> 
</li>
</ul>

<div class="org-src-container">

<pre class="src src-haskell"><span class="org-haskell-operator">&gt;</span> <span class="org-haskell-keyword">import</span> <span class="org-haskell-keyword">qualified</span> <span class="org-haskell-constructor">System.Process</span> <span class="org-haskell-keyword">as</span> <span class="org-haskell-constructor">P</span>
<span class="org-haskell-operator">&gt;</span> 


<span class="org-comment-delimiter">{-</span>
<span class="org-comment">Creates a new process to run the specified command with the given</span>
<span class="org-comment">arguments, and wait for it to finish. If the command returns a</span>
<span class="org-comment">non-zero exit code, an exception is raised.</span>

<span class="org-comment">-}</span>

<span class="org-haskell-operator">&gt;</span> P<span class="org-haskell-definition">.</span>callProcess <span class="org-string">"date"</span> <span class="org-haskell-constructor">[]</span>
<span class="org-haskell-constructor">Ter</span> <span class="org-haskell-constructor">Fev</span> 23 12<span class="org-haskell-constructor">:</span>29<span class="org-haskell-constructor">:</span>42 <span class="org-haskell-constructor">BRT</span> 2016
<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t P.callProcess <span class="org-string">"date"</span> <span class="org-haskell-constructor">[]</span>
P<span class="org-haskell-definition">.</span>callProcess <span class="org-string">"date"</span> <span class="org-haskell-constructor">[]</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">IO</span> <span class="org-haskell-constructor">()</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> P<span class="org-haskell-definition">.</span>callProcess <span class="org-string">"dadsfte"</span> <span class="org-haskell-constructor">[]</span>
 <span class="org-haskell-operator">***</span> <span class="org-haskell-type">Exception:</span> dadsfte<span class="org-haskell-type">:</span> callProcess<span class="org-haskell-type">:</span> runInteractiveProcess<span class="org-haskell-type">:</span> exec<span class="org-haskell-type">:</span> does not exist (<span class="org-haskell-type">No</span> such file or directory)
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> P<span class="org-haskell-definition">.</span>callProcess <span class="org-string">"uname"</span> [<span class="org-string">"-a"</span>]
<span class="org-haskell-constructor">Linux</span> tuxhorse 3.19<span class="org-haskell-operator">.</span>0<span class="org-haskell-operator">-</span>39<span class="org-haskell-operator">-</span>generic <span class="org-haskell-operator">#</span>44<span class="org-haskell-operator">-</span><span class="org-haskell-constructor">Ubuntu</span> <span class="org-haskell-constructor">SMP</span> <span class="org-haskell-constructor">Tue</span> <span class="org-haskell-constructor">Dec</span> 1 14<span class="org-haskell-constructor">:</span>38<span class="org-haskell-constructor">:</span>23 <span class="org-haskell-constructor">UTC</span> 2015 i686 i686 i686 <span class="org-haskell-constructor">GNU</span><span class="org-haskell-operator">/</span><span class="org-haskell-constructor">Linux</span>
<span class="org-haskell-operator">&gt;</span>

<span class="org-comment-delimiter">{-</span>
<span class="org-comment">Creates a new process to run the specified shell command. If the</span>
<span class="org-comment">command returns a non-zero exit code, an exception is raised.</span>
<span class="org-comment">-}</span>

<span class="org-haskell-operator">&gt;</span> P<span class="org-haskell-definition">.</span>callCommand <span class="org-string">"uname -a"</span>
<span class="org-haskell-constructor">Linux</span> tuxhorse 3.19<span class="org-haskell-operator">.</span>0<span class="org-haskell-operator">-</span>39<span class="org-haskell-operator">-</span>generic <span class="org-haskell-operator">#</span>44<span class="org-haskell-operator">-</span><span class="org-haskell-constructor">Ubuntu</span> <span class="org-haskell-constructor">SMP</span> <span class="org-haskell-constructor">Tue</span> <span class="org-haskell-constructor">Dec</span> 1 14<span class="org-haskell-constructor">:</span>38<span class="org-haskell-constructor">:</span>23 <span class="org-haskell-constructor">UTC</span> 2015 i686 i686 i686 <span class="org-haskell-constructor">GNU</span><span class="org-haskell-operator">/</span><span class="org-haskell-constructor">Linux</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t P.callCommand 
P<span class="org-haskell-definition">.</span>callCommand <span class="org-haskell-operator">::</span> <span class="org-haskell-type">String</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> <span class="org-haskell-constructor">()</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-comment-delimiter">{-  </span>
<span class="org-comment">readProcess forks an external process, reads its standard output</span>
<span class="org-comment">strictly, blocking until the process terminates, and returns the</span>
<span class="org-comment">output string. The external process inherits the standard error.</span>

<span class="org-comment">readProcess Source</span>
<span class="org-comment">  :: FilePath    Filename of the executable (see RawCommand for details)</span>
<span class="org-comment">  -&gt; [String]    any arguments</span>
<span class="org-comment">  -&gt; String          standard input</span>
<span class="org-comment">  -&gt; IO String   stdout</span>

<span class="org-comment">-}</span>

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-type">:</span>t P.readProcess
P<span class="org-haskell-definition">.</span>readProcess <span class="org-haskell-operator">::</span> <span class="org-haskell-type">FilePath</span> <span class="org-haskell-operator">-&gt;</span> [<span class="org-haskell-type">String</span>] <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">String</span> <span class="org-haskell-operator">-&gt;</span> <span class="org-haskell-type">IO</span> <span class="org-haskell-type">String</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> P<span class="org-haskell-definition">.</span>readProcess <span class="org-string">"uname"</span> [<span class="org-string">"-r"</span>] <span class="org-string">""</span>
<span class="org-string">"3.19.0-39-generic\n"</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> kernelVersion <span class="org-haskell-operator">&lt;-</span> P.readProcess <span class="org-string">"uname"</span> [<span class="org-string">"-r"</span>] <span class="org-string">""</span>
<span class="org-haskell-operator">&gt;</span> kernelVersion 
<span class="org-string">"3.19.0-39-generic\n"</span>
<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-constructor">:</span>t kernelVersion 
<span class="org-haskell-definition">kernelVersion</span> <span class="org-haskell-operator">::</span> <span class="org-haskell-type">String</span>
<span class="org-haskell-operator">&gt;</span> 

<span class="org-comment-delimiter">{-</span>
<span class="org-comment">readProcessWithExitCode Source</span>
<span class="org-comment">   :: FilePath                       Filename of the executable (see RawCommand for details)</span>
<span class="org-comment">   -&gt; [String]                       any arguments</span>
<span class="org-comment">   -&gt; String                         standard input</span>
<span class="org-comment">   -&gt; IO (ExitCode, String, String)      exitcode, stdout, stderr</span>
<span class="org-comment">-}</span>

<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> P<span class="org-haskell-definition">.</span>readProcessWithExitCode <span class="org-string">"uname"</span> [<span class="org-string">"-a"</span>] <span class="org-string">""</span>
(<span class="org-haskell-constructor">ExitSuccess</span>,<span class="org-string">"Linux tuxhorse 3.19.0-39-generic #44-Ubuntu SMP Tue Dec 1 14:38:23 UTC 2015 i686 i686 i686 GNU/Linux\n"</span>,<span class="org-string">""</span>)
<span class="org-haskell-operator">&gt;</span> 
<span class="org-haskell-operator">&gt;</span> P<span class="org-haskell-definition">.</span>readProcessWithExitCode <span class="org-string">"uname"</span> [<span class="org-string">"-x"</span>] <span class="org-string">""</span>
(<span class="org-haskell-constructor">ExitFailure</span> 1,<span class="org-string">""</span>,<span class="org-string">"uname: invalid option -- 'x'\nTry 'uname --help' for more information.\n"</span>)
<span class="org-haskell-operator">&gt;</span> 

<span class="org-haskell-operator">&gt;</span> P<span class="org-haskell-definition">.</span>readProcessWithExitCode <span class="org-string">"unasdame"</span> [<span class="org-string">"-x"</span>] <span class="org-string">""</span>
 <span class="org-haskell-operator">***</span> <span class="org-haskell-constructor">Exception:</span> unasdame<span class="org-haskell-constructor">:</span> readCreateProcessWithExitCode<span class="org-haskell-constructor">:</span> runInteractiveProcess<span class="org-haskell-constructor">:</span> exec<span class="org-haskell-constructor">:</span> does not exist (<span class="org-haskell-constructor">No</span> such file or directory)
<span class="org-haskell-operator">&gt;</span>
</pre>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: Caio Rodrigues</p>
<p class="date">Created: 2017-03-04 sÃ¡b 14:19</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.1.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>