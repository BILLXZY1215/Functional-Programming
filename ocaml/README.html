<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<title>Ocaml</title>
<!-- 2017-03-03 sex 16:51 -->
<meta  http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta  name="generator" content="Org-mode" />
<meta  name="author" content="arch" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center; }
  .todo   { font-family: monospace; color: red; }
  .done   { color: green; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  pre.src-sh:before    { content: 'sh'; }
  pre.src-bash:before  { content: 'sh'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-R:before     { content: 'R'; }
  pre.src-perl:before  { content: 'Perl'; }
  pre.src-java:before  { content: 'Java'; }
  pre.src-sql:before   { content: 'SQL'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.right  { text-align: center;  }
  th.left   { text-align: center;   }
  th.center { text-align: center; }
  td.right  { text-align: right;  }
  td.left   { text-align: left;   }
  td.center { text-align: center; }
  dt { font-weight: bold; }
  .footpara:nth-child(2) { display: inline; }
  .footpara { display: block; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  /*]]>*/-->
</style>
<link href='/theme/style.css' rel='stylesheet'>

<script type="text/javascript" src="/theme/org-info.js">
/**
 *
 * @source: /theme/org-info.js
 *
 * @licstart  The following is the entire license notice for the
 *  JavaScript code in /theme/org-info.js.
 *
 * Copyright (C) 2012-2013 Free Software Foundation, Inc.
 *
 *
 * The JavaScript code in this tag is free software: you can
 * redistribute it and/or modify it under the terms of the GNU
 * General Public License (GNU GPL) as published by the Free Software
 * Foundation, either version 3 of the License, or (at your option)
 * any later version.  The code is distributed WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS
 * FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.
 *
 * As additional permission under GNU GPL version 3 section 7, you
 * may distribute non-source (e.g., minimized or compacted) forms of
 * that code without the copy of the GNU GPL normally required by
 * section 4, provided you include this license notice and a URL
 * through which recipients can access the Corresponding Source.
 *
 * @licend  The above is the entire license notice
 * for the JavaScript code in /theme/org-info.js.
 *
 */
</script>

<script type="text/javascript">

/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/

<!--/*--><![CDATA[/*><!--*/
org_html_manager.set("TOC_DEPTH", "3");
org_html_manager.set("LINK_HOME", "");
org_html_manager.set("LINK_UP", "");
org_html_manager.set("LOCAL_TOC", "1");
org_html_manager.set("VIEW_BUTTONS", "0");
org_html_manager.set("MOUSE_HINT", "underline");
org_html_manager.set("FIXED_TOC", "0");
org_html_manager.set("TOC", "1");
org_html_manager.set("VIEW", "info");
org_html_manager.setup();  // activate after the parameters are set
/*]]>*///-->
</script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
</head>
<body>
<div id="content">
<h1 class="title">Ocaml</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. OCaml</a>
<ul>
<li><a href="#sec-1-1">1.1. Overview</a></li>
<li><a href="#sec-1-2">1.2. Setup</a></li>
<li><a href="#sec-1-3">1.3. Toolset</a></li>
<li><a href="#sec-1-4">1.4. Basic Syntax</a>
<ul>
<li><a href="#sec-1-4-1">1.4.1. Primitive Types</a></li>
<li><a href="#sec-1-4-2">1.4.2. Operators</a></li>
<li><a href="#sec-1-4-3">1.4.3. Variable Declaration</a></li>
<li><a href="#sec-1-4-4">1.4.4. Local Binding</a></li>
<li><a href="#sec-1-4-5">1.4.5. Polymorphic Functions</a></li>
<li><a href="#sec-1-4-6">1.4.6. Number Formats</a></li>
<li><a href="#sec-1-4-7">1.4.7. Math / Float Functions</a></li>
<li><a href="#sec-1-4-8">1.4.8. Function Declaration</a></li>
<li><a href="#sec-1-4-9">1.4.9. Function Composition</a></li>
<li><a href="#sec-1-4-10">1.4.10. Lambda Functions/ Anonymous Functions</a></li>
<li><a href="#sec-1-4-11">1.4.11. Recursive Functions</a></li>
<li><a href="#sec-1-4-12">1.4.12. Mutable References</a></li>
<li><a href="#sec-1-4-13">1.4.13. Control Structures</a></li>
</ul>
</li>
<li><a href="#sec-1-5">1.5. Standard (Native) Library Modules</a>
<ul>
<li><a href="#sec-1-5-1">1.5.1. List</a></li>
<li><a href="#sec-1-5-2">1.5.2. Array</a></li>
<li><a href="#sec-1-5-3">1.5.3. String</a></li>
<li><a href="#sec-1-5-4">1.5.4. Sys</a></li>
<li><a href="#sec-1-5-5">1.5.5. Filename</a></li>
<li><a href="#sec-1-5-6">1.5.6. Unix</a></li>
<li><a href="#sec-1-5-7">1.5.7. IO - Input / Output</a></li>
<li><a href="#sec-1-5-8">1.5.8. Type Casting</a></li>
</ul>
</li>
<li><a href="#sec-1-6">1.6. Algebraic Data Types and Pattern Matching</a>
<ul>
<li><a href="#sec-1-6-1">1.6.1. Overview</a></li>
<li><a href="#sec-1-6-2">1.6.2. Record Types</a></li>
<li><a href="#sec-1-6-3">1.6.3. Disjoint Union</a></li>
<li><a href="#sec-1-6-4">1.6.4. Agreggated Data types</a></li>
<li><a href="#sec-1-6-5">1.6.5. Pattern Matching</a></li>
<li><a href="#sec-1-6-6">1.6.6. Recursive Data Structures</a></li>
</ul>
</li>
<li><a href="#sec-1-7">1.7. Lazy Evaluation</a></li>
<li><a href="#sec-1-8">1.8. Foreign Function Interface FFI</a>
<ul>
<li><a href="#sec-1-8-1">1.8.1. Calling C Standard Library and Unix System Calls</a></li>
<li><a href="#sec-1-8-2">1.8.2. Calling Shared Libraries</a></li>
<li><a href="#sec-1-8-3">1.8.3. Finding Shared Libraries</a></li>
<li><a href="#sec-1-8-4">1.8.4. References</a></li>
</ul>
</li>
<li><a href="#sec-1-9">1.9. Module System</a>
<ul>
<li><a href="#sec-1-9-1">1.9.1. Overview</a></li>
<li><a href="#sec-1-9-2">1.9.2. Opening Modules</a></li>
<li><a href="#sec-1-9-3">1.9.3. Defining a module in the Toplevel</a></li>
<li><a href="#sec-1-9-4">1.9.4. Loading file as module in the toplevel</a></li>
<li><a href="#sec-1-9-5">1.9.5. Loading Libraries Modules</a></li>
<li><a href="#sec-1-9-6">1.9.6. Including Modules</a></li>
</ul>
</li>
<li><a href="#sec-1-10">1.10. Compiling</a>
<ul>
<li><a href="#sec-1-10-1">1.10.1. Compiling a single file</a></li>
<li><a href="#sec-1-10-2">1.10.2. Compiling a single File and a single Module</a></li>
<li><a href="#sec-1-10-3">1.10.3. See also</a></li>
</ul>
</li>
<li><a href="#sec-1-11">1.11. Creating Libraries, Modules and Compiling to Bytecode or Machine Code</a>
<ul>
<li><a href="#sec-1-11-1">1.11.1. Loading Files in Interactive Shell</a></li>
<li><a href="#sec-1-11-2">1.11.2. Compile Module to Bytecode</a></li>
</ul>
</li>
<li><a href="#sec-1-12">1.12. Batteries Standard Library</a>
<ul>
<li><a href="#sec-1-12-1">1.12.1. Batteries Modules</a></li>
</ul>
</li>
<li><a href="#sec-1-13">1.13. Miscellaneous</a>
<ul>
<li><a href="#sec-1-13-1">1.13.1. Changing Toploop Prompt</a></li>
<li><a href="#sec-1-13-2">1.13.2. Adding Directives to Toploop Shell</a></li>
<li><a href="#sec-1-13-3">1.13.3. Shell Script in Ocaml</a></li>
<li><a href="#sec-1-13-4">1.13.4. Debugging</a></li>
<li><a href="#sec-1-13-5">1.13.5. Generating OCaml html API Doc</a></li>
</ul>
</li>
<li><a href="#sec-1-14">1.14. Resources</a>
<ul>
<li><a href="#sec-1-14-1">1.14.1. Articles</a></li>
<li><a href="#sec-1-14-2">1.14.2. Links</a></li>
<li><a href="#sec-1-14-3">1.14.3. Books</a></li>
<li><a href="#sec-1-14-4">1.14.4. Community</a></li>
<li><a href="#sec-1-14-5">1.14.5. References By Subject</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> OCaml</h2>
<div class="outline-text-2" id="text-1">
</div><div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> Overview</h3>
<div class="outline-text-3" id="text-1-1">

<div class="figure">
<p><img src="images/ocamlogo.png" alt="ocamlogo.png" />
</p>
</div>

<p>
OCaml (Objective Categorical Abstract Machine Language) (formerly
known as Objective Caml) is the main implementation of the Caml
programming language, created by Xavier Leroy, Jérôme Vouillon, Damien
Doligez, Didier Rémy and others in 1996. OCaml is an open source
project managed and principally maintained by the French institute
INRIA. The Caml's toolset includes an interactive toplevel
interpreter, a bytecode compiler, and an optimizing native code
compiler.
</p>

<p>
<b>Features</b>
</p>

<ul class="org-ul">
<li>Strong Static Type  - Type Safety
</li>
<li>Type Inference      - The compiler infers the types for you, you don't need to write all the types;
</li>
<li>Curried Functions   - Allows to create and functions on the fly.
</li>
<li>Strict Evaluation by default
</li>
<li>Optional Lazy Evaluation
</li>
<li>Multi Paradigm      - Functional, Imperative and Object Orientated
</li>
<li>Compiled and Interpreted - It allows iteractive development and debugging.
<ul class="org-ul">
<li>Compiles to natve code and bytecode
</li>
</ul>
</li>
<li>Algebraic Data Types
</li>
<li>Pattern Matching
</li>
</ul>

<p>
<b>History</b>
</p>

<ul class="org-ul">
<li>ML: Meta Language
<ul class="org-ul">
<li>1973, University of Edinburg
</li>
<li>Used to program search tactics in LCF theorem prover
</li>
</ul>
</li>

<li>SML: Standard ML
<ul class="org-ul">
<li>1990, Princeton University
</li>
</ul>
</li>

<li>OCaml
<ul class="org-ul">
<li>1996, INRIA
</li>
</ul>
</li>
</ul>

<p>
<b>Ocaml Shell Online</b>
</p>

<p>
You Can try OCaml online in:
</p>

<ul class="org-ul">
<li><a href="http://ocsigen.org/js_of_ocaml/dev/files/toplevel/index.html">OCsigen - JS of Ocaml Toploop</a>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> Setup</h3>
<div class="outline-text-3" id="text-1-2">
<p>
Ocaml installer, packages and releases:
</p>
<ul class="org-ul">
<li><a href="http://caml.inria.fr/ocaml/release.en.html">http://caml.inria.fr/ocaml/release.en.html</a>
</li>

<li><a href="https://github.com/OCamlPro/ocpwin-distrib">OCamlPro's version of OCaml on Windows</a>
</li>
</ul>

<p>
<b>Linux</b>
</p>

<p>
Ubuntu:
</p>

<p>
Show all OCaml packages available.
</p>
<div class="org-src-container">

<pre class="src src-bash">$ apt-cache search ocaml
</pre>
</div>

<div class="org-src-container">

<pre class="src src-bash">sudo apt-get install curl build-essential
sudo apt-get install ocaml opam ocaml-native-compilers m4
</pre>
</div>

<p>
Arch Linux:
</p>
<pre class="example">
$ yaourt -s ocaml
</pre>

<p>
Gentoo:
</p>
<pre class="example">
$ emerge ocaml
</pre>

<p>
Fedora
</p>
<pre class="example">
$ su - -c "yum install ocaml"
</pre>

<p>
Install Utop, Core library and Batteries library
</p>

<pre class="example">
opam update
opam install utop core batteries
</pre>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> Toolset</h3>
<div class="outline-text-3" id="text-1-3">
<p>
See also: <a href="https://github.com/OCamlPro/ocaml-cheat-sheets">https://github.com/OCamlPro/ocaml-cheat-sheets</a>
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Program</th>
<th scope="col" class="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">ocaml</td>
<td class="left">toplevel loop  / Interactive Shell</td>
</tr>

<tr>
<td class="left">ocamlrun</td>
<td class="left">bytecode interpreter</td>
</tr>

<tr>
<td class="left">ocamlc</td>
<td class="left">bytecode batch compiler</td>
</tr>

<tr>
<td class="left">ocamlopt</td>
<td class="left">native code batch compiler</td>
</tr>

<tr>
<td class="left">ocamlc.opt</td>
<td class="left">optimized bytecode batch compiler</td>
</tr>

<tr>
<td class="left">ocamlopt.opt</td>
<td class="left">optimized native code batch compiler</td>
</tr>

<tr>
<td class="left">ocamlmktop</td>
<td class="left">new toplevel constructor</td>
</tr>

<tr>
<td class="left">ocamldoc</td>
<td class="left">Generate documentation for source files in HTML/ LaTex / man pages</td>
</tr>

<tr>
<td class="left">ocamlfind</td>
<td class="left">Find OCaml packages installed</td>
</tr>

<tr>
<td class="left">opam</td>
<td class="left">Package manager for OCaml</td>
</tr>

<tr>
<td class="left">utop[optional]</td>
<td class="left">Improved interactive shell</td>
</tr>
</tbody>
</table>


<pre class="example">
Purpose             C       Bytecode    Native code
Source code         *.c     *.ml        *.ml
Header files1       *.h     *.mli       *.mli
Object files        *.o     *.cmo       *.cmx2
Library files       *.a     *.cma       *.cmxa3
Binary programs     prog    prog        prog.opt4
</pre>

<p>
Standard Libraries:
</p>

<ul class="org-ul">
<li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/">Native Library</a>
</li>

<li><a href="https://ocaml.janestreet.com/ocaml-core/111.17.00/doc/core/">Core</a> - Jane Street Capital's Standard
</li>
<li><a href="https://github.com/janestreet/core_kernel">https://github.com/janestreet/core_kernel</a>
</li>
</ul>

<p>
Library
</p>

<ul class="org-ul">
<li><a href="http://batteries.forge.ocamlcore.org/">Batteries</a> - Maintained by community
</li>
</ul>

<p>
Linux:
</p>

<pre class="example">
$ apropos ocaml
Callback (3o)        - Registering OCaml values with the C runtime.
Lexing (3o)          - The run-time library for lexers generated by ocamllex.
ocaml (1)            - The OCaml interactive toplevel
ocaml.m4 (1)         - Autoconf macros for OCaml
ocamlbuild (1)       - The OCaml project compilation tool
ocamlbuild.byte (1)  - The OCaml project compilation tool
ocamlbuild.native (1) - The OCaml project compilation tool
ocamlc (1)           - The OCaml bytecode compiler
ocamlcp (1)          - The OCaml profiling compilers
ocamldebug (1)       - the OCaml source-level replay debugger.
ocamldep (1)         - Dependency generator for OCaml
ocamldoc (1)         - The OCaml documentation generator
ocamldot (1)         - generate dependency graphs of ocaml programs
ocamldumpobj (1)     - disassembler for OCaml executable and .cmo object files
ocamllex (1)         - The OCaml lexer generator
ocamlmklib (1)       - generate libraries with mixed C / Caml code.
ocamlmktop (1)       - Building custom toplevel systems
ocamlobjinfo (1)     - dump information about OCaml compiled objects
ocamlopt (1)         - The OCaml native-code compiler
ocamloptp (1)        - The OCaml profiling compilers
ocamlprof (1)        - The OCaml profiler
ocamlrun (1)         - The OCaml bytecode interpreter
ocamlyacc (1)        - The OCaml parser generator
opam (1)             - source-based OCaml package management
Parsing (3o)         - The run-time library for parsers generated by ocamlyacc.

$ whereis ocaml
ocaml: /usr/bin/ocaml /usr/lib/ocaml /usr/bin/X11/ocaml
/usr/local/lib/ocaml /usr/share/man/man1/ocaml.1.gz
</pre>

<p>
Extension Files:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">Extension</th>
<th scope="col" class="left">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">.ml</td>
<td class="left">source file</td>
</tr>

<tr>
<td class="left">.mli</td>
<td class="left">interface file</td>
</tr>

<tr>
<td class="left">.cmo</td>
<td class="left">object file (bytecode)</td>
</tr>

<tr>
<td class="left">.cma</td>
<td class="left">library object file (bytecode)</td>
</tr>

<tr>
<td class="left">.cmi</td>
<td class="left">compiled interface file</td>
</tr>

<tr>
<td class="left">.cmx</td>
<td class="left">object file (native)</td>
</tr>

<tr>
<td class="left">.cmxa</td>
<td class="left">library object file (native)</td>
</tr>

<tr>
<td class="left">.c</td>
<td class="left">C source file</td>
</tr>

<tr>
<td class="left">.o</td>
<td class="left">C object file (native)</td>
</tr>

<tr>
<td class="left">.a</td>
<td class="left">C library object file (native)</td>
</tr>
</tbody>
</table>
</div>



<ol class="org-ol"><li><a id="sec-1-3-0-1" name="sec-1-3-0-1"></a>OCAML Interactive Shell<br  /><div class="outline-text-5" id="text-1-3-0-1">
<pre class="example">
$ rlwrap -m -c -r -H ../history.ml -f ../completion.txt ocaml
</pre>

<p>
OCAML Directives
</p>

<p>
Read, compile and execute source phrases from the given file. This is textual inclusion: phrases are processed just as if they were typed on standard input. The reading of the file stops at the first error encountered.
</p>

<pre class="example">
#use "whatever.ml";;
</pre>

<p>
Load in memory a bytecode object file (.cmo file) or library file (.cma file) produced by the batch compiler ocamlc.
</p>

<pre class="example">
#load "file-name";;
</pre>

<p>
Add the given directory to the list of directories searched for source and compiled files.
</p>

<pre class="example">
#directory "dir-name";;
</pre>

<p>
Change the current working directory.
</p>

<pre class="example">
#cd "dir-name";;
</pre>

<p>
Exit the toplevel loop and terminate the ocaml command.
</p>

<pre class="example">
#quit;;
</pre>

<p>
Source:
</p>

<p>
<a href="http://caml.inria.fr/pub/docs/manual-ocaml-4.00/manual023.html#toc91">OCaml Manual</a>
</p>
</div>
</li>

<li><a id="sec-1-3-0-2" name="sec-1-3-0-2"></a>UTOP Interactive Shell<br  /><div class="outline-text-5" id="text-1-3-0-2">
<p>
Install Utop:
</p>

<pre class="example">
# opam install utop
</pre>


<div class="figure">
<p><img src="images/utopshell.png" alt="utopshell.png" />
</p>
</div>

<p>
<b>Show UTOP help</b>
</p>

<div class="org-src-container">

<pre class="src src-ocaml">utop <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>utop_help<span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">If</span> you can't see the prompt properly <span class="org-keyword">try</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">#</span>utop_prompt_simple                                                                                                                               utop defines the following directives<span class="org-tuareg-font-lock-operator">:</span>

<span class="org-tuareg-font-lock-operator">#</span>utop_bindings   <span class="org-tuareg-font-lock-operator">:</span> list all the current key bindings
<span class="org-tuareg-font-lock-operator">#</span>utop_macro      <span class="org-tuareg-font-lock-operator">:</span> display the currently recorded macro
<span class="org-tuareg-font-lock-operator">#</span>topfind_log     <span class="org-tuareg-font-lock-operator">:</span> display messages recorded from findlib since the beginning <span class="org-keyword">of</span> the session
<span class="org-tuareg-font-lock-operator">#</span>topfind_verbose <span class="org-tuareg-font-lock-operator">:</span> enable<span class="org-tuareg-font-lock-operator">/</span>disable topfind verbosity
<span class="org-tuareg-font-lock-constructor">For</span> a complete description <span class="org-keyword">of</span> utop<span class="org-tuareg-font-lock-operator">,</span> look at the utop<span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">)</span> manual page.
</pre>
</div>

<p>
Note: Those commands below also works in the native ocaml interpreter (ocaml).
</p>

<p>
<b>Load a library</b>
</p>

<div class="org-src-container">

<pre class="src src-ocaml">utop <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>use <span class="org-string">"topfind"</span><span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>                                                                                 <span class="org-tuareg-font-lock-constructor">Findlib</span> has been successfully loaded. <span class="org-tuareg-font-lock-constructor">Additional</span> directives<span class="org-tuareg-font-lock-operator">:</span>                                    <span class="org-tuareg-font-lock-operator">#</span>require <span class="org-string">"package"</span><span class="org-tuareg-font-double-colon">;;</span>      <span class="org-keyword">to</span> load a package
  <span class="org-tuareg-font-lock-operator">#</span>list<span class="org-tuareg-font-double-colon">;;</span>                   <span class="org-keyword">to</span> list the available packages
  <span class="org-tuareg-font-lock-operator">#</span>camlp4o<span class="org-tuareg-font-double-colon">;;</span>                <span class="org-keyword">to</span> load camlp4 <span class="org-tuareg-font-lock-operator">(</span>standard syntax<span class="org-tuareg-font-lock-operator">)</span>
  <span class="org-tuareg-font-lock-operator">#</span>camlp4r<span class="org-tuareg-font-double-colon">;;</span>                <span class="org-keyword">to</span> load camlp4 <span class="org-tuareg-font-lock-operator">(</span>revised syntax<span class="org-tuareg-font-lock-operator">)</span>
  <span class="org-tuareg-font-lock-operator">#</span>predicates <span class="org-string">"p,q,..."</span><span class="org-tuareg-font-double-colon">;;</span>   <span class="org-keyword">to</span> set these predicates
  <span class="org-tuareg-font-lock-module">Topfind.</span>reset<span class="org-tuareg-font-lock-operator">()</span><span class="org-tuareg-font-double-colon">;;</span>         <span class="org-keyword">to</span> force that packages will be reloaded
  <span class="org-tuareg-font-lock-operator">#</span>thread<span class="org-tuareg-font-double-colon">;;</span>                 <span class="org-keyword">to</span> enable threads

<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
</pre>
</div>

<p>
<b>List Installed Packages</b>
</p>

<div class="org-src-container">

<pre class="src src-ocaml">utop <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>list <span class="org-tuareg-font-double-colon">;;</span>
archimedes          <span class="org-tuareg-font-lock-operator">(</span>version<span class="org-tuareg-font-lock-operator">:</span> 0.4.17<span class="org-tuareg-font-lock-operator">)</span> archimedes.graphics <span class="org-tuareg-font-lock-operator">(</span>version<span class="org-tuareg-font-lock-operator">:</span> 0.4.17<span class="org-tuareg-font-lock-operator">)</span>                                  archimedes.internals <span class="org-tuareg-font-lock-operator">(</span>version<span class="org-tuareg-font-lock-operator">:</span> 0.4.17<span class="org-tuareg-font-lock-operator">)</span>
archimedes.top      <span class="org-tuareg-font-lock-operator">(</span>version<span class="org-tuareg-font-lock-operator">:</span> 0.4.17<span class="org-tuareg-font-lock-operator">)</span>
batteries           <span class="org-tuareg-font-lock-operator">(</span>version<span class="org-tuareg-font-lock-operator">:</span> 2.3<span class="org-tuareg-font-lock-operator">)</span>
bigarray            <span class="org-tuareg-font-lock-operator">(</span>version<span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">[</span>distributed <span class="org-keyword">with</span> <span class="org-tuareg-font-lock-constructor">Ocaml</span><span class="org-tuareg-font-lock-operator">])</span>
bin_prot            <span class="org-tuareg-font-lock-operator">(</span>version<span class="org-tuareg-font-lock-operator">:</span> 111.03.00<span class="org-tuareg-font-lock-operator">)</span>
<span class="org-tuareg-font-lock-operator">...</span>
</pre>
</div>


<p>
<b>Load Installed OCaml Packages</b>
</p>

<pre class="example">
utop # #require "batteries";;
utop # #require "gnuplot";;
</pre>

<p>
<b>Show UTOP Key Bindings</b>
</p>

<div class="org-src-container">

<pre class="src src-ocaml">utop <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>utop_bindings<span class="org-tuareg-font-double-colon">;;</span>
enter       <span class="org-tuareg-font-lock-operator">:</span> accept                        <span class="org-tuareg-font-lock-operator">-&gt;</span> accept the current input.                                  escape      <span class="org-tuareg-font-lock-operator">:</span> cancel<span class="org-tuareg-font-lock-operator">-</span>search                 <span class="org-tuareg-font-lock-operator">-&gt;</span> cancel search mode.                                        tab         <span class="org-tuareg-font-lock-operator">:</span> complete                      <span class="org-tuareg-font-lock-operator">-&gt;</span> complete current input.
up          <span class="org-tuareg-font-lock-operator">:</span> history<span class="org-tuareg-font-lock-operator">-</span>prev                  <span class="org-tuareg-font-lock-operator">-&gt;</span> go <span class="org-keyword">to</span> the previous entry <span class="org-keyword">of</span> the history.
down        <span class="org-tuareg-font-lock-operator">:</span> history<span class="org-tuareg-font-lock-operator">-</span>next                  <span class="org-tuareg-font-lock-operator">-&gt;</span> go <span class="org-keyword">to</span> the next entry <span class="org-keyword">of</span> the history.
<span class="org-tuareg-font-lock-operator">...</span>
</pre>
</div>

<p>
<b>Load ML file, source code</b>
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>use <span class="org-string">"text.ml"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">split_lines</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">split_space</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">split_delim</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">add_prefix</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">add_suffix</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span>  split_space <span class="org-string">"Hello world ocaml"</span> <span class="org-tuareg-font-double-colon">;;</span> 
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"Hello"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"world"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"ocaml"</span><span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">#</span>
</pre>
</div>

<p>
<b>Load ML file as module</b>
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>mod_use <span class="org-string">"text.ml"</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">Text</span> <span class="org-tuareg-font-lock-operator">:</span>
    <span class="org-tuareg-font-lock-governing">sig</span>
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">split_lines</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">split_space</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">split_delim</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">add_prefix</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">add_suffix</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">end</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Text.</span>split_space <span class="org-string">"Hello world ocaml"</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"Hello"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"world"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"ocaml"</span><span class="org-tuareg-font-lock-operator">]</span>
  <span class="org-tuareg-font-lock-operator">#</span>
</pre>
</div>

<p>
<b>Show a Module Sinature</b>
</p>

<p>
(Ocaml version &gt;= 4.2)
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>show <span class="org-tuareg-font-lock-constructor">Filename</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">Filename</span> <span class="org-tuareg-font-lock-operator">:</span>
  <span class="org-tuareg-font-lock-governing">sig</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">current_dir_name</span> <span class="org-tuareg-font-lock-operator">:</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">parent_dir_name</span> <span class="org-tuareg-font-lock-operator">:</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">dir_sep</span> <span class="org-tuareg-font-lock-operator">:</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">concat</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">is_relative</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">is_implicit</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">check_suffix</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">chop_suffix</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">chop_extension</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">basename</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">dirname</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">temp_file</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">?temp_dir</span><span class="org-tuareg-font-lock-operator">:</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">open_temp_file</span> <span class="org-tuareg-font-lock-operator">:</span>
      <span class="org-tuareg-font-lock-label">?mode</span><span class="org-tuareg-font-lock-operator">:</span>open_flag list <span class="org-tuareg-font-lock-operator">-&gt;</span>
      <span class="org-tuareg-font-lock-label">?temp_dir</span><span class="org-tuareg-font-lock-operator">:</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">*</span> out_channel
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">get_temp_dir_name</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">set_temp_dir_name</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">temp_dir_name</span> <span class="org-tuareg-font-lock-operator">:</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">quote</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
  <span class="org-tuareg-font-lock-governing">end</span>
<span class="org-tuareg-font-lock-operator">#</span>
</pre>
</div>
</div>
</li>

<li><a id="sec-1-3-0-3" name="sec-1-3-0-3"></a>OCaml Browser<br  /><div class="outline-text-5" id="text-1-3-0-3">
<p>
Browser OCaml Type Signatures.
</p>

<pre class="example">
$ ocamlfind browser -all
$ ocamlfind ocamlbrowser -package core
$ ocamlfind browser -package batterie
</pre>


<div class="figure">
<p><img src="images/ocamlbrowser.png" alt="ocamlbrowser.png" />
</p>
</div>

<ul class="org-ul">
<li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/browser.html">http://caml.inria.fr/pub/docs/manual-ocaml/browser.html</a>
</li>
</ul>
</div>
</li>

<li><a id="sec-1-3-0-4" name="sec-1-3-0-4"></a>Troubleshooting<br  /><div class="outline-text-5" id="text-1-3-0-4">
<p>
Finding the version of Ocaml and Opam
</p>

<div class="org-src-container">

<pre class="src src-bash">$ ocaml -version
The OCaml toplevel, version 4.01.0

$ opam --version
1.2.2

$ ocamlc -v
The OCaml compiler, version 4.01.0
Standard library directory: /usr/lib/ocaml

$ ocamlopt -v
The OCaml native-code compiler, version 4.01.0
Standard library directory: /usr/lib/ocaml

$ utop -version
The universal toplevel for OCaml, version 1.17, compiled for OCaml version 4.01.0
</pre>
</div>

<p>
Get information about compiled files:
</p>

<pre class="example">
$ ocamlobjinfo seq.cmo
File seq.cmo
Unit name: Seq
Interfaces imported:
    54ba2685e6ed154753718e9c8becb28b    String
    6e0efdddf4b33e30be4cc8ff056b56ff    Seq
    4836c254f0eacad92fbf67abc525fdda    Pervasives
Uses unsafe features: no
Force link: no


$ ocamlobjinfo seq.cma
File seq.cma
Force custom: no
Extra C object files:
Extra C options:
Extra dynamically-loaded libraries:
Unit name: Seq
Interfaces imported:
    54ba2685e6ed154753718e9c8becb28b    String
    4387952f7aad2695faf187cd3feeb5e5    Seq
    4836c254f0eacad92fbf67abc525fdda    Pervasives
Uses unsafe features: no
Force link: no


$ ocamlobjinfo seq.cmi
File seq.cmi
Unit name: Seq
Interfaces imported:
    4387952f7aad2695faf187cd3feeb5e5    Seq
    4836c254f0eacad92fbf67abc525fdda    Pervasives
</pre>
</div>
</li>

<li><a id="sec-1-3-0-5" name="sec-1-3-0-5"></a>Opam Package Manager<br  /><div class="outline-text-5" id="text-1-3-0-5">
<p>
Opam Version
</p>

<pre class="example">
$ opam --version
1.2.2
</pre>

<p>
List Installed Versions of OCaml compilers:
</p>

<pre class="example">
$ opam switch list
--     -- 3.11.2             Official 3.11.2 release
--     -- 3.12.1             Official 3.12.1 release
--     -- 4.00.0             Official 4.00.0 release
--     -- 4.00.1             Official 4.00.1 release
4.01.0  C 4.01.0             Official 4.01.0 release
--     -- 4.02.0             Official 4.02.0 release
4.02.1  I 4.02.1             Official 4.02.1 release
--     -- ocamljava-preview
doc     I system             System compiler (4.00.1)
 # 111 more patched or experimental compilers, use '--all' to show
</pre>

<p>
Switch to a ocaml version 4.02.1:
</p>

<pre class="example">
$ opam switch 4.02.1
 # To setup the new switch in the current shell, you need to run:
eval `opam config env`
</pre>

<p>
Search Packages
</p>

<pre class="example">
$ opam search core
 * Existing packages for 4.01.0:
async               --  Monadic concurrency library
async_core          --  Monadic concurrency library
async_extended      --  Additional utilities for async
...
</pre>

<p>
Install Packages
</p>

<pre class="example">
opam install lablgtk ocamlfind
</pre>

<p>
Upgrade Packages
</p>

<pre class="example">
$ opam upgrade
</pre>

<p>
Show all Installed Packages
</p>

<pre class="example">
$  ocamlfind list
archimedes          (version: 0.4.17)
archimedes.graphics (version: 0.4.17)
archimedes.internals (version: 0.4.17)
archimedes.top      (version: 0.4.17)
batteries           (version: 2.3)
bigarray            (version: [distributed with Ocaml])
bin_prot            (version: 111.03.00)
bin_prot.syntax     (version: 111.03.00)
bytes               (version: [OCaml strictly before 4.02])
camlp4              (version: [distributed with Ocaml])
camlp4.exceptiontracer (version: [distributed with Ocaml])
camlp4.extend       (version: [distributed with Ocaml])
camlp4.foldgenerator (version: [distributed with Ocaml])
..
</pre>

<p>
Finding Opam Settings
</p>

<div class="org-src-container">

<pre class="src src-bash">$ opam config list
 # Global OPAM configuration variables

user                 tux
group                tux
make                 make
os                   linux
root                 /home/tux/.opam
prefix               /home/tux/.opam/system
lib                  /home/tux/.opam/system/lib
bin                  /home/tux/.opam/system/bin
sbin                 /home/tux/.opam/system/sbin
doc                  /home/tux/.opam/system/doc
stublibs             /home/tux/.opam/system/lib/stublibs
toplevel             /home/tux/.opam/system/lib/toplevel
man                  /home/tux/.opam/system/man
share                /home/tux/.opam/system/share
etc                  /home/tux/.opam/system/etc

 # Global variables from the environment

ocaml-version        4.01.0     # The version of the currently used OCaml compiler
opam-version         1.2.2      # The currently running OPAM version
compiler             system     # The name of the current OCaml compiler (may be more specific than the version, eg: "4.01.0+fp", or "system")
preinstalled         true       # Whether the compiler was preinstalled on the system, or installed by OPAM
switch               system     # The local name (alias) of the current switch
jobs                 1          # The number of parallel jobs set up in OPAM configuration
ocaml-native         true       # Whether the OCaml native compilers are available
ocaml-native-tools   false      # Whether the native ".opt" version of the OCaml toolchain is available
ocaml-native-dynlink true       # Whether native dynlink is available on this installation
arch                 i686       # The current arch, as returned by "uname -m"

 # Package variables ('opam config list PKG' to show)

PKG:name         # Name of the package
PKG:version      # Version of the package
PKG:depends      # Resolved direct dependencies of the package
PKG:installed    # Whether the package is installed
PKG:enable       # Takes the value "enable" or "disable" depending on whether the package is installed
PKG:pinned       # Whether the package is pinned
PKG:bin          # Binary directory for this package
PKG:sbin         # System binary directory for this package
PKG:lib          # Library directory for this package
PKG:man          # Man directory for this package
PKG:doc          # Doc directory for this package
PKG:share        # Share directory for this package
PKG:etc          # Etc directory for this package
PKG:build        # Directory where the package was built
PKG:hash         # Hash of the package archive
</pre>
</div>

<p>
Filter Installed Packages
</p>

<pre class="example">
$ ocamlfind list | grep -i core
cohttp.lwt-core     (version: 0.17.1)
core                (version: 111.28.01)
core.syntax         (version: 109.32.00)
core.top            (version: 111.28.01)
core_kernel         (version: 111.28.00)
core_kernel.check_caml_modify (version: 111.28.00)
core_kernel.raise_without_backtrace (version: 111.28.00)
netmulticore        (version: 4.0.2)
num.core            (version: [internal])

$ ocamlfind list | grep -i batteries
batteries           (version: 2.3
</pre>
</div>
</li>

<li><a id="sec-1-3-0-6" name="sec-1-3-0-6"></a>Misc<br  /><div class="outline-text-5" id="text-1-3-0-6">
<p>
Create .mli file from .ml files. The command bellow creates context.mli from context.ml
</p>
<pre class="example">
$ ocamlc -i -c context.ml &gt; context.mli
</pre>

<p>
Custom Top Level Interpreter with preload libraries:
</p>

<pre class="example">
$ ocamlmktop -custom -o mytoplevel graphics.cma -cclib -lX11
./mytoplevel
</pre>
</div>
</li></ol>
</div>

<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4"><span class="section-number-3">1.4</span> Basic Syntax</h3>
<div class="outline-text-3" id="text-1-4">
<p>
This section describes the OCaml native library and <a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html">Pervasives module</a>.
</p>

<p>
Escape Characters:
</p>

<pre class="example">
Sequence  ASCII     Name
\\        \         Backlash
\"        "         Double Quote
\'        '         Double Quote
\n        LF        Line Feed
\r        CR        Carriage Return
\t        TAB       Horizontal tabulation
\b        BS        Backspace
'\ '      SPC       Space
\nnnn     nnn       Decimal Code of Acii Character
\xhhh     xhh       Hexadecimal Code of Ascii Character
</pre>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">#</span> <span class="org-string">'\\'</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">'\\'</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-string">'\ '</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">' '</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-string">'\"'</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">'"'</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-string">'\r'</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">'\r'</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-string">'\n'</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">'\n'</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-string">'\t'</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">'\t'</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-string">'\ '</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">' '</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-string">'\098'</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">'b'</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-string">'\x21'</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">'!'</span>
</pre>
</div>
</div>


<div id="outline-container-sec-1-4-1" class="outline-4">
<h4 id="sec-1-4-1"><span class="section-number-4">1.4.1</span> Primitive Types</h4>
<div class="outline-text-4" id="text-1-4-1">
<div class="org-src-container">

<pre class="src src-ocaml">$ ocaml
        <span class="org-tuareg-font-lock-constructor">OCaml</span> version 4.01.0

    <span class="org-comment-delimiter">(* </span><span class="org-comment">Boolean          </span><span class="org-comment-delimiter">*)</span>
    <span class="org-comment-delimiter">(*</span><span class="org-comment">------------------</span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-constant">true</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-constant">false</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span>
    <span class="org-tuareg-font-lock-operator">#</span>

    <span class="org-comment-delimiter">(* </span><span class="org-comment">Int              </span><span class="org-comment-delimiter">*)</span>
    <span class="org-comment-delimiter">(*</span><span class="org-comment">--------------------</span>
<span class="org-comment">     *      32 bits  signed int in 32 bits machines</span>
<span class="org-comment">     *      64 bits  signed int in 64 bits machines</span>
<span class="org-comment">     </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">#</span> 1000 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1000

    <span class="org-comment-delimiter">(* </span><span class="org-comment">Binary  int </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">#</span> 0b1000111011 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 571

    <span class="org-comment-delimiter">(* </span><span class="org-comment">Hexadecimal int </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">#</span> 0xf0057a3 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 251680675

    <span class="org-comment-delimiter">(* </span><span class="org-comment">octal int </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">#</span> 0o73456 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 30510

    <span class="org-comment-delimiter">(* </span><span class="org-comment">Floats                   </span><span class="org-comment-delimiter">*)</span>
    <span class="org-comment-delimiter">(* </span><span class="org-comment">------------------------ </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">#</span> 3.23e3 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 3230.
    <span class="org-tuareg-font-lock-operator">#</span> 34.2E<span class="org-tuareg-font-lock-operator">-</span>5 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 0.000342
    <span class="org-tuareg-font-lock-operator">#</span> 232. <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 232.
    <span class="org-tuareg-font-lock-operator">#</span>

    <span class="org-comment-delimiter">(* </span><span class="org-comment">Char                     </span><span class="org-comment-delimiter">*)</span>
    <span class="org-comment-delimiter">(* </span><span class="org-comment">------------------------ </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-string">'a'</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">'a'</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-string">'\n'</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">'\n'</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-string">'\232'</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">'\232'</span>


    <span class="org-comment-delimiter">(* </span><span class="org-comment">String                         </span><span class="org-comment-delimiter">*)</span>
    <span class="org-comment-delimiter">(* </span><span class="org-comment">------------------------------- </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-string">"Hello world OCaml"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Hello world OCaml"</span>
    <span class="org-tuareg-font-lock-operator">#</span>

    <span class="org-comment-delimiter">(* </span><span class="org-comment">Tuples                            </span><span class="org-comment-delimiter">*)</span>
    <span class="org-comment-delimiter">(* </span><span class="org-comment">----------------------------------</span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-string">"Hello world OCaml"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Hello world OCaml"</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(</span>10<span class="org-tuareg-font-lock-operator">,</span> 203.2322<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">*</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span>10<span class="org-tuareg-font-lock-operator">,</span> 203.2322<span class="org-tuareg-font-lock-operator">)</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">"hello"</span><span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'w'</span><span class="org-tuareg-font-lock-operator">,</span> 10 <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">*</span> char <span class="org-tuareg-font-lock-operator">*</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">"hello"</span><span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'w'</span><span class="org-tuareg-font-lock-operator">,</span> 10<span class="org-tuareg-font-lock-operator">)</span>
    <span class="org-tuareg-font-lock-operator">#</span>

    <span class="org-comment-delimiter">(* </span><span class="org-comment">Lists / Are immutable data structure   </span><span class="org-comment-delimiter">*)</span>
    <span class="org-comment-delimiter">(*</span><span class="org-comment">----------------------------------------</span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">]</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"hello"</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"world"</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"ocaml"</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"F#"</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"Haskell"</span> <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"hello"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"world"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"ocaml"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"F#"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"Haskell"</span><span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">[</span>10. <span class="org-tuareg-font-lock-operator">;</span> 2.323 <span class="org-tuareg-font-lock-operator">;</span> 29.232 <span class="org-tuareg-font-lock-operator">;</span> 100.597 <span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">-</span>23.3 <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>10.<span class="org-tuareg-font-lock-operator">;</span> 2.323<span class="org-tuareg-font-lock-operator">;</span> 29.232<span class="org-tuareg-font-lock-operator">;</span> 100.597<span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">-</span>23.3<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">[(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">)]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">*</span> char<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">)]</span>
    <span class="org-tuareg-font-lock-operator">#</span>

    <span class="org-comment-delimiter">(* </span><span class="org-comment">Arrays / Mutable data structures  </span><span class="org-comment-delimiter">*)</span>
    <span class="org-comment-delimiter">(* </span><span class="org-comment">--------------------------------- </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">[|</span>23<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">;</span> 80<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 50 <span class="org-tuareg-font-lock-operator">|]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|</span>23<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">;</span> 80<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">|]</span>

     <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">[|</span>123.23<span class="org-tuareg-font-lock-operator">;</span> 10.23<span class="org-tuareg-font-lock-operator">;</span> 50.53<span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">-</span>80.23<span class="org-tuareg-font-lock-operator">;</span> 30.9734<span class="org-tuareg-font-lock-operator">;</span> 50.25 <span class="org-tuareg-font-lock-operator">|]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|</span>123.23<span class="org-tuareg-font-lock-operator">;</span> 10.23<span class="org-tuareg-font-lock-operator">;</span> 50.53<span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">-</span>80.23<span class="org-tuareg-font-lock-operator">;</span> 30.9734<span class="org-tuareg-font-lock-operator">;</span> 50.25<span class="org-tuareg-font-lock-operator">|]</span>

     <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">[|</span><span class="org-string">'o'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'m'</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'l'</span> <span class="org-tuareg-font-lock-operator">|]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|</span><span class="org-string">'o'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'m'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'l'</span><span class="org-tuareg-font-lock-operator">|]</span>

    <span class="org-comment-delimiter">(* </span><span class="org-comment">Unit / Represents side effects (Similar to Haskell IO ()</span><span class="org-comment-delimiter">*)</span>
    <span class="org-comment-delimiter">(*</span><span class="org-comment">-------------------------------------------------------- </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">()</span><span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
    <span class="org-tuareg-font-lock-operator">#</span>

    <span class="org-tuareg-font-lock-operator">#</span> print_string <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> read_line <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">read_two_lines</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">=</span> read_line <span class="org-tuareg-font-lock-operator">();</span> read_line <span class="org-tuareg-font-lock-operator">();</span> print_string <span class="org-string">"two lines"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">read_two_lines</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> read_two_lines <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    2323
    5353535
    two lines<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>


    <span class="org-comment-delimiter">(* </span><span class="org-comment">Option Type / Equivalent to Haskell Maybe </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-constructor">None</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">None</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-constructor">Some</span> 10 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Some</span> 10
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-constructor">Some</span> <span class="org-string">'a'</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Some</span> <span class="org-string">'a'</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-constructor">Some</span> <span class="org-string">"OCaml"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Some</span> <span class="org-string">"OCaml"</span>
    <span class="org-tuareg-font-lock-operator">#</span>
</pre>
</div>
</div>
</div>



<div id="outline-container-sec-1-4-2" class="outline-4">
<h4 id="sec-1-4-2"><span class="section-number-4">1.4.2</span> Operators</h4>
<div class="outline-text-4" id="text-1-4-2">
<p>
Float Functions must use +. /. -. *. operators since Ocaml doesn't support
operator overload.
</p>

<p>
Boolean Operators
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-comment-delimiter">(* </span><span class="org-comment">NOT                  </span><span class="org-comment-delimiter">*)</span>
<span class="org-comment-delimiter">(*</span><span class="org-comment">----------------------</span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">not</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">-&gt;</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">not</span> <span class="org-constant">false</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">not</span> <span class="org-constant">true</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">AND                  </span><span class="org-comment-delimiter">*)</span>
<span class="org-comment-delimiter">(*</span><span class="org-comment">----------------------</span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(&amp;&amp;)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">-&gt;</span> bool <span class="org-tuareg-font-lock-operator">-&gt;</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(&amp;&amp;)</span> <span class="org-constant">true</span> <span class="org-constant">false</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span>
<span class="org-tuareg-font-lock-operator">#</span>


<span class="org-tuareg-font-lock-operator">#</span> <span class="org-constant">true</span> <span class="org-tuareg-font-lock-operator">&amp;&amp;</span> <span class="org-constant">true</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-constant">true</span> <span class="org-tuareg-font-lock-operator">&amp;&amp;</span> <span class="org-constant">false</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span>
<span class="org-tuareg-font-lock-operator">#</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">OR                   </span><span class="org-comment-delimiter">*)</span>
<span class="org-comment-delimiter">(*</span><span class="org-comment">----------------------</span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(||)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">-&gt;</span> bool <span class="org-tuareg-font-lock-operator">-&gt;</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(||)</span> <span class="org-constant">false</span> <span class="org-constant">true</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>
<span class="org-tuareg-font-lock-operator">#</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-constant">true</span> <span class="org-tuareg-font-lock-operator">||</span> <span class="org-constant">true</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-constant">true</span> <span class="org-tuareg-font-lock-operator">||</span> <span class="org-constant">false</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-constant">false</span> <span class="org-tuareg-font-lock-operator">||</span> <span class="org-constant">false</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span>
<span class="org-tuareg-font-lock-operator">#</span>
</pre>
</div>

<p>
Comparison
</p>
<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-comment-delimiter">(* </span><span class="org-comment">Equality </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(=)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(==)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Inequality </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(&lt;&gt;)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(!=)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span>


<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(&lt;)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(&lt;=)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(&gt;=)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(&gt;)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span>

<span class="org-tuareg-font-lock-operator">#</span> max <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> min <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>


<span class="org-tuareg-font-lock-operator">#</span> compare <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span>

<span class="org-tuareg-font-lock-operator">#</span> 2 <span class="org-tuareg-font-lock-operator">&lt;&gt;</span> 4 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>
<span class="org-tuareg-font-lock-operator">#</span> 2 <span class="org-tuareg-font-lock-operator">&lt;&gt;</span> 2 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span>
<span class="org-tuareg-font-lock-operator">#</span>
<span class="org-tuareg-font-lock-operator">#</span> 3 <span class="org-tuareg-font-lock-operator">!=</span> 4 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>
<span class="org-tuareg-font-lock-operator">#</span> 3 <span class="org-tuareg-font-lock-operator">!=</span> 3 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span>
<span class="org-tuareg-font-lock-operator">#</span>


<span class="org-tuareg-font-lock-operator">#</span> max 3 100 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 100
<span class="org-tuareg-font-lock-operator">#</span> min 2.323 100.33 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 2.323
<span class="org-tuareg-font-lock-operator">#</span>
</pre>
</div>


<div class="org-src-container">

<pre class="src src-ocaml"> <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(+)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

 <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(-)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

 <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(+.)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

 <span class="org-tuareg-font-lock-operator">(-.)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>


<span class="org-comment-delimiter">(* </span><span class="org-comment">Interger Operators </span><span class="org-comment-delimiter">*)</span>
<span class="org-comment-delimiter">(*</span><span class="org-comment">--------------------</span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">#</span> 23 <span class="org-tuareg-font-lock-operator">+</span> 234 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 257
<span class="org-tuareg-font-lock-operator">#</span> 1000 <span class="org-tuareg-font-lock-operator">/</span> 4 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 250
<span class="org-tuareg-font-lock-operator">#</span>

<span class="org-tuareg-font-lock-operator">#</span> 1005 <span class="org-tuareg-font-lock-operator">mod</span> 10 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 5
<span class="org-tuareg-font-lock-operator">#</span>

<span class="org-tuareg-font-lock-operator">#</span> abs <span class="org-tuareg-font-lock-operator">(-</span>10<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 10
<span class="org-tuareg-font-lock-operator">#</span> abs 10 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 10
<span class="org-tuareg-font-lock-operator">#</span>
<span class="org-tuareg-font-lock-operator">#</span> pred 100 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 99
<span class="org-tuareg-font-lock-operator">#</span> pred 99 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 98
<span class="org-tuareg-font-lock-operator">#</span> succ 100 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 101
<span class="org-tuareg-font-lock-operator">#</span> succ 101 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 102
<span class="org-tuareg-font-lock-operator">#</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Float Point </span><span class="org-comment-delimiter">*)</span>
<span class="org-comment-delimiter">(*</span><span class="org-comment">-------------</span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">#</span> 100. <span class="org-tuareg-font-lock-operator">+.</span> 23.23 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 123.23
<span class="org-tuareg-font-lock-operator">#</span>
<span class="org-tuareg-font-lock-operator">#</span> 0.545 <span class="org-tuareg-font-lock-operator">*.</span> 100. <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 54.5000000000000071
<span class="org-tuareg-font-lock-operator">#</span>
<span class="org-tuareg-font-lock-operator">#</span> 1000. <span class="org-tuareg-font-lock-operator">/.</span> 4. <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 250.
<span class="org-tuareg-font-lock-operator">#</span>
<span class="org-tuareg-font-lock-operator">#</span> 1000.0 <span class="org-tuareg-font-lock-operator">-.</span> 4.0 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 996.
<span class="org-tuareg-font-lock-operator">#</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Pow function 2^4 = 16 / only works for float points </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">#</span> 2.0 <span class="org-tuareg-font-lock-operator">**</span> 4. <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 16.
<span class="org-tuareg-font-lock-operator">#</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">**)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-4-3" class="outline-4">
<h4 id="sec-1-4-3"><span class="section-number-4">1.4.3</span> Variable Declaration</h4>
<div class="outline-text-4" id="text-1-4-3">
<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">=</span> 2 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">x</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 2

<span class="org-comment-delimiter">(* </span><span class="org-comment">Declaration with Type </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">a</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-type">float  </span><span class="org-tuareg-font-lock-operator">=</span> 2.323 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">a</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 2.323

<span class="org-comment-delimiter">(* </span><span class="org-comment">Characters and String </span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-string">'a'</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">'a'</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-string">"hello world"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"hello world"</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Lists </span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4 <span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">]</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">[</span>2.323<span class="org-tuareg-font-lock-operator">;</span> 534.23<span class="org-tuareg-font-lock-operator">;</span> 83.434<span class="org-tuareg-font-lock-operator">;</span> 54.3323 <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2.323<span class="org-tuareg-font-lock-operator">;</span> 534.23<span class="org-tuareg-font-lock-operator">;</span> 83.434<span class="org-tuareg-font-lock-operator">;</span> 54.3323<span class="org-tuareg-font-lock-operator">]</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"hello"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"world"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"ocaml"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"amazing"</span> <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"hello"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"world"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"ocaml"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"amazing"</span><span class="org-tuareg-font-lock-operator">]</span>



<span class="org-comment-delimiter">(****** </span><span class="org-comment">Tuples **********</span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-tuareg-font-lock-operator">(</span>90<span class="org-tuareg-font-lock-operator">,</span> 100 <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">*</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span>90<span class="org-tuareg-font-lock-operator">,</span> 100<span class="org-tuareg-font-lock-operator">)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-tuareg-font-lock-operator">(</span>232<span class="org-tuareg-font-lock-operator">,</span> 23.232<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"hello "</span><span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'c'</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">*</span> float <span class="org-tuareg-font-lock-operator">*</span> string <span class="org-tuareg-font-lock-operator">*</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span>232<span class="org-tuareg-font-lock-operator">,</span> 23.232<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"hello "</span><span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>


<span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">"hello"</span><span class="org-tuareg-font-lock-operator">,</span> 23.23 <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">*</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">"hello"</span><span class="org-tuareg-font-lock-operator">,</span> 23.23<span class="org-tuareg-font-lock-operator">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-4-4" class="outline-4">
<h4 id="sec-1-4-4"><span class="section-number-4">1.4.4</span> Local Binding</h4>
<div class="outline-text-4" id="text-1-4-4">
<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span>  <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">=</span> 10 <span class="org-tuareg-font-lock-governing">in</span> 
  <span class="org-tuareg-font-lock-governing">let</span>  <span class="org-variable-name">y</span> <span class="org-tuareg-font-lock-operator">=</span> 3  <span class="org-tuareg-font-lock-governing">in</span>
  <span class="org-tuareg-font-lock-governing">let</span>  <span class="org-variable-name">z</span> <span class="org-tuareg-font-lock-operator">=</span> 4  <span class="org-tuareg-font-lock-governing">in</span> 
  <span class="org-tuareg-font-lock-operator">(</span>x<span class="org-tuareg-font-lock-operator">,</span> y<span class="org-tuareg-font-lock-operator">,</span> z<span class="org-tuareg-font-lock-operator">)</span>
  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">*</span> int <span class="org-tuareg-font-lock-operator">*</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span>10<span class="org-tuareg-font-lock-operator">,</span> 3<span class="org-tuareg-font-lock-operator">,</span> 4<span class="org-tuareg-font-lock-operator">)</span>

<span class="org-tuareg-font-lock-operator">#</span> x <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Error</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-constructor">Unbound</span> value x
<span class="org-tuareg-font-lock-operator">#</span> y <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Error</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-constructor">Unbound</span> value y
<span class="org-tuareg-font-lock-operator">#</span> z <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Error</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-constructor">Unbound</span> value z
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-comment-delimiter">(**********************)</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">z</span> <span class="org-tuareg-font-lock-operator">=</span> 
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">=</span> 10 <span class="org-tuareg-font-lock-governing">in</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">y</span> <span class="org-tuareg-font-lock-operator">=</span> 20 <span class="org-tuareg-font-lock-governing">in</span>
    x <span class="org-tuareg-font-lock-operator">+</span> 2<span class="org-tuareg-font-lock-operator">*</span>y
  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">z</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 50
<span class="org-tuareg-font-lock-operator">#</span> z <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 50
<span class="org-tuareg-font-lock-operator">#</span> x <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Error</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-constructor">Unbound</span> value x
<span class="org-tuareg-font-lock-operator">#</span> y <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Error</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-constructor">Unbound</span> value y
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-comment-delimiter">(**********************)</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">a</span> <span class="org-tuareg-font-lock-operator">=</span> 
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">f1</span><span class="org-variable-name"> x</span> <span class="org-tuareg-font-lock-operator">=</span> 10 <span class="org-tuareg-font-lock-operator">*</span>x <span class="org-tuareg-font-lock-governing">in</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">fxy</span><span class="org-variable-name"> x y</span> <span class="org-tuareg-font-lock-operator">=</span> 3<span class="org-tuareg-font-lock-operator">*</span>x <span class="org-tuareg-font-lock-operator">+</span> 4<span class="org-tuareg-font-lock-operator">*</span>y <span class="org-tuareg-font-lock-governing">in</span> 
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">z</span> <span class="org-tuareg-font-lock-operator">=</span> 3 <span class="org-tuareg-font-lock-governing">in</span>
    f1 z <span class="org-tuareg-font-lock-operator">+</span> fxy 3 4 <span class="org-tuareg-font-lock-operator">+</span> f1 6 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">a</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 115

<span class="org-tuareg-font-lock-operator">#</span> a <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 115
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> f1 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Error</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-constructor">Unbound</span> value f1
<span class="org-tuareg-font-lock-operator">#</span> fxy <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Error</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-constructor">Unbound</span> value fxy


<span class="org-comment-delimiter">(**********************)</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">a</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> b</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> c</span> <span class="org-tuareg-font-lock-operator">=</span> 
     <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">f1</span><span class="org-variable-name"> x</span>  <span class="org-tuareg-font-lock-operator">=</span> 3 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-governing">in</span> 
     <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">f2</span><span class="org-variable-name"> x y</span> <span class="org-tuareg-font-lock-operator">=</span> 5 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">-</span> 3 <span class="org-tuareg-font-lock-operator">*</span> y <span class="org-tuareg-font-lock-governing">in</span>
     <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">a</span> <span class="org-tuareg-font-lock-operator">=</span> 3 <span class="org-tuareg-font-lock-governing">in</span>
     <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">b</span> <span class="org-tuareg-font-lock-operator">=</span> 4 <span class="org-tuareg-font-lock-governing">in</span> 
     <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">c</span> <span class="org-tuareg-font-lock-operator">=</span> a <span class="org-tuareg-font-lock-operator">+</span> b <span class="org-tuareg-font-lock-governing">in</span> 
     <span class="org-tuareg-font-lock-operator">(</span>f1 a<span class="org-tuareg-font-lock-operator">,</span> f2 a b<span class="org-tuareg-font-lock-operator">,</span> a <span class="org-tuareg-font-lock-operator">+</span> b <span class="org-tuareg-font-lock-operator">+</span> c<span class="org-tuareg-font-lock-operator">)</span>
  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">a</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 9
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">b</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 3
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">c</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 14
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> f1 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Error</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-constructor">Unbound</span> value f1
<span class="org-tuareg-font-lock-operator">#</span> f2 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Error</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-constructor">Unbound</span> value f2
<span class="org-tuareg-font-lock-operator">#</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-4-5" class="outline-4">
<h4 id="sec-1-4-5"><span class="section-number-4">1.4.5</span> Polymorphic Functions</h4>
<div class="outline-text-4" id="text-1-4-5">
<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">id</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">id</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span>  id 10.23 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 10.23
<span class="org-tuareg-font-lock-operator">&gt;</span>  id 100  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 100
<span class="org-tuareg-font-lock-operator">&gt;</span>  id <span class="org-string">"Hello world"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Hello world"</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-4-6" class="outline-4">
<h4 id="sec-1-4-6"><span class="section-number-4">1.4.6</span> Number Formats</h4>
<div class="outline-text-4" id="text-1-4-6">
<ul class="org-ul">
<li>Int   -  Default Interger format 31 bits signed int on 32 bits machine and 63 bits on a 64 bits machine
</li>
<li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Int32.html">Int32</a> - 32 bits signed int
</li>
<li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Int64.html">Int64</a> - 63 bits signed int
</li>

<li>Float -  IEEE.754 - 64 bits double precision float point numbers.
</li>

<li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Num.html">Num</a> - Arbitrary Precision Integer
</li>
<li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Big_int.html">Big_Int</a> - Arbitrary Precision Integer
</li>
</ul>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-comment-delimiter">(* </span><span class="org-comment">31 bits signed int, since this machine has 32 bits word lenght</span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Pervasives.</span>min_int <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">-</span>1073741824
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Pervasives.</span>max_int <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1073741823

<span class="org-comment-delimiter">(* </span><span class="org-comment">32 bits signed int </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Int32.</span>max_int <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int32 <span class="org-tuareg-font-lock-operator">=</span> 2147483647l
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Int32.</span>min_int <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int32 <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">-</span>2147483648l

<span class="org-comment-delimiter">(* </span><span class="org-comment">64 bits signed int </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Int64.</span>min_int <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int64 <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">-</span>9223372036854775808L
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Int64.</span>max_int <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int64 <span class="org-tuareg-font-lock-operator">=</span> 9223372036854775807L

<span class="org-comment-delimiter">(* </span><span class="org-comment">IEEE.754 - 64 bits double precision - float point </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Pervasives.</span>min_float <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 2.22507385850720138e<span class="org-tuareg-font-lock-operator">-</span>308
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Pervasives.</span>max_float <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 1.79769313486231571e<span class="org-tuareg-font-lock-operator">+</span>308
</pre>
</div>

<p>
Numeric Literals
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-comment-delimiter">(* </span><span class="org-comment">Default - Pervasives 31 bit signed int (32 bits machine) </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> 23213 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 23213

    <span class="org-tuareg-font-lock-operator">#</span> 0xf43aaec <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 256092908

    <span class="org-tuareg-font-lock-operator">#</span> 0b10001110011 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1139

<span class="org-comment-delimiter">(* </span><span class="org-comment">32 bits signed int </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> 23213l <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int32 <span class="org-tuareg-font-lock-operator">=</span> 23213l

    <span class="org-tuareg-font-lock-operator">#</span> 0xf4123l <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int32 <span class="org-tuareg-font-lock-operator">=</span> 999715l

    <span class="org-tuareg-font-lock-operator">#</span> 0b1111100011110011l <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int32 <span class="org-tuareg-font-lock-operator">=</span> 63731l

<span class="org-comment-delimiter">(* </span><span class="org-comment">64 bits signed int </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> 1000000L <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int64 <span class="org-tuareg-font-lock-operator">=</span> 1000000L

     <span class="org-tuareg-font-lock-operator">#</span> 0xff2562abcL <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int64 <span class="org-tuareg-font-lock-operator">=</span> 68490242748L

    <span class="org-tuareg-font-lock-operator">#</span> 0b11111000111100110011111101L <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int64 <span class="org-tuareg-font-lock-operator">=</span> 65260797L
</pre>
</div>

<p>
Number Conversion / Type Casting
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Int32.</span>of_int 10002373 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int32 <span class="org-tuareg-font-lock-operator">=</span> 10002373l
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Int32.</span>of_float 232322.323 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int32 <span class="org-tuareg-font-lock-operator">=</span> 232322l
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Int32.</span>of_string <span class="org-string">"98232376"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int32 <span class="org-tuareg-font-lock-operator">=</span> 98232376l

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Int32.</span>to_int 100033l <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 100033


<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Int64.</span>of_int 100 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int64 <span class="org-tuareg-font-lock-operator">=</span> 100L
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Int64.</span>of_float 1000239823.2323 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int64 <span class="org-tuareg-font-lock-operator">=</span> 1000239823L
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Int64.</span>of_string <span class="org-string">"34234912"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int64 <span class="org-tuareg-font-lock-operator">=</span> 34234912L

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Int64.</span>to_int 2323884L <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 2323884


 <span class="org-tuareg-font-lock-operator">#</span> int_of_float <span class="org-tuareg-font-lock-operator">(-</span>1235.34083402321<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">-</span>1235
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Pervasives.</span>int_of_float <span class="org-tuareg-font-lock-operator">(-</span>1235.34083402321<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">-</span>1235
 <span class="org-tuareg-font-lock-operator">#</span> int_of_string <span class="org-string">"9123"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 9123

<span class="org-tuareg-font-lock-operator">#</span> float_of_int 1000 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 1000.
</pre>
</div>

<p>
Math Operations. In Ocaml the same operator cannot be used for more than one type, so to add ints (<del>) must be used, to add floats (</del>.), to add Int32, (Int32.add) and to add Int64, (Int64.add).
</p>

<div class="org-src-container">

<pre class="src src-ocaml">    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(+)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(+.)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Int32.</span>add <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int32 <span class="org-tuareg-font-lock-operator">-&gt;</span> int32 <span class="org-tuareg-font-lock-operator">-&gt;</span> int32 <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Int64.</span>add <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int64 <span class="org-tuareg-font-lock-operator">-&gt;</span> int64 <span class="org-tuareg-font-lock-operator">-&gt;</span> int64 <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Big_int.</span>add_big_int <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Big_int.</span>big_int <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-module">Big_int.</span>big_int <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-module">Big_int.</span>big_int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> 23423 <span class="org-tuareg-font-lock-operator">+</span> 1212 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 24635

    <span class="org-tuareg-font-lock-operator">#</span> 32.34 <span class="org-tuareg-font-lock-operator">+.</span> 232.22 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 264.56

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Int32.</span>add 2323l 6023l <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int32 <span class="org-tuareg-font-lock-operator">=</span> 8346l

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Int64.</span>add 232L 3434L <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int64 <span class="org-tuareg-font-lock-operator">=</span> 3666L

    <span class="org-comment-delimiter">(* </span><span class="org-comment">Simplifying Number Operators </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">fun1</span><span class="org-variable-name"> x y</span> <span class="org-tuareg-font-lock-operator">=</span> 10 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">-</span> 4 <span class="org-tuareg-font-lock-operator">*</span> y <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fun1</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> fun1 45 23 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 358

    <span class="org-tuareg-font-lock-operator">#</span> fun1 45L 23L <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-constructor">Error</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-constructor">This</span> expression has <span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">int64</span> but an expression was expected <span class="org-keyword">of</span> <span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">int</span>

    <span class="org-comment-delimiter">(* </span><span class="org-comment">Defining the function to 64 bits </span><span class="org-comment-delimiter">*)</span>

     <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">fun1L</span><span class="org-variable-name"> x y</span> <span class="org-tuareg-font-lock-operator">=</span>
                 <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">(-)</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Int64.</span>sub <span class="org-tuareg-font-lock-governing">in</span>
                 <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">*</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Int64.</span>mul <span class="org-tuareg-font-lock-governing">in</span>
                 10L <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">-</span> 4L <span class="org-tuareg-font-lock-operator">*</span> y
        <span class="org-tuareg-font-double-colon">;;</span><span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fun1L</span> <span class="org-tuareg-font-lock-operator">:</span> int64 <span class="org-tuareg-font-lock-operator">-&gt;</span> int64 <span class="org-tuareg-font-lock-operator">-&gt;</span> int64 <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> fun1L 45L 23L <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int64 <span class="org-tuareg-font-lock-operator">=</span> 358L

    <span class="org-comment-delimiter">(* </span><span class="org-comment">Trick Creating an Operator Module </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">OP</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-governing">struct</span>
        <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">FL</span> <span class="org-tuareg-font-lock-operator">=</span>
        <span class="org-tuareg-font-lock-governing">struct</span>
            <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">(+)</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(+.)</span>
            <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">(-)</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(-.)</span>
            <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">*</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">*.</span> <span class="org-tuareg-font-lock-operator">)</span>
            <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">(/)</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(/.)</span>
        <span class="org-tuareg-font-lock-governing">end</span>

        <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">I32</span> <span class="org-tuareg-font-lock-operator">=</span>
        <span class="org-tuareg-font-lock-governing">struct</span>
            <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">(+)</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Int32.</span>add
            <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">(-)</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Int32.</span>sub
            <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">(/)</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Int32.</span>div
            <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">*</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Int32.</span>mul
        <span class="org-tuareg-font-lock-governing">end</span>

        <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">I64</span> <span class="org-tuareg-font-lock-operator">=</span>
        <span class="org-tuareg-font-lock-governing">struct</span>
            <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">(+)</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Int64.</span>add
            <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">(-)</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Int64.</span>sub
            <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">*</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Int64.</span>mul
            <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">(/)</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Int64.</span>div
        <span class="org-tuareg-font-lock-governing">end</span>

    <span class="org-tuareg-font-lock-governing">end</span>
      <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">OP</span> <span class="org-tuareg-font-lock-operator">:</span>
      <span class="org-tuareg-font-lock-governing">sig</span>
        <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">FL</span> <span class="org-tuareg-font-lock-operator">:</span>
          <span class="org-tuareg-font-lock-governing">sig</span>
            <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">+</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float
            <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float
            <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">*</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float
            <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">/</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float
          <span class="org-tuareg-font-lock-governing">end</span>
        <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">I32</span> <span class="org-tuareg-font-lock-operator">:</span>
          <span class="org-tuareg-font-lock-governing">sig</span>
            <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">+</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> int32 <span class="org-tuareg-font-lock-operator">-&gt;</span> int32 <span class="org-tuareg-font-lock-operator">-&gt;</span> int32
            <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> int32 <span class="org-tuareg-font-lock-operator">-&gt;</span> int32 <span class="org-tuareg-font-lock-operator">-&gt;</span> int32
            <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">/</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> int32 <span class="org-tuareg-font-lock-operator">-&gt;</span> int32 <span class="org-tuareg-font-lock-operator">-&gt;</span> int32
            <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">*</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> int32 <span class="org-tuareg-font-lock-operator">-&gt;</span> int32 <span class="org-tuareg-font-lock-operator">-&gt;</span> int32
          <span class="org-tuareg-font-lock-governing">end</span>
        <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">I64</span> <span class="org-tuareg-font-lock-operator">:</span>
          <span class="org-tuareg-font-lock-governing">sig</span>
            <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">+</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> int64 <span class="org-tuareg-font-lock-operator">-&gt;</span> int64 <span class="org-tuareg-font-lock-operator">-&gt;</span> int64
            <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> int64 <span class="org-tuareg-font-lock-operator">-&gt;</span> int64 <span class="org-tuareg-font-lock-operator">-&gt;</span> int64
            <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">*</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> int64 <span class="org-tuareg-font-lock-operator">-&gt;</span> int64 <span class="org-tuareg-font-lock-operator">-&gt;</span> int64
            <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">/</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> int64 <span class="org-tuareg-font-lock-operator">-&gt;</span> int64 <span class="org-tuareg-font-lock-operator">-&gt;</span> int64
          <span class="org-tuareg-font-lock-governing">end</span>
      <span class="org-tuareg-font-lock-governing">end</span>
    <span class="org-tuareg-font-lock-operator">#</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Defined for int </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">fun1</span><span class="org-variable-name"> x y</span> <span class="org-tuareg-font-lock-operator">=</span> 10 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">-</span> 4 <span class="org-tuareg-font-lock-operator">*</span> y <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fun1</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> fun1 100 20 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 920

<span class="org-comment-delimiter">(* </span><span class="org-comment">Defined for Int32 </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">fun1_int32</span><span class="org-variable-name"> x y</span>  <span class="org-tuareg-font-lock-operator">=</span>
        <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">OP.I32</span> <span class="org-tuareg-font-lock-governing">in</span>
        10l <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">-</span> 4l <span class="org-tuareg-font-lock-operator">*</span> y
    <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fun1_int32</span> <span class="org-tuareg-font-lock-operator">:</span> int32 <span class="org-tuareg-font-lock-operator">-&gt;</span> int32 <span class="org-tuareg-font-lock-operator">-&gt;</span> int32 <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> fun1_int32 100l 20l <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int32 <span class="org-tuareg-font-lock-operator">=</span> 920l

    <span class="org-comment-delimiter">(* </span><span class="org-comment">OR for short </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">fun1_int32_</span><span class="org-variable-name"> x y</span>  <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">OP.I32.</span><span class="org-tuareg-font-lock-operator">(</span>10l  <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">-</span> 4l <span class="org-tuareg-font-lock-operator">*</span> y<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fun1_int32_</span> <span class="org-tuareg-font-lock-operator">:</span> int32 <span class="org-tuareg-font-lock-operator">-&gt;</span> int32 <span class="org-tuareg-font-lock-operator">-&gt;</span> int32 <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> fun1_int32_ 100l 20l <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int32 <span class="org-tuareg-font-lock-operator">=</span> 920l

<span class="org-comment-delimiter">(* </span><span class="org-comment">Defined for Int64 </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">fun1_int64</span><span class="org-variable-name"> x y</span>  <span class="org-tuareg-font-lock-operator">=</span>
            <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">OP.I64</span> <span class="org-tuareg-font-lock-governing">in</span>
            10L <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">-</span> 4L <span class="org-tuareg-font-lock-operator">*</span> y
        <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fun1_int64</span> <span class="org-tuareg-font-lock-operator">:</span> int64 <span class="org-tuareg-font-lock-operator">-&gt;</span> int64 <span class="org-tuareg-font-lock-operator">-&gt;</span> int64 <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> fun1_int64 100L 20L <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int64 <span class="org-tuareg-font-lock-operator">=</span> 920L

    <span class="org-comment-delimiter">(* </span><span class="org-comment">OR </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">fun1_int64_</span><span class="org-variable-name"> x y</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">OP.I64.</span><span class="org-tuareg-font-lock-operator">(</span>10L <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">-</span> 4L <span class="org-tuareg-font-lock-operator">*</span> y<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fun1_int64_</span> <span class="org-tuareg-font-lock-operator">:</span> int64 <span class="org-tuareg-font-lock-operator">-&gt;</span> int64 <span class="org-tuareg-font-lock-operator">-&gt;</span> int64 <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Defined for Float </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">fun1_float</span><span class="org-variable-name"> x y</span>  <span class="org-tuareg-font-lock-operator">=</span>
                <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">OP.FL</span> <span class="org-tuareg-font-lock-governing">in</span>
                10. <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">-</span> 4. <span class="org-tuareg-font-lock-operator">*</span> y
            <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fun1_float</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> fun1_float 100. 20. <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 920.

    <span class="org-comment-delimiter">(* </span><span class="org-comment">OR </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">fun1_float_</span><span class="org-variable-name"> x y</span>  <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">OP.FL.</span><span class="org-tuareg-font-lock-operator">(</span>10.  <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">-</span> 4. <span class="org-tuareg-font-lock-operator">*</span> y<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fun1_float_</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> fun1_float_ 100. 20. <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 920.
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-4-7" class="outline-4">
<h4 id="sec-1-4-7"><span class="section-number-4">1.4.7</span> Math / Float Functions</h4>
<div class="outline-text-4" id="text-1-4-7">
<p>
Documentation:
</p>

<p>
OCaml's floating-point complies with the <a href="http://en.wikipedia.org/wiki/IEEE_floating_point">IEEE 754 standard</a>,  double precision (64 bits) numbers.
</p>

<ul class="org-ul">
<li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html">http://caml.inria.fr/pub/docs/manual-ocaml/libref/Pervasives.html</a>
</li>
</ul>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-comment-delimiter">(* </span><span class="org-comment">Operators </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(+.)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(-.)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(/.)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">*.</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

     <span class="org-comment-delimiter">(* </span><span class="org-comment">Power operator/ Exponentiation </span><span class="org-comment-delimiter">*)</span>
     <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">**</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">(+.)</span> 2.323<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>10.23<span class="org-tuareg-font-lock-operator">;</span> 3.4<span class="org-tuareg-font-lock-operator">;</span> 30. <span class="org-tuareg-font-lock-operator">;</span> 12. <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>12.553<span class="org-tuareg-font-lock-operator">;</span> 5.723<span class="org-tuareg-font-lock-operator">;</span> 32.323<span class="org-tuareg-font-lock-operator">;</span> 14.323<span class="org-tuareg-font-lock-operator">]</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">*.</span> <span class="org-tuareg-font-lock-operator">)</span> 3.<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>10.23<span class="org-tuareg-font-lock-operator">;</span> 3.4<span class="org-tuareg-font-lock-operator">;</span> 30. <span class="org-tuareg-font-lock-operator">;</span> 12. <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>30.69<span class="org-tuareg-font-lock-operator">;</span> 10.2<span class="org-tuareg-font-lock-operator">;</span> 90.<span class="org-tuareg-font-lock-operator">;</span> 36.<span class="org-tuareg-font-lock-operator">]</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 2. <span class="org-tuareg-font-lock-operator">**</span> x <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1. <span class="org-tuareg-font-lock-operator">;</span> 2.<span class="org-tuareg-font-lock-operator">;</span> 3.<span class="org-tuareg-font-lock-operator">;</span> 4.<span class="org-tuareg-font-lock-operator">;</span> 5.<span class="org-tuareg-font-lock-operator">;</span> 6.<span class="org-tuareg-font-lock-operator">;</span> 7.<span class="org-tuareg-font-lock-operator">;</span> 8.<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2.<span class="org-tuareg-font-lock-operator">;</span> 4.<span class="org-tuareg-font-lock-operator">;</span> 8.<span class="org-tuareg-font-lock-operator">;</span> 16.<span class="org-tuareg-font-lock-operator">;</span> 32.<span class="org-tuareg-font-lock-operator">;</span> 64.<span class="org-tuareg-font-lock-operator">;</span> 128.<span class="org-tuareg-font-lock-operator">;</span> 256.<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Absolute Value </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> abs_float <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Square Root </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> sqrt <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Trigonometric </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> sin <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> cos <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> tan <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> atan <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> atan2 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span>
    <span class="org-tuareg-font-lock-operator">#</span> acos <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> asin <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Hyperbolic Functions </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">#</span> cosh <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> sinh <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> tanh <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span>


<span class="org-comment-delimiter">(* </span><span class="org-comment">Logarithm and exp </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">#</span> log <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> log10 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> exp <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-comment-delimiter">(* </span><span class="org-comment">exp x -. 1.0, </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">#</span> expm1 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-comment-delimiter">(*  </span><span class="org-comment">log(1.0 +. x)  </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">#</span> log1p <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>


<span class="org-comment-delimiter">(* </span><span class="org-comment">Remove Decimal Part </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">#</span> floor <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> ceil <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> truncate <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span>
    <span class="org-tuareg-font-lock-operator">#</span> int_of_float <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span>


<span class="org-comment-delimiter">(* </span><span class="org-comment">Float Constants </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> infinity <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> infinity
    <span class="org-tuareg-font-lock-operator">#</span>
    <span class="org-tuareg-font-lock-operator">#</span> neg_infinity <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> neg_infinity
    <span class="org-tuareg-font-lock-operator">#</span>

    <span class="org-tuareg-font-lock-operator">#</span> max_float <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 1.79769313486231571e<span class="org-tuareg-font-lock-operator">+</span>308
    <span class="org-tuareg-font-lock-operator">#</span> min_float <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 2.22507385850720138e<span class="org-tuareg-font-lock-operator">-</span>308


    <span class="org-tuareg-font-lock-operator">#</span> nan <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> nan
    <span class="org-tuareg-font-lock-operator">#</span>

    <span class="org-tuareg-font-lock-operator">#</span> 1. <span class="org-tuareg-font-lock-operator">/.</span> 0. <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> infinity
    <span class="org-tuareg-font-lock-operator">#</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">-</span>1. <span class="org-tuareg-font-lock-operator">/.</span> 0. <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> neg_infinity
    <span class="org-tuareg-font-lock-operator">#</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-4-8" class="outline-4">
<h4 id="sec-1-4-8"><span class="section-number-4">1.4.8</span> Function Declaration</h4>
<div class="outline-text-4" id="text-1-4-8">
<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">=</span> 34 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">x</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 34

<span class="org-tuareg-font-lock-operator">&gt;</span> x <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 34

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">=</span> 10 <span class="org-tuareg-font-lock-governing">in</span>
  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">y</span> <span class="org-tuareg-font-lock-operator">=</span> 20 <span class="org-tuareg-font-lock-governing">in</span>
  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">z</span> <span class="org-tuareg-font-lock-operator">=</span> x<span class="org-tuareg-font-lock-operator">*</span>y <span class="org-tuareg-font-lock-governing">in</span>
  z <span class="org-tuareg-font-lock-operator">-</span> x <span class="org-tuareg-font-lock-operator">-</span> y
<span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 170

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">=</span> 10.25 <span class="org-tuareg-font-lock-governing">in</span>
  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">y</span> <span class="org-tuareg-font-lock-operator">=</span> 30.   <span class="org-tuareg-font-lock-governing">in</span>
  x <span class="org-tuareg-font-lock-operator">*.</span> y
<span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 307.5

<span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">f</span><span class="org-variable-name"> x</span> <span class="org-tuareg-font-lock-operator">=</span> 10 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">+</span> 4 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span>  f 4 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 44

<span class="org-tuareg-font-lock-operator">&gt;</span>  f 5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 54
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">f</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> y</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> x <span class="org-tuareg-font-lock-operator">+</span>  y <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">*</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> f <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> 5<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 7

<span class="org-tuareg-font-lock-operator">&gt;</span> f <span class="org-tuareg-font-lock-operator">(</span>10<span class="org-tuareg-font-lock-operator">,</span> 5<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 15


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">add_floats</span><span class="org-variable-name"> x y</span> <span class="org-tuareg-font-lock-operator">=</span> x <span class="org-tuareg-font-lock-operator">+.</span> y <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">add_floats</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> add_floats 10. 50.343 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 60.343


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">a_complex_function</span><span class="org-variable-name"> x y</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">a</span> <span class="org-tuareg-font-lock-operator">=</span> 10 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-governing">in</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">b</span> <span class="org-tuareg-font-lock-operator">=</span> 5 <span class="org-tuareg-font-lock-operator">*</span> y <span class="org-tuareg-font-lock-operator">+</span> x <span class="org-tuareg-font-lock-governing">in</span>
    a <span class="org-tuareg-font-lock-operator">+</span> b
<span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">a_complex_function</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-comment-delimiter">(*</span>
<span class="org-comment">    a_complex_function 2 3</span>
<span class="org-comment">        a = 10 * x --&gt;  a = 10*2 = 20</span>
<span class="org-comment">        b = 5 * 3  --&gt;  b = 5*3 + 2 = 17</span>
<span class="org-comment">        a + b      --&gt;  20 + 17 = 37</span>
<span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> a_complex_function 2 3 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 37


<span class="org-comment-delimiter">(* </span><span class="org-comment">Function Inside functions </span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">func1</span><span class="org-variable-name"> x y</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">ft1</span><span class="org-variable-name"> x y</span> <span class="org-tuareg-font-lock-operator">=</span> 10<span class="org-tuareg-font-lock-operator">*</span>x <span class="org-tuareg-font-lock-operator">+</span> y <span class="org-tuareg-font-lock-governing">in</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">ft2</span><span class="org-variable-name"> x y z</span> <span class="org-tuareg-font-lock-operator">=</span> x <span class="org-tuareg-font-lock-operator">+</span> y <span class="org-tuareg-font-lock-operator">-</span> 4 <span class="org-tuareg-font-lock-operator">*</span> z <span class="org-tuareg-font-lock-governing">in</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">ft3</span><span class="org-variable-name"> x y</span> <span class="org-tuareg-font-lock-operator">=</span> x <span class="org-tuareg-font-lock-operator">-</span> y <span class="org-tuareg-font-lock-governing">in</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">z</span> <span class="org-tuareg-font-lock-operator">=</span> 10 <span class="org-tuareg-font-lock-governing">in</span>
    <span class="org-tuareg-font-lock-operator">(</span>ft1 x y<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">+</span> <span class="org-tuareg-font-lock-operator">(</span>ft2 x y z<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">(</span>ft3 x y<span class="org-tuareg-font-lock-operator">)</span>
<span class="org-tuareg-font-double-colon">;;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> func1 4 5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 15

<span class="org-tuareg-font-lock-operator">&gt;</span> func1 14 5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 115

<span class="org-tuareg-font-lock-operator">&gt;</span> func1 20 <span class="org-tuareg-font-lock-operator">(-</span>10<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 130

<span class="org-comment-delimiter">(* </span><span class="org-comment">Returning More than one value </span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">g</span><span class="org-variable-name"> x y</span> <span class="org-tuareg-font-lock-operator">=</span>  <span class="org-tuareg-font-lock-operator">(</span>10<span class="org-tuareg-font-lock-operator">*</span> x<span class="org-tuareg-font-lock-operator">,</span> x <span class="org-tuareg-font-lock-operator">+</span> y<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> g 4 5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">*</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span>40<span class="org-tuareg-font-lock-operator">,</span> 9<span class="org-tuareg-font-lock-operator">)</span>
</pre>
</div>

<p>
Declaring Functions with type signature.
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">func1</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-type">int</span><span class="org-tuareg-font-lock-operator">)</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">y</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-type">float</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-type">float</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span>float_of_int x<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">+.</span> y <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">func1</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> func1 10 2.334 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 12.334


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">func2</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">xy</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">int </span><span class="org-tuareg-font-lock-operator">*</span><span class="org-variable-name"> int</span><span class="org-tuareg-font-lock-operator">))</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-type">int</span>  <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span>fst xy<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">+</span> <span class="org-tuareg-font-lock-operator">(</span>snd xy<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">func2</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">*</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> func2 <span class="org-tuareg-font-lock-operator">(</span>5<span class="org-tuareg-font-lock-operator">,</span> 6<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 11

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">show</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-type">float</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"%.3f"</span> x <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">show</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> show 3.232 <span class="org-tuareg-font-double-colon">;;</span>
3.232<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">showxy</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> y</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-type">unit</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"%.3f\n"</span> <span class="org-tuareg-font-lock-operator">(</span>x <span class="org-tuareg-font-lock-operator">+.</span> y<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">showxy</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">*</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> showxy <span class="org-tuareg-font-lock-operator">(</span>32.323<span class="org-tuareg-font-lock-operator">,</span> 100.232<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
132.555
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">double_list</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">list_of_floats </span><span class="org-tuareg-font-lock-operator">:</span><span class="org-variable-name"> </span><span class="org-type">float list</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-type">float list</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 2.0 <span class="org-tuareg-font-lock-operator">*.</span> x<span class="org-tuareg-font-lock-operator">)</span> list_of_floats <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">double_list</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-tuareg-font-lock-operator">-&gt;</span> float list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> double_list <span class="org-tuareg-font-lock-operator">[</span>1. <span class="org-tuareg-font-lock-operator">;</span> 2. <span class="org-tuareg-font-lock-operator">;</span> 3. <span class="org-tuareg-font-lock-operator">;</span> 4. <span class="org-tuareg-font-lock-operator">;</span> 5. <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2.<span class="org-tuareg-font-lock-operator">;</span> 4.<span class="org-tuareg-font-lock-operator">;</span> 6.<span class="org-tuareg-font-lock-operator">;</span> 8.<span class="org-tuareg-font-lock-operator">;</span> 10.<span class="org-tuareg-font-lock-operator">]</span>
</pre>
</div>

<p>
Declaring function type with anonymous functions.
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">func2'</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-type">int </span><span class="org-tuareg-font-lock-operator">*</span><span class="org-type"> int</span><span class="org-tuareg-font-lock-operator">)</span><span class="org-type"> </span><span class="org-tuareg-font-lock-operator">-&gt;</span><span class="org-type"> int </span><span class="org-tuareg-font-lock-operator">=</span> <span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">a</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> b</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> a <span class="org-tuareg-font-lock-operator">+</span> b <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">func2'</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">*</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> func2' <span class="org-tuareg-font-lock-operator">(</span>5<span class="org-tuareg-font-lock-operator">,</span> 6<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 11

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">showxy'</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-type">float </span><span class="org-tuareg-font-lock-operator">*</span><span class="org-type"> float </span><span class="org-tuareg-font-lock-operator">-&gt;</span><span class="org-type"> unit </span><span class="org-tuareg-font-lock-operator">=</span> <span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> y</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span>
   <span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"%.3f\n"</span> <span class="org-tuareg-font-lock-operator">(</span>x <span class="org-tuareg-font-lock-operator">+.</span> y<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> showxy' <span class="org-tuareg-font-lock-operator">(</span>23.3<span class="org-tuareg-font-lock-operator">,</span> 5.342021321<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
28.642
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
</pre>
</div>

<p>
Declaration functions that takes another function as argument
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">apply_to_fst</span><span class="org-variable-name"> f </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> y</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span>f x<span class="org-tuareg-font-lock-operator">,</span> y<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">apply_to_fst</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">*</span> 'c <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">*</span> 'c <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">apply_to_fst2</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-type">'a </span><span class="org-tuareg-font-lock-operator">-&gt;</span><span class="org-type"> 'c</span><span class="org-tuareg-font-lock-operator">)</span><span class="org-type"> </span><span class="org-tuareg-font-lock-operator">-&gt;</span><span class="org-type"> 'a </span><span class="org-tuareg-font-lock-operator">*</span><span class="org-type"> 'b  </span><span class="org-tuareg-font-lock-operator">-&gt;</span><span class="org-type"> 'c </span><span class="org-tuareg-font-lock-operator">*</span><span class="org-type"> 'b </span><span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-keyword">fun</span> <span class="org-variable-name">f </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> y</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span>  <span class="org-tuareg-font-lock-operator">(</span>f x<span class="org-tuareg-font-lock-operator">,</span> y<span class="org-tuareg-font-lock-operator">)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">f</span><span class="org-variable-name"> x</span> <span class="org-tuareg-font-lock-operator">=</span> x <span class="org-tuareg-font-lock-operator">+</span> 10 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> apply_to_fst f <span class="org-tuareg-font-lock-operator">(</span>10<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"hello world"</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">*</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span>20<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"hello world"</span><span class="org-tuareg-font-lock-operator">)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> apply_to_fst2 f <span class="org-tuareg-font-lock-operator">(</span>10<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"hello world"</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">*</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span>20<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"hello world"</span><span class="org-tuareg-font-lock-operator">)</span>
</pre>
</div>

<p>
Declaring functions with custom types
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">tuple_of_int</span> <span class="org-tuareg-font-lock-operator">=</span> int <span class="org-tuareg-font-lock-operator">*</span> int <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">tuple_of_int</span> <span class="org-tuareg-font-lock-operator">=</span> int <span class="org-tuareg-font-lock-operator">*</span> int

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">func_float_to_string</span> <span class="org-tuareg-font-lock-operator">=</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">func_float_to_string</span> <span class="org-tuareg-font-lock-operator">=</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> string


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">func_tuple_of_ints_to_float</span> <span class="org-tuareg-font-lock-operator">=</span> int <span class="org-tuareg-font-lock-operator">*</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">func_tuple_of_ints_to_float</span> <span class="org-tuareg-font-lock-operator">=</span> int <span class="org-tuareg-font-lock-operator">*</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> float

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-type">tuple_of_int </span><span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span>10<span class="org-tuareg-font-lock-operator">,</span> 4<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">x</span> <span class="org-tuareg-font-lock-operator">:</span> tuple_of_int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span>10<span class="org-tuareg-font-lock-operator">,</span> 4<span class="org-tuareg-font-lock-operator">)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">f</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-type">func_float_to_string </span><span class="org-tuareg-font-lock-operator">=</span> <span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-string">"x = "</span> <span class="org-tuareg-font-lock-operator">^</span> <span class="org-tuareg-font-lock-operator">(</span>string_of_float x<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f</span> <span class="org-tuareg-font-lock-operator">:</span> func_float_to_string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> f 2.23 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"x = 2.23"</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">funct</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-type">tuple_of_int </span><span class="org-tuareg-font-lock-operator">-&gt;</span><span class="org-type"> int </span><span class="org-tuareg-font-lock-operator">=</span> <span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> y</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">+</span> y <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">funct</span> <span class="org-tuareg-font-lock-operator">:</span> tuple_of_int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> funct <span class="org-tuareg-font-lock-operator">(</span>10<span class="org-tuareg-font-lock-operator">,</span> 100<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 11

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">fxy</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-type">func_tuple_of_ints_to_float </span><span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> y</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 10.4 <span class="org-tuareg-font-lock-operator">*.</span> <span class="org-tuareg-font-lock-operator">(</span>float_of_int x<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-.</span> 3.5 <span class="org-tuareg-font-lock-operator">*.</span> <span class="org-tuareg-font-lock-operator">(</span>float_of_int y<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fxy</span> <span class="org-tuareg-font-lock-operator">:</span> func_tuple_of_ints_to_float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> fxy <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> func_tuple_of_ints_to_float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> fxy <span class="org-tuareg-font-lock-operator">(</span>10<span class="org-tuareg-font-lock-operator">,</span> 5<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 86.5


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">list_of_float</span> <span class="org-tuareg-font-lock-operator">=</span> float list <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">list_of_float</span> <span class="org-tuareg-font-lock-operator">=</span> float list

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">double</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">xs</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-variable-name"> </span><span class="org-type">list_of_float</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-type">list_of_float</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 2.0 <span class="org-tuareg-font-lock-operator">*.</span> x<span class="org-tuareg-font-lock-operator">)</span> xs <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">double</span> <span class="org-tuareg-font-lock-operator">:</span> list_of_float <span class="org-tuareg-font-lock-operator">-&gt;</span> list_of_float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> double <span class="org-tuareg-font-lock-operator">[</span>1. <span class="org-tuareg-font-lock-operator">;</span> 2. <span class="org-tuareg-font-lock-operator">;</span> 3. <span class="org-tuareg-font-lock-operator">;</span> 4. <span class="org-tuareg-font-lock-operator">;</span> 5. <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> list_of_float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2.<span class="org-tuareg-font-lock-operator">;</span> 4.<span class="org-tuareg-font-lock-operator">;</span> 6.<span class="org-tuareg-font-lock-operator">;</span> 8.<span class="org-tuareg-font-lock-operator">;</span> 10.<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> double <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> list_of_float <span class="org-tuareg-font-lock-operator">-&gt;</span> list_of_float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">double2</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-type">list_of_float </span><span class="org-tuareg-font-lock-operator">-&gt;</span><span class="org-type"> list_of_float </span><span class="org-tuareg-font-lock-operator">=</span>
  <span class="org-keyword">fun</span> <span class="org-variable-name">xs</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 2.0 <span class="org-tuareg-font-lock-operator">*.</span> x<span class="org-tuareg-font-lock-operator">)</span> xs <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">double2</span> <span class="org-tuareg-font-lock-operator">:</span> list_of_float <span class="org-tuareg-font-lock-operator">-&gt;</span> list_of_float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> double2 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> list_of_float <span class="org-tuareg-font-lock-operator">-&gt;</span> list_of_float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> double2 <span class="org-tuareg-font-lock-operator">[</span>1. <span class="org-tuareg-font-lock-operator">;</span> 2. <span class="org-tuareg-font-lock-operator">;</span> 3. <span class="org-tuareg-font-lock-operator">;</span> 4. <span class="org-tuareg-font-lock-operator">;</span> 5. <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> list_of_float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2.<span class="org-tuareg-font-lock-operator">;</span> 4.<span class="org-tuareg-font-lock-operator">;</span> 6.<span class="org-tuareg-font-lock-operator">;</span> 8.<span class="org-tuareg-font-lock-operator">;</span> 10.<span class="org-tuareg-font-lock-operator">]</span>
</pre>
</div>

<p>
Functions with Named Parameters
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">f1</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">~</span><span class="org-variable-name">x </span><span class="org-tuareg-font-lock-operator">~</span><span class="org-variable-name">y</span> <span class="org-tuareg-font-lock-operator">=</span> 10<span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">-</span> y <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f1</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">x</span><span class="org-tuareg-font-lock-operator">:</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-label">y</span><span class="org-tuareg-font-lock-operator">:</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> f1 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">x</span><span class="org-tuareg-font-lock-operator">:</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-label">y</span><span class="org-tuareg-font-lock-operator">:</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> f1 4 5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 35

<span class="org-tuareg-font-lock-operator">&gt;</span> f1 20 15 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 185

<span class="org-comment-delimiter">(* </span><span class="org-comment">Currying Funcctions with named parameters </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> f1 20 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Error</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-constructor">The</span> <span class="org-keyword">function</span> <span class="org-variable-name">applied</span> <span class="org-keyword">to</span> this argument has <span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">x</span><span class="org-tuareg-font-lock-operator">:</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-label">y</span><span class="org-tuareg-font-lock-operator">:</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> int                      <span class="org-tuareg-font-lock-constructor">This</span> argument cannot be applied without label

<span class="org-tuareg-font-lock-operator">&gt;</span> f1 <span class="org-tuareg-font-lock-label">~x</span><span class="org-tuareg-font-lock-operator">:</span>20 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">y</span><span class="org-tuareg-font-lock-operator">:</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">f1_20</span> <span class="org-tuareg-font-lock-operator">=</span> f1 <span class="org-tuareg-font-lock-label">~x</span><span class="org-tuareg-font-lock-operator">:</span>20 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f1_20</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">y</span><span class="org-tuareg-font-lock-operator">:</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> f1_20 10 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 190

<span class="org-tuareg-font-lock-operator">&gt;</span> f1_20 40 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 160

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map f1_20 <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Error</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-constructor">This</span> expression has <span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">y</span><span class="org-tuareg-font-lock-operator">:</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> int but an expression was expected <span class="org-keyword">of</span> <span class="org-tuareg-font-lock-governing">type</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">y</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> f1_20 y<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>199<span class="org-tuareg-font-lock-operator">;</span> 198<span class="org-tuareg-font-lock-operator">;</span> 190<span class="org-tuareg-font-lock-operator">;</span> 180<span class="org-tuareg-font-lock-operator">;</span> 170<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">show_msg</span><span class="org-variable-name"> x </span><span class="org-tuareg-font-lock-operator">~</span><span class="org-variable-name">msg </span><span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"%s = %d"</span> msg x <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">show_msg</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-label">msg</span><span class="org-tuareg-font-lock-operator">:</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> show_msg 2 <span class="org-string">"Hello world"</span> <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Hello</span> world <span class="org-tuareg-font-lock-operator">=</span> 2<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> show_msg 20  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">msg</span><span class="org-tuareg-font-lock-operator">:</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">f</span> <span class="org-tuareg-font-lock-operator">=</span> show_msg 20 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">msg</span><span class="org-tuareg-font-lock-operator">:</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> f <span class="org-string">"x"</span> <span class="org-tuareg-font-lock-operator">()</span><span class="org-tuareg-font-double-colon">;;</span>
x <span class="org-tuareg-font-lock-operator">=</span> 20<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> f <span class="org-string">"y"</span> <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
y <span class="org-tuareg-font-lock-operator">=</span> 20<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>iter f <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"x"</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"y"</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"z"</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"w"</span><span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Error</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-constructor">This</span> expression has <span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">msg</span><span class="org-tuareg-font-lock-operator">:</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
but an expression was expected <span class="org-keyword">of</span> <span class="org-tuareg-font-lock-governing">type</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> unit

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>iter <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">msg</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> f msg <span class="org-tuareg-font-lock-operator">())</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"x"</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"y"</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"z"</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"w"</span><span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
x <span class="org-tuareg-font-lock-operator">=</span> 20y <span class="org-tuareg-font-lock-operator">=</span> 20z <span class="org-tuareg-font-lock-operator">=</span> 20w <span class="org-tuareg-font-lock-operator">=</span> 20<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
</pre>
</div>

<p>
Functions with Optional Parameters:
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-comment-delimiter">(*</span>
<span class="org-comment">    If the parameter x is not given, x will be set to 100</span>
<span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">f</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">?(</span><span class="org-variable-name">x </span><span class="org-tuareg-font-lock-operator">=</span><span class="org-variable-name"> 100</span><span class="org-tuareg-font-lock-operator">)</span><span class="org-variable-name">  y</span> <span class="org-tuareg-font-lock-operator">=</span> 10<span class="org-tuareg-font-lock-operator">*</span>x <span class="org-tuareg-font-lock-operator">-</span> 5<span class="org-tuareg-font-lock-operator">*</span>y <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">add</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">?x</span><span class="org-tuareg-font-lock-operator">:</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> f <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">?x</span><span class="org-tuareg-font-lock-operator">:</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-comment-delimiter">(*</span>
<span class="org-comment">    f 20 ==&gt; (10*x - 5*y) 100 20</span>
<span class="org-comment">             (10 * 10 - 5 * 20 )</span>
<span class="org-comment">             (1000 - 100)</span>
<span class="org-comment">             900</span>
<span class="org-comment"> </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> f 20 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 900


<span class="org-comment-delimiter">(*</span>
<span class="org-comment">    f 60 ==&gt; (10*x - 5*y) 100 60</span>
<span class="org-comment">             (10*100 - 5*60)</span>
<span class="org-comment">             (1000 - 300)</span>
<span class="org-comment">             700</span>
<span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> f 60 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 700

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map f <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>950<span class="org-tuareg-font-lock-operator">;</span> 900<span class="org-tuareg-font-lock-operator">;</span> 850<span class="org-tuareg-font-lock-operator">;</span> 800<span class="org-tuareg-font-lock-operator">;</span> 750<span class="org-tuareg-font-lock-operator">]</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> f <span class="org-tuareg-font-lock-label">~x</span><span class="org-tuareg-font-lock-operator">:</span>40 20 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 300


<span class="org-tuareg-font-lock-operator">&gt;</span> f <span class="org-tuareg-font-lock-label">~x</span><span class="org-tuareg-font-lock-operator">:</span>50 20 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 400

<span class="org-tuareg-font-lock-operator">&gt;</span> f <span class="org-tuareg-font-lock-label">~x</span><span class="org-tuareg-font-lock-operator">:</span>40 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">f_x40</span>  <span class="org-tuareg-font-lock-operator">=</span> f <span class="org-tuareg-font-lock-label">~x</span><span class="org-tuareg-font-lock-operator">:</span>40 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f_x40</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map f_x40 <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>350<span class="org-tuareg-font-lock-operator">;</span> 300<span class="org-tuareg-font-lock-operator">;</span> 250<span class="org-tuareg-font-lock-operator">;</span> 200<span class="org-tuareg-font-lock-operator">;</span> 150<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span>f <span class="org-tuareg-font-lock-label">~x</span><span class="org-tuareg-font-lock-operator">:</span> 40<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>350<span class="org-tuareg-font-lock-operator">;</span> 300<span class="org-tuareg-font-lock-operator">;</span> 250<span class="org-tuareg-font-lock-operator">;</span> 200<span class="org-tuareg-font-lock-operator">;</span> 150<span class="org-tuareg-font-lock-operator">]</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">rectangle_area</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">?(</span><span class="org-variable-name">width </span><span class="org-tuareg-font-lock-operator">=</span><span class="org-variable-name"> 30</span><span class="org-tuareg-font-lock-operator">)</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">~</span><span class="org-variable-name">height</span> <span class="org-tuareg-font-lock-operator">=</span> width<span class="org-tuareg-font-lock-operator">*</span>height <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">rectangle_area</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">?width</span><span class="org-tuareg-font-lock-operator">:</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-label">height</span><span class="org-tuareg-font-lock-operator">:</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> rectangle_area 20 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 600

<span class="org-tuareg-font-lock-operator">&gt;</span> rectangle_area 30 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 900

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map rectangle_area <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Error</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-constructor">This</span> expression has <span class="org-tuareg-font-lock-governing">type</span> <span class="org-tuareg-font-lock-label">?width</span><span class="org-tuareg-font-lock-operator">:</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-label">height</span><span class="org-tuareg-font-lock-operator">:</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> int
but an expression was expected <span class="org-keyword">of</span> <span class="org-tuareg-font-lock-governing">type</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">h</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> rectangle_area h <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>300<span class="org-tuareg-font-lock-operator">;</span> 600<span class="org-tuareg-font-lock-operator">;</span> 900<span class="org-tuareg-font-lock-operator">;</span> 1200<span class="org-tuareg-font-lock-operator">;</span> 1500<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> rectangle_area <span class="org-tuareg-font-lock-label">~width</span><span class="org-tuareg-font-lock-operator">:</span> 200 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">height</span><span class="org-tuareg-font-lock-operator">:</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;:</span> rectangle_area <span class="org-tuareg-font-lock-label">~width</span><span class="org-tuareg-font-lock-operator">:</span> 200 <span class="org-tuareg-font-lock-label">~height</span><span class="org-tuareg-font-lock-operator">:</span> 20 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 4000

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">h</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> rectangle_area <span class="org-tuareg-font-lock-label">~height</span><span class="org-tuareg-font-lock-operator">:</span>h <span class="org-tuareg-font-lock-label">~width</span><span class="org-tuareg-font-lock-operator">:</span>30 <span class="org-tuareg-font-lock-operator">)</span>
<span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>300<span class="org-tuareg-font-lock-operator">;</span> 600<span class="org-tuareg-font-lock-operator">;</span> 900<span class="org-tuareg-font-lock-operator">;</span> 1200<span class="org-tuareg-font-lock-operator">;</span> 1500<span class="org-tuareg-font-lock-operator">]</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-4-9" class="outline-4">
<h4 id="sec-1-4-9"><span class="section-number-4">1.4.9</span> Function Composition</h4>
<div class="outline-text-4" id="text-1-4-9">
<p>
Operators:
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-comment-delimiter">(* </span><span class="org-comment">Composition Operator </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-preprocessor">&lt;&lt;) f g x = f (g x) ;;</span>

<span class="org-preprocessor">(* F# Piping Composition Operator *)</span>
<span class="org-preprocessor">let (&gt;&gt;</span><span class="org-tuareg-font-lock-operator">)</span> f g x <span class="org-tuareg-font-lock-operator">=</span> g<span class="org-tuareg-font-lock-operator">(</span> f x<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">F# Piping Operator </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">(|&gt;)</span> x f  <span class="org-tuareg-font-lock-operator">=</span> f x <span class="org-tuareg-font-double-colon">;;</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">(&lt;|)</span> f x <span class="org-tuareg-font-lock-operator">=</span> f x <span class="org-tuareg-font-double-colon">;;</span>
</pre>
</div>

<p>
Example: Composition Operator
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">f1</span><span class="org-variable-name"> x</span> <span class="org-tuareg-font-lock-operator">=</span> 10 <span class="org-tuareg-font-lock-operator">+</span> x <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f1</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">f2</span><span class="org-variable-name"> x</span> <span class="org-tuareg-font-lock-operator">=</span> 2 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f2</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">f3</span><span class="org-variable-name"> x</span> <span class="org-tuareg-font-lock-operator">=</span> x <span class="org-tuareg-font-lock-operator">-</span> 8 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f3</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span>  f1<span class="org-tuareg-font-lock-operator">(</span> f2 <span class="org-tuareg-font-lock-operator">(</span>f3 10<span class="org-tuareg-font-lock-operator">))</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 14
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-tuareg-font-lock-operator">(</span>f1 <span class="org-preprocessor">&lt;&lt; f2 &lt;&lt; f3) 10 ;;</span>
<span class="org-preprocessor">- : int = 14</span>
<span class="org-preprocessor">&gt;</span>


<span class="org-preprocessor">&gt;  let f = f1 &lt;&lt; f2 &lt;&lt; f3 ;;</span>
<span class="org-preprocessor">val f : int -&gt; int = &lt;fun&gt;</span>
<span class="org-preprocessor">&gt;  f 10 ;;</span>
<span class="org-preprocessor">- : int = 14</span>
<span class="org-preprocessor">&gt;  f 20 ;;</span>
<span class="org-preprocessor">- : int = 34</span>
<span class="org-preprocessor">&gt;</span>
</pre>
</div>

<p>
Example: Pipe Operators
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span>
  10 <span class="org-tuareg-font-lock-operator">|&gt;</span> f3 <span class="org-tuareg-font-lock-operator">|&gt;</span> f2 <span class="org-tuareg-font-lock-operator">|&gt;</span> f1 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 14

<span class="org-tuareg-font-lock-operator">&gt;</span>
  10 <span class="org-tuareg-font-lock-operator">|&gt;</span> f3 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 2

<span class="org-tuareg-font-lock-operator">&gt;</span>  2 <span class="org-tuareg-font-lock-operator">|&gt;</span> f2 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 4

<span class="org-tuareg-font-lock-operator">&gt;</span>  4 <span class="org-tuareg-font-lock-operator">|&gt;</span> f1 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 14
<span class="org-tuareg-font-lock-operator">&gt;</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> 10 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>f3 <span class="org-tuareg-font-lock-operator">&gt;&gt;</span> f2 <span class="org-tuareg-font-lock-operator">&gt;&gt;</span> f1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 14

<span class="org-tuareg-font-lock-operator">&gt;</span> f3 <span class="org-tuareg-font-lock-operator">&gt;&gt;</span> f2 <span class="org-tuareg-font-lock-operator">&gt;&gt;</span> f1  <span class="org-tuareg-font-lock-operator">&lt;|</span> 10 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 14


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">f</span> <span class="org-tuareg-font-lock-operator">=</span> f3 <span class="org-tuareg-font-lock-operator">&gt;&gt;</span> f2 <span class="org-tuareg-font-lock-operator">&gt;&gt;</span> f1 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> f 10 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 14
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-4-10" class="outline-4">
<h4 id="sec-1-4-10"><span class="section-number-4">1.4.10</span> Lambda Functions/ Anonymous Functions</h4>
<div class="outline-text-4" id="text-1-4-10">
<p>
Anonymous functions, also known as lambda functions, are useful to pass already existing functions to another functions as arguments and create closures.  They are specially useful when used with map filter and another higher order functions. They can be seen as bolts that connect one part to another.
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x<span class="org-tuareg-font-lock-operator">+</span>1                       <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int
<span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">+.</span> 1.0                  <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float
<span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">^</span> x                     <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
<span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name">y</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">+</span> y                 <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">*</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> int
<span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name">y</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>y<span class="org-tuareg-font-lock-operator">,</span>x<span class="org-tuareg-font-lock-operator">)</span>                 <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a<span class="org-tuareg-font-lock-operator">*</span>'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'b<span class="org-tuareg-font-lock-operator">*</span>'a<span class="org-tuareg-font-lock-operator">)</span>
<span class="org-keyword">fun</span> <span class="org-variable-name">x y</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>x<span class="org-tuareg-font-lock-operator">,</span>y<span class="org-tuareg-font-lock-operator">)</span>                   <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a<span class="org-tuareg-font-lock-operator">*</span>'b<span class="org-tuareg-font-lock-operator">)</span>
<span class="org-keyword">fun</span> <span class="org-variable-name">x y z</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>x<span class="org-tuareg-font-lock-operator">,</span>y<span class="org-tuareg-font-lock-operator">,</span>z<span class="org-tuareg-font-lock-operator">)</span>               <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'c <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a<span class="org-tuareg-font-lock-operator">*</span>'b<span class="org-tuareg-font-lock-operator">*</span>'c<span class="org-tuareg-font-lock-operator">)</span>
</pre>
</div>

<p>
In the shell:
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x<span class="org-tuareg-font-lock-operator">+</span>1  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x<span class="org-tuareg-font-lock-operator">+</span>1<span class="org-tuareg-font-lock-operator">)</span> 10 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 11

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">f</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x<span class="org-tuareg-font-lock-operator">+</span>1 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> f 10 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 11

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x<span class="org-tuareg-font-lock-operator">+</span>1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5 <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> 


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x y z</span> <span class="org-tuareg-font-lock-operator">-&gt;</span>  10 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">+</span> 4 <span class="org-tuareg-font-lock-operator">*</span> z <span class="org-tuareg-font-lock-operator">-</span> 3 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">*</span> y<span class="org-tuareg-font-lock-operator">)</span> 1 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">x = 1 </span><span class="org-comment-delimiter">*)</span> 
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x y z</span> <span class="org-tuareg-font-lock-operator">-&gt;</span>  10 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">+</span> 4 <span class="org-tuareg-font-lock-operator">*</span> z <span class="org-tuareg-font-lock-operator">-</span> 3 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">*</span> y<span class="org-tuareg-font-lock-operator">)</span> 1 <span class="org-tuareg-font-double-colon">;;</span> 
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">x = 1 y = 2 </span><span class="org-comment-delimiter">*)</span> 
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x y z</span> <span class="org-tuareg-font-lock-operator">-&gt;</span>  10 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">+</span> 4 <span class="org-tuareg-font-lock-operator">*</span> z <span class="org-tuareg-font-lock-operator">-</span> 3 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">*</span> y<span class="org-tuareg-font-lock-operator">)</span> 1 2 <span class="org-tuareg-font-double-colon">;;</span>  
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">x = 1 y = 2  z = 3 </span><span class="org-comment-delimiter">*)</span> 
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x y z</span> <span class="org-tuareg-font-lock-operator">-&gt;</span>  10 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">+</span> 4 <span class="org-tuareg-font-lock-operator">*</span> z <span class="org-tuareg-font-lock-operator">-</span> 3 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">*</span> y<span class="org-tuareg-font-lock-operator">)</span> 1 2 3 <span class="org-tuareg-font-double-colon">;;</span> 
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 16 

<span class="org-comment-delimiter">(* </span><span class="org-comment">Partial Evaluation </span><span class="org-comment-delimiter">*)</span>
<span class="org-comment-delimiter">(*</span><span class="org-comment">----------------------</span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">f</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-keyword">fun</span> <span class="org-variable-name">x y z</span> <span class="org-tuareg-font-lock-operator">-&gt;</span>  10 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">+</span> 4 <span class="org-tuareg-font-lock-operator">*</span> z <span class="org-tuareg-font-lock-operator">-</span> 3 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">*</span> y <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>f 1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">((</span>f 1<span class="org-tuareg-font-lock-operator">)</span> 2<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">(((</span>f 1<span class="org-tuareg-font-lock-operator">)</span> 2<span class="org-tuareg-font-lock-operator">)</span> 3<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 16

<span class="org-tuareg-font-lock-operator">&gt;</span> f 1 2 3 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 16


<span class="org-comment-delimiter">(* </span><span class="org-comment">x= ?, y=?, z=3 The variables x and y varies </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> y</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> f x y 3<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[(</span>1<span class="org-tuareg-font-lock-operator">,</span> 2<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> 4<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>5<span class="org-tuareg-font-lock-operator">,</span> 6<span class="org-tuareg-font-lock-operator">)]</span>  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>16<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">-</span>28<span class="org-tuareg-font-lock-operator">]</span>


<span class="org-comment-delimiter">(* </span><span class="org-comment">x= ?, y=2, z=? The variables x and z varies </span><span class="org-comment-delimiter">*)</span> 
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> z</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> f x 2 z<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[(</span>1<span class="org-tuareg-font-lock-operator">,</span> 2<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> 4<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>5<span class="org-tuareg-font-lock-operator">,</span> 6<span class="org-tuareg-font-lock-operator">)]</span>  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>12<span class="org-tuareg-font-lock-operator">;</span> 28<span class="org-tuareg-font-lock-operator">;</span> 44<span class="org-tuareg-font-lock-operator">]</span>


<span class="org-comment-delimiter">(* </span><span class="org-comment">All variables varies </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> y</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> z</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> f x y z<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[(</span>1<span class="org-tuareg-font-lock-operator">,</span> 2<span class="org-tuareg-font-lock-operator">,</span> 3<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> 3<span class="org-tuareg-font-lock-operator">,</span> 1<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> 4<span class="org-tuareg-font-lock-operator">,</span> 5<span class="org-tuareg-font-lock-operator">)]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>16<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 14<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-doc">(** Filtering                      *)</span>
<span class="org-doc">(**--------------------------------*)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>filter <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&gt;</span> 5<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">-</span>3<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>filter <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> y</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">+</span> y <span class="org-tuareg-font-lock-operator">&gt;</span> 10<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[(-</span>10<span class="org-tuareg-font-lock-operator">,</span> 30<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>5<span class="org-tuareg-font-lock-operator">,</span> 4<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>12<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-operator">-</span>8<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>9<span class="org-tuareg-font-lock-operator">,</span> 8<span class="org-tuareg-font-lock-operator">)]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">*</span> int<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[(-</span>10<span class="org-tuareg-font-lock-operator">,</span> 30<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>9<span class="org-tuareg-font-lock-operator">,</span> 8<span class="org-tuareg-font-lock-operator">)]</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">[(-</span>10<span class="org-tuareg-font-lock-operator">,</span> 30<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>5<span class="org-tuareg-font-lock-operator">,</span> 4<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>12<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-operator">-</span>8<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>9<span class="org-tuareg-font-lock-operator">,</span> 8<span class="org-tuareg-font-lock-operator">)]</span>
<span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>filter <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> y</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">+</span> y <span class="org-tuareg-font-lock-operator">&gt;</span> 10<span class="org-tuareg-font-lock-operator">)</span>
<span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">*</span> int<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[(-</span>10<span class="org-tuareg-font-lock-operator">,</span> 30<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>9<span class="org-tuareg-font-lock-operator">,</span> 8<span class="org-tuareg-font-lock-operator">)]</span>

<span class="org-doc">(** Filters and maps be combined with the (|&gt;) pipelining operator to process data *)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">[(-</span>10<span class="org-tuareg-font-lock-operator">,</span> 30<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>5<span class="org-tuareg-font-lock-operator">,</span> 4<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>12<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-operator">-</span>8<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>9<span class="org-tuareg-font-lock-operator">,</span> 8<span class="org-tuareg-font-lock-operator">)]</span>
<span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>filter <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> y</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">+</span> y <span class="org-tuareg-font-lock-operator">&gt;</span> 10<span class="org-tuareg-font-lock-operator">)</span>
<span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> y</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 4 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">+</span> 3 <span class="org-tuareg-font-lock-operator">*</span> y<span class="org-tuareg-font-lock-operator">)</span> 
<span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>50<span class="org-tuareg-font-lock-operator">;</span> 60<span class="org-tuareg-font-lock-operator">]</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-4-11" class="outline-4">
<h4 id="sec-1-4-11"><span class="section-number-4">1.4.11</span> Recursive Functions</h4>
<div class="outline-text-4" id="text-1-4-11">
<div class="org-src-container">

<pre class="src src-ocaml">    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">factorial1</span><span class="org-variable-name"> n</span> <span class="org-tuareg-font-lock-operator">=</span>
        <span class="org-keyword">match</span> n <span class="org-keyword">with</span>
        <span class="org-tuareg-font-lock-operator">|</span> 0 <span class="org-tuareg-font-lock-operator">-&gt;</span> 1
        <span class="org-tuareg-font-lock-operator">|</span> 1 <span class="org-tuareg-font-lock-operator">-&gt;</span> 0
        <span class="org-tuareg-font-lock-operator">|</span> k <span class="org-tuareg-font-lock-operator">-&gt;</span> k <span class="org-tuareg-font-lock-operator">*</span> factorial1 <span class="org-tuareg-font-lock-operator">(</span>k <span class="org-tuareg-font-lock-operator">-</span> 1<span class="org-tuareg-font-lock-operator">)</span>
    <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">factorial1</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">factorial2</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-keyword">function</span>
        <span class="org-tuareg-font-lock-operator">|</span> 0     <span class="org-tuareg-font-lock-operator">-&gt;</span> 1
        <span class="org-tuareg-font-lock-operator">|</span> 1     <span class="org-tuareg-font-lock-operator">-&gt;</span> 1
        <span class="org-tuareg-font-lock-operator">|</span> n     <span class="org-tuareg-font-lock-operator">-&gt;</span> n <span class="org-tuareg-font-lock-operator">*</span> factorial2 <span class="org-tuareg-font-lock-operator">(</span>n <span class="org-tuareg-font-lock-operator">-</span> 1<span class="org-tuareg-font-lock-operator">)</span>
    <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">factorial2</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> factorial1 5 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 120

     <span class="org-tuareg-font-lock-operator">#</span> factorial2 5 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 120

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">map</span><span class="org-variable-name"> f xs</span> <span class="org-tuareg-font-lock-operator">=</span>   <span class="org-keyword">match</span> xs <span class="org-keyword">with</span>
        <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">[]</span>        <span class="org-tuareg-font-lock-operator">-&gt;</span>  <span class="org-tuareg-font-lock-operator">[]</span>
        <span class="org-tuareg-font-lock-operator">|</span> h<span class="org-tuareg-font-lock-operator">::</span>tl     <span class="org-tuareg-font-lock-operator">-&gt;</span>  <span class="org-tuareg-font-lock-operator">(</span>f h<span class="org-tuareg-font-lock-operator">)::(</span>map f tl<span class="org-tuareg-font-lock-operator">)</span>
    <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">map</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> map <span class="org-tuareg-font-lock-operator">((+)</span> 5<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 25 <span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>15<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 14<span class="org-tuareg-font-lock-operator">]</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">sumlist</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-keyword">function</span>
        <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">[]</span>        <span class="org-tuareg-font-lock-operator">-&gt;</span> 0
        <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">[</span>a<span class="org-tuareg-font-lock-operator">]</span>       <span class="org-tuareg-font-lock-operator">-&gt;</span> a
        <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">(</span>hd<span class="org-tuareg-font-lock-operator">::</span>tl<span class="org-tuareg-font-lock-operator">)</span>  <span class="org-tuareg-font-lock-operator">-&gt;</span> hd <span class="org-tuareg-font-lock-operator">+</span> sumlist tl
    <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">sumlist</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> sumlist <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 42

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">prodlist</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-keyword">function</span>
        <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">[]</span>        <span class="org-tuareg-font-lock-operator">-&gt;</span> 1
        <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">[</span>a<span class="org-tuareg-font-lock-operator">]</span>       <span class="org-tuareg-font-lock-operator">-&gt;</span> a
        <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">(</span>hd<span class="org-tuareg-font-lock-operator">::</span>tl<span class="org-tuareg-font-lock-operator">)</span>  <span class="org-tuareg-font-lock-operator">-&gt;</span> hd <span class="org-tuareg-font-lock-operator">*</span> prodlist tl
    <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">prodlist</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> prodlist <span class="org-tuareg-font-lock-operator">[</span>1 <span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6 <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 720

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">filter</span><span class="org-variable-name"> f xs</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-keyword">match</span> xs <span class="org-keyword">with</span>
        <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">[]</span>        <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">[]</span>
        <span class="org-tuareg-font-lock-operator">|</span> h<span class="org-tuareg-font-lock-operator">::</span>tl     <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-keyword">if</span> f h
                       <span class="org-keyword">then</span> h<span class="org-tuareg-font-lock-operator">::(</span>filter f tl<span class="org-tuareg-font-lock-operator">)</span>
                       <span class="org-keyword">else</span> filter f tl

    <span class="org-tuareg-font-double-colon">;;</span>

     <span class="org-tuareg-font-lock-operator">#</span> filter <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&lt;</span> 10<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 15<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">]</span>


    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">take</span><span class="org-variable-name"> n xs</span> <span class="org-tuareg-font-lock-operator">=</span>
        <span class="org-keyword">match</span> <span class="org-tuareg-font-lock-operator">(</span>n<span class="org-tuareg-font-lock-operator">,</span> xs<span class="org-tuareg-font-lock-operator">)</span> <span class="org-keyword">with</span>
        <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">(</span>0<span class="org-tuareg-font-lock-operator">,</span> _    <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">[]</span>
        <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">(</span>_<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-operator">[]</span>   <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">[]</span>
        <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">(</span>k<span class="org-tuareg-font-lock-operator">,</span> h<span class="org-tuareg-font-lock-operator">::</span>tl<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> k<span class="org-tuareg-font-lock-operator">::(</span>take <span class="org-tuareg-font-lock-operator">(</span>n<span class="org-tuareg-font-lock-operator">-</span>1<span class="org-tuareg-font-lock-operator">)</span> tl<span class="org-tuareg-font-lock-operator">)</span>
    <span class="org-tuareg-font-double-colon">;;</span><span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">take</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> take 3 <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 15<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>3<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> take 20 <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 15<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>20<span class="org-tuareg-font-lock-operator">;</span> 19<span class="org-tuareg-font-lock-operator">;</span> 18<span class="org-tuareg-font-lock-operator">;</span> 17<span class="org-tuareg-font-lock-operator">;</span> 16<span class="org-tuareg-font-lock-operator">;</span> 15<span class="org-tuareg-font-lock-operator">;</span> 14<span class="org-tuareg-font-lock-operator">]</span>


    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">drop</span><span class="org-variable-name"> n xs</span> <span class="org-tuareg-font-lock-operator">=</span>
        <span class="org-keyword">if</span> n <span class="org-tuareg-font-lock-operator">&lt;</span> 0 <span class="org-keyword">then</span> <span class="org-builtin">failwith</span> <span class="org-string">"n negative"</span>
        <span class="org-keyword">else</span>
            <span class="org-keyword">match</span> <span class="org-tuareg-font-lock-operator">(</span>n<span class="org-tuareg-font-lock-operator">,</span> xs<span class="org-tuareg-font-lock-operator">)</span> <span class="org-keyword">with</span>
            <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">(</span>0<span class="org-tuareg-font-lock-operator">,</span> _ <span class="org-tuareg-font-lock-operator">)</span>    <span class="org-tuareg-font-lock-operator">-&gt;</span>  xs
            <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">(</span>_<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-operator">[])</span>    <span class="org-tuareg-font-lock-operator">-&gt;</span>  <span class="org-tuareg-font-lock-operator">[]</span>
            <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">(</span>k<span class="org-tuareg-font-lock-operator">,</span> h<span class="org-tuareg-font-lock-operator">::</span>tl<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span>  drop <span class="org-tuareg-font-lock-operator">(</span>k<span class="org-tuareg-font-lock-operator">-</span>1<span class="org-tuareg-font-lock-operator">)</span> tl
    <span class="org-tuareg-font-double-colon">;;</span><span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">drop</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> drop <span class="org-tuareg-font-lock-operator">(-</span>10<span class="org-tuareg-font-lock-operator">)</span>  <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 15<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-constructor">Exception</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-builtin">Failure</span> <span class="org-string">"n negative"</span>.

    <span class="org-tuareg-font-lock-operator">#</span> drop 10 <span class="org-tuareg-font-lock-operator">[]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[]</span>

    <span class="org-tuareg-font-lock-operator">#</span> drop 0 <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 15<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 15<span class="org-tuareg-font-lock-operator">]</span>

    <span class="org-tuareg-font-lock-operator">#</span> drop 5 <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 15<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>6<span class="org-tuareg-font-lock-operator">;</span> 15<span class="org-tuareg-font-lock-operator">]</span>

    <span class="org-tuareg-font-lock-operator">#</span> drop 25 <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 15<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[]</span>

<span class="org-comment-delimiter">(*</span>

<span class="org-comment">    Haskell Function:</span>
<span class="org-comment">    foldl1 : ( a -&gt; a -&gt; a ) -&gt; [a] -&gt; [a]</span>

<span class="org-comment">    &gt; foldl1 (\x y -&gt; 10*x + y) [1, 2, 3, 4, 5]</span>
<span class="org-comment">    12345</span>

<span class="org-comment">    foldl1 f  [1, 2, 3, 4, 5]  =</span>
<span class="org-comment">    f 5 (f 4 (f 3 (f 1 2)))</span>

<span class="org-comment">    foldl f [x0, x1, x2, x3, x4, x5 ... ] =</span>

<span class="org-comment">    f xn (f xn-1 (f xn-2 ... (f x3 (f x2 (f x1 x0))))) ....</span>

<span class="org-comment">    From: http://en.wikipedia.org/wiki/Fold_%28higher-order_function%29</span>
<span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">foldl1</span><span class="org-variable-name"> f xs</span> <span class="org-tuareg-font-lock-operator">=</span>
        <span class="org-keyword">match</span> xs <span class="org-keyword">with</span>
        <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">[]</span>            <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-builtin">failwith</span> <span class="org-string">"Empty list"</span>
        <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">[</span>x<span class="org-tuareg-font-lock-operator">]</span>           <span class="org-tuareg-font-lock-operator">-&gt;</span> x
        <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">(</span>x<span class="org-tuareg-font-lock-operator">::</span>y<span class="org-tuareg-font-lock-operator">::</span>tl<span class="org-tuareg-font-lock-operator">)</span>    <span class="org-tuareg-font-lock-operator">-&gt;</span> foldl1 f <span class="org-tuareg-font-lock-operator">(</span>f x y <span class="org-tuareg-font-lock-operator">::</span> tl<span class="org-tuareg-font-lock-operator">)</span>
    <span class="org-tuareg-font-double-colon">;;</span>

    <span class="org-tuareg-font-lock-operator">#</span> foldl1 <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x y</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 10<span class="org-tuareg-font-lock-operator">*</span>x <span class="org-tuareg-font-lock-operator">+</span> y<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 12345


    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">foldr1</span><span class="org-variable-name"> f xs</span> <span class="org-tuareg-font-lock-operator">=</span>
        <span class="org-keyword">match</span> xs <span class="org-keyword">with</span>
        <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">[]</span>        <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-builtin">failwith</span> <span class="org-string">"Empty list"</span>
        <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">[</span>x<span class="org-tuareg-font-lock-operator">]</span>       <span class="org-tuareg-font-lock-operator">-&gt;</span> x
        <span class="org-tuareg-font-lock-operator">|</span> x<span class="org-tuareg-font-lock-operator">::</span>tl     <span class="org-tuareg-font-lock-operator">-&gt;</span> f x <span class="org-tuareg-font-lock-operator">(</span>foldr1 f tl<span class="org-tuareg-font-lock-operator">)</span>
    <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">foldr1</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> foldr1 <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x y</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">+</span> 10<span class="org-tuareg-font-lock-operator">*</span>y<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 654321

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">foldl</span><span class="org-variable-name"> f acc xs</span> <span class="org-tuareg-font-lock-operator">=</span>
        <span class="org-keyword">match</span> xs <span class="org-keyword">with</span>
        <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">[]</span>     <span class="org-tuareg-font-lock-operator">-&gt;</span> acc
        <span class="org-tuareg-font-lock-operator">|</span> x<span class="org-tuareg-font-lock-operator">::</span>tl  <span class="org-tuareg-font-lock-operator">-&gt;</span> foldl f <span class="org-tuareg-font-lock-operator">(</span>f acc x<span class="org-tuareg-font-lock-operator">)</span> tl
    <span class="org-tuareg-font-double-colon">;;</span>

    <span class="org-tuareg-font-lock-operator">#</span> foldl <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x y</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 10<span class="org-tuareg-font-lock-operator">*</span>x <span class="org-tuareg-font-lock-operator">+</span> y<span class="org-tuareg-font-lock-operator">)</span> 0  <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 123456

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">foldr</span><span class="org-variable-name"> f acc xs</span> <span class="org-tuareg-font-lock-operator">=</span>
        <span class="org-keyword">match</span> xs <span class="org-keyword">with</span>
        <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">[]</span>    <span class="org-tuareg-font-lock-operator">-&gt;</span> acc
        <span class="org-tuareg-font-lock-operator">|</span> x<span class="org-tuareg-font-lock-operator">::</span>tl <span class="org-tuareg-font-lock-operator">-&gt;</span> f x <span class="org-tuareg-font-lock-operator">(</span>foldr f acc tl<span class="org-tuareg-font-lock-operator">)</span>
    <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">foldr</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> foldr <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x y</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">+</span> 10<span class="org-tuareg-font-lock-operator">*</span>y<span class="org-tuareg-font-lock-operator">)</span> 0  <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 654321


    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">range</span><span class="org-variable-name"> start stop step</span> <span class="org-tuareg-font-lock-operator">=</span>
        <span class="org-keyword">if</span> start <span class="org-tuareg-font-lock-operator">&gt;</span> stop
        <span class="org-keyword">then</span> <span class="org-tuareg-font-lock-operator">[]</span>
        <span class="org-keyword">else</span> start<span class="org-tuareg-font-lock-operator">::(</span>range  <span class="org-tuareg-font-lock-operator">(</span>start <span class="org-tuareg-font-lock-operator">+</span> step<span class="org-tuareg-font-lock-operator">)</span> stop step <span class="org-tuareg-font-lock-operator">)</span>
    <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">range</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> range 0 30 1 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span>  <span class="org-tuareg-font-lock-operator">[</span>0<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 11<span class="org-tuareg-font-lock-operator">;</span> 12<span class="org-tuareg-font-lock-operator">;</span> 13<span class="org-tuareg-font-lock-operator">;</span> 14<span class="org-tuareg-font-lock-operator">;</span>
    15<span class="org-tuareg-font-lock-operator">;</span> 16<span class="org-tuareg-font-lock-operator">;</span> 17<span class="org-tuareg-font-lock-operator">;</span> 18<span class="org-tuareg-font-lock-operator">;</span> 19<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 21<span class="org-tuareg-font-lock-operator">;</span> 22<span class="org-tuareg-font-lock-operator">;</span> 23<span class="org-tuareg-font-lock-operator">;</span> 24<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">;</span>    26<span class="org-tuareg-font-lock-operator">;</span> 27<span class="org-tuareg-font-lock-operator">;</span> 28<span class="org-tuareg-font-lock-operator">;</span> 29<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">]</span>

    <span class="org-tuareg-font-lock-operator">#</span> range 0 100 10 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>0<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">;</span> 60<span class="org-tuareg-font-lock-operator">;</span> 70<span class="org-tuareg-font-lock-operator">;</span> 80<span class="org-tuareg-font-lock-operator">;</span> 90<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">]</span>

    <span class="org-tuareg-font-lock-operator">#</span> range <span class="org-tuareg-font-lock-operator">(-</span>100<span class="org-tuareg-font-lock-operator">)</span> 100 10 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[-</span>100<span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">-</span>90<span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">-</span>80<span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">-</span>70<span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">-</span>60<span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">-</span>50<span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">-</span>40<span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">-</span>30<span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">-</span>20<span class="org-tuareg-font-lock-operator">;</span>
    <span class="org-tuareg-font-lock-operator">-</span>10<span class="org-tuareg-font-lock-operator">;</span> 0<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">;</span> 60<span class="org-tuareg-font-lock-operator">;</span> 70<span class="org-tuareg-font-lock-operator">;</span> 80<span class="org-tuareg-font-lock-operator">;</span> 90<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">]</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-sec-1-4-12" class="outline-4">
<h4 id="sec-1-4-12"><span class="section-number-4">1.4.12</span> Mutable References</h4>
<div class="outline-text-4" id="text-1-4-12">
<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-doc">(** Declare a reference *)</span>

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-builtin">ref</span> 0 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">x</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 0<span class="org-tuareg-font-lock-operator">}</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-doc">(** Get the value of a reference *)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">!</span>x <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 0
    <span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-doc">(** Set the value of a reference *)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">(:=)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span> x <span class="org-tuareg-font-lock-operator">:=</span> 100 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-doc">(** Update a reference *)</span>

    <span class="org-tuareg-font-lock-operator">#</span>  x<span class="org-tuareg-font-lock-operator">:=</span> <span class="org-tuareg-font-lock-operator">!</span>x <span class="org-tuareg-font-lock-operator">+</span> 100 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

    <span class="org-tuareg-font-lock-operator">#</span> x <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 100<span class="org-tuareg-font-lock-operator">}</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-doc">(** A reference can be accessed inside a function *)</span>


    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-builtin">ref</span> 10 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">x</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 10<span class="org-tuareg-font-lock-operator">}</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">add_10_to_x</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">=</span> 
              x <span class="org-tuareg-font-lock-operator">:=</span> <span class="org-tuareg-font-lock-operator">!</span>x <span class="org-tuareg-font-lock-operator">+</span> 10 
            <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">add_10_to_x</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span>  add_10_to_x <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
    <span class="org-tuareg-font-lock-operator">#</span> x <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 20<span class="org-tuareg-font-lock-operator">}</span>

    <span class="org-tuareg-font-lock-operator">#</span> add_10_to_x <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
    <span class="org-tuareg-font-lock-operator">#</span> x <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 30<span class="org-tuareg-font-lock-operator">}</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-doc">(** Functions that operates references *)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">y</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-builtin">ref</span> 10 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">y</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 10<span class="org-tuareg-font-lock-operator">}</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">get_ref</span><span class="org-variable-name"> x</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">!</span>x <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">get_ref</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span>  get_ref y <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 10
    <span class="org-tuareg-font-lock-operator">#</span>     

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">set_ref</span><span class="org-variable-name"> r new_value</span> <span class="org-tuareg-font-lock-operator">=</span> 
          r <span class="org-tuareg-font-lock-operator">:=</span> new_value 
      <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">set_ref</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span>  set_ref y 100 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
    <span class="org-tuareg-font-lock-operator">#</span> y <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 100<span class="org-tuareg-font-lock-operator">}</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">add_x_to_ref</span><span class="org-variable-name"> r x</span> <span class="org-tuareg-font-lock-operator">=</span> 
         r <span class="org-tuareg-font-lock-operator">:=</span> <span class="org-tuareg-font-lock-operator">!</span>r <span class="org-tuareg-font-lock-operator">+</span> x 
      <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">add_x_to_ref</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 


    <span class="org-tuareg-font-lock-operator">#</span>  add_x_to_ref y 200 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

    <span class="org-tuareg-font-lock-operator">#</span> y <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 300<span class="org-tuareg-font-lock-operator">}</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-comment-delimiter">(* </span>
<span class="org-comment">        y &lt;-- y + 1 + 2 + 3 + 4 + 5 + 6 </span>
<span class="org-comment">    </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>iter <span class="org-tuareg-font-lock-operator">(</span>add_x_to_ref y<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
    <span class="org-tuareg-font-lock-operator">#</span> y <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 321<span class="org-tuareg-font-lock-operator">}</span>
    <span class="org-tuareg-font-lock-operator">#</span> 


    <span class="org-comment-delimiter">(*******************)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">y</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-builtin">ref</span> 10 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">y</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 10<span class="org-tuareg-font-lock-operator">}</span>
    <span class="org-tuareg-font-lock-operator">#</span>     

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">add_10_to_ref</span><span class="org-variable-name"> r</span> <span class="org-tuareg-font-lock-operator">=</span>
         r <span class="org-tuareg-font-lock-operator">:=</span> <span class="org-tuareg-font-lock-operator">!</span>r <span class="org-tuareg-font-lock-operator">+</span> 10 
      <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">add_10_to_ref</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span> add_10_to_ref y <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
    <span class="org-tuareg-font-lock-operator">#</span> y <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 20<span class="org-tuareg-font-lock-operator">}</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span>  add_10_to_ref y <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
    <span class="org-tuareg-font-lock-operator">#</span> y <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 30<span class="org-tuareg-font-lock-operator">}</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-comment-delimiter">(*********************************)</span>

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">swap_ref</span><span class="org-variable-name"> a b</span> <span class="org-tuareg-font-lock-operator">=</span> 
          <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">c</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">!</span>a <span class="org-tuareg-font-lock-governing">in</span>
            a <span class="org-tuareg-font-lock-operator">:=</span> <span class="org-tuareg-font-lock-operator">!</span>b <span class="org-tuareg-font-lock-operator">;</span>
            b <span class="org-tuareg-font-lock-operator">:=</span> c
      <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">swap_ref</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-builtin">ref</span> 10 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">x</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 10<span class="org-tuareg-font-lock-operator">}</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">y</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-builtin">ref</span> 20 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">y</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 20<span class="org-tuareg-font-lock-operator">}</span>
    <span class="org-tuareg-font-lock-operator">#</span> 
      swap_ref x y <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
    <span class="org-tuareg-font-lock-operator">#</span> x <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 20<span class="org-tuareg-font-lock-operator">}</span>
    <span class="org-tuareg-font-lock-operator">#</span> y <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 10<span class="org-tuareg-font-lock-operator">}</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-doc">(** Capturing references with closures *)</span>


    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">make_counter</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">=</span> 
              <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">i</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-builtin">ref</span> 0 <span class="org-tuareg-font-lock-governing">in</span>
              <span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">-&gt;</span>
                i<span class="org-tuareg-font-lock-operator">:=</span> <span class="org-tuareg-font-lock-operator">!</span>i <span class="org-tuareg-font-lock-operator">+</span> 1 <span class="org-tuareg-font-lock-operator">;</span>
                <span class="org-tuareg-font-lock-operator">!</span>i
                <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">make_counter</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 


    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">counter1</span> <span class="org-tuareg-font-lock-operator">=</span> make_counter <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">counter1</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 
      counter1 <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1
    <span class="org-tuareg-font-lock-operator">#</span> counter1 <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 2
    <span class="org-tuareg-font-lock-operator">#</span> counter1 <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 3
    <span class="org-tuareg-font-lock-operator">#</span> counter1 <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 4
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">counter2</span> <span class="org-tuareg-font-lock-operator">=</span> make_counter <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">counter2</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> counter2 <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1
    <span class="org-tuareg-font-lock-operator">#</span> counter2 <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 2
    <span class="org-tuareg-font-lock-operator">#</span> counter1 <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 5
    <span class="org-tuareg-font-lock-operator">#</span>         

<span class="org-doc">(** Miscellaneous *)</span>


    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">lst</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">[</span>1.0<span class="org-tuareg-font-lock-operator">;</span> 2.0<span class="org-tuareg-font-lock-operator">;</span> 3.0<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">lst</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1.<span class="org-tuareg-font-lock-operator">;</span> 2.<span class="org-tuareg-font-lock-operator">;</span> 3.<span class="org-tuareg-font-lock-operator">]}</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">!</span>lst <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1.<span class="org-tuareg-font-lock-operator">;</span> 2.<span class="org-tuareg-font-lock-operator">;</span> 3.<span class="org-tuareg-font-lock-operator">]</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>nth <span class="org-tuareg-font-lock-operator">(!</span>lst<span class="org-tuareg-font-lock-operator">)</span> 0 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 1.
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>nth <span class="org-tuareg-font-lock-operator">(!</span>lst<span class="org-tuareg-font-lock-operator">)</span> 2 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 3.
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">*.</span> 2.<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">!</span>lst <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2.<span class="org-tuareg-font-lock-operator">;</span> 4.<span class="org-tuareg-font-lock-operator">;</span> 6.<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span> lst <span class="org-tuareg-font-lock-operator">:=</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">*.</span> 2.<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">!</span>lst <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
    <span class="org-tuareg-font-lock-operator">#</span> lst <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2.<span class="org-tuareg-font-lock-operator">;</span> 4.<span class="org-tuareg-font-lock-operator">;</span> 6.<span class="org-tuareg-font-lock-operator">]}</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span>  lst <span class="org-tuareg-font-lock-operator">:=</span> <span class="org-tuareg-font-lock-operator">!</span>lst <span class="org-tuareg-font-lock-operator">@</span> <span class="org-tuareg-font-lock-operator">[</span>3.23<span class="org-tuareg-font-lock-operator">;</span> 832.23<span class="org-tuareg-font-lock-operator">;</span> 90.23<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
    <span class="org-tuareg-font-lock-operator">#</span> lst <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2.<span class="org-tuareg-font-lock-operator">;</span> 4.<span class="org-tuareg-font-lock-operator">;</span> 6.<span class="org-tuareg-font-lock-operator">;</span> 3.23<span class="org-tuareg-font-lock-operator">;</span> 832.23<span class="org-tuareg-font-lock-operator">;</span> 90.23<span class="org-tuareg-font-lock-operator">]}</span>
    <span class="org-tuareg-font-lock-operator">#</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-4-13" class="outline-4">
<h4 id="sec-1-4-13"><span class="section-number-4">1.4.13</span> Control Structures</h4>
<div class="outline-text-4" id="text-1-4-13">
<p>
Conditional Expressions
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">test</span><span class="org-variable-name"> x</span> <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-keyword">if</span> x <span class="org-tuareg-font-lock-operator">&gt;</span> 0
<span class="org-keyword">then</span> print_string <span class="org-string">"x is positive"</span>
<span class="org-keyword">else</span> print_string <span class="org-string">"x is negative"</span>
<span class="org-tuareg-font-double-colon">;;</span>


<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">test</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> test 10 <span class="org-tuareg-font-double-colon">;;</span>
x is positive<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> test <span class="org-tuareg-font-lock-operator">(-</span>10<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
x is negative<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">sign</span><span class="org-variable-name"> x</span> <span class="org-tuareg-font-lock-operator">=</span>
  <span class="org-keyword">if</span> x <span class="org-tuareg-font-lock-operator">=</span> 0
    <span class="org-keyword">then</span> 0
  <span class="org-keyword">else</span> <span class="org-keyword">if</span> x <span class="org-tuareg-font-lock-operator">&gt;</span> 0
       <span class="org-keyword">then</span> 1
       <span class="org-keyword">else</span> <span class="org-tuareg-font-lock-operator">(-</span>1<span class="org-tuareg-font-lock-operator">)</span>
<span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">sign</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map sign <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">-</span>1<span class="org-tuareg-font-lock-operator">;</span> 0<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">-</span>1<span class="org-tuareg-font-lock-operator">;</span> 0<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span>
</pre>
</div>

<p>
For Loop:
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-keyword">for</span> i <span class="org-tuareg-font-lock-operator">=</span> 0 <span class="org-keyword">to</span> 5 <span class="org-keyword">do</span> <span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"= %i\n"</span> i  <span class="org-keyword">done</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">=</span> 0
<span class="org-tuareg-font-lock-operator">=</span> 1
<span class="org-tuareg-font-lock-operator">=</span> 2
<span class="org-tuareg-font-lock-operator">=</span> 3
<span class="org-tuareg-font-lock-operator">=</span> 4
<span class="org-tuareg-font-lock-operator">=</span> 5
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-keyword">for</span> i <span class="org-tuareg-font-lock-operator">=</span> 10 <span class="org-keyword">downto</span> 1 <span class="org-keyword">do</span>
  <span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"%d .. "</span> i
<span class="org-keyword">done</span><span class="org-tuareg-font-lock-operator">;</span>
  <span class="org-tuareg-font-double-colon">;;</span>
10 <span class="org-tuareg-font-lock-operator">..</span> 9 <span class="org-tuareg-font-lock-operator">..</span> 8 <span class="org-tuareg-font-lock-operator">..</span> 7 <span class="org-tuareg-font-lock-operator">..</span> 6 <span class="org-tuareg-font-lock-operator">..</span> 5 <span class="org-tuareg-font-lock-operator">..</span> 4 <span class="org-tuareg-font-lock-operator">..</span> 3 <span class="org-tuareg-font-lock-operator">..</span> 2 <span class="org-tuareg-font-lock-operator">..</span> 1 <span class="org-tuareg-font-lock-operator">..</span> <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
</pre>
</div>

<p>
While Loop:
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">j</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-builtin">ref</span> 5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">j</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 5<span class="org-tuareg-font-lock-operator">}</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-keyword">while</span> <span class="org-tuareg-font-lock-operator">!</span>j <span class="org-tuareg-font-lock-operator">&gt;</span> 0 <span class="org-keyword">do</span> <span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"x = %d\n"</span> <span class="org-tuareg-font-lock-operator">!</span>j <span class="org-tuareg-font-lock-operator">;</span> j <span class="org-tuareg-font-lock-operator">:=</span> <span class="org-tuareg-font-lock-operator">!</span>j <span class="org-tuareg-font-lock-operator">-</span>1 <span class="org-keyword">done</span> <span class="org-tuareg-font-double-colon">;;</span>
x <span class="org-tuareg-font-lock-operator">=</span> 5
x <span class="org-tuareg-font-lock-operator">=</span> 4
x <span class="org-tuareg-font-lock-operator">=</span> 3
x <span class="org-tuareg-font-lock-operator">=</span> 2
x <span class="org-tuareg-font-lock-operator">=</span> 1
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
</pre>
</div>

<p>
Infinite While Loop
</p>

<pre class="example">
utop # while true do
    print_string "hello world / hit return to continue ";
    read_line ();
done;
;;

Characters 77-90:                                                                       Warning 10: this expression should have type unit.                                      Characters 77-90:
Warning 10: this expression should have type unit.
hello world / hit return to continue
hello world / hit return to continue
hello world / hit return to continue
hello world / hit return to continue ^CInterrupted.

utop # let mainloop () =
      while true do
          print_string "hello world / hit return to continue ";
          read_line ();
      done;

  ;;
Warning 10: this expression should have type unit.
val mainloop : unit -&gt; unit = &lt;fun&gt;

utop # mainloop()   ;;
hello world / hit return to continue
hello world / hit return to continue
hello world / hit return to continue
hello world / hit return to continue
hello world / hit return to continue
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5"><span class="section-number-3">1.5</span> Standard (Native) Library Modules</h3>
<div class="outline-text-3" id="text-1-5">
<p>
Then native library is small and lacks many things someone would like
and most functions are <a href="https://blogs.janestreet.com/optimizing-list-map/">not tail recursive</a>, it means that it will
overflow stack for a very big number of iterations. For a better
standard library see: Batteries and Core.
</p>


<ul class="org-ul">
<li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref">Documentation</a>
</li>
</ul>
</div>

<div id="outline-container-sec-1-5-1" class="outline-4">
<h4 id="sec-1-5-1"><span class="section-number-4">1.5.1</span> List</h4>
<div class="outline-text-4" id="text-1-5-1">
<p>
The module List has almost all functions to process lists which are immutable data structures.
</p>

<ul class="org-ul">
<li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/List.html">http://caml.inria.fr/pub/docs/manual-ocaml/libref/List.html</a>
</li>
</ul>

<p>
Cons and Nil
</p>
<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">[]</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list                    <span class="org-comment-delimiter">(*     </span><span class="org-comment">Nil </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">::</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list   <span class="org-comment-delimiter">(* </span><span class="org-comment">:: Cons </span><span class="org-comment-delimiter">*)</span>
</pre>
</div>

<p>
Example:
</p>
<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span>   23<span class="org-tuareg-font-lock-operator">::[]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>23<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>  12<span class="org-tuareg-font-lock-operator">::</span>23<span class="org-tuareg-font-lock-operator">::[]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>12<span class="org-tuareg-font-lock-operator">;</span> 23<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>  34<span class="org-tuareg-font-lock-operator">::</span>12<span class="org-tuareg-font-lock-operator">::</span>23<span class="org-tuareg-font-lock-operator">::[]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>34<span class="org-tuareg-font-lock-operator">;</span> 12<span class="org-tuareg-font-lock-operator">;</span> 23<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span>  1<span class="org-tuareg-font-lock-operator">::[</span>2<span class="org-tuareg-font-lock-operator">;</span> 34<span class="org-tuareg-font-lock-operator">;</span> 55<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 34<span class="org-tuareg-font-lock-operator">;</span> 55<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-tuareg-font-lock-operator">[]::[]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[[]]</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-tuareg-font-lock-operator">[]::[]::[]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[[];</span> <span class="org-tuareg-font-lock-operator">[]]</span>
</pre>
</div>

<p>
List Functions
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-comment-delimiter">(* </span><span class="org-comment">Concatenate Lists </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">(@)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">@</span> <span class="org-tuareg-font-lock-operator">[</span>5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">First element of a list / head of the list </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>hd <span class="org-tuareg-font-lock-operator">[</span>1 <span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4 <span class="org-tuareg-font-lock-operator">;</span> 6 <span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1

<span class="org-comment-delimiter">(* </span><span class="org-comment">Remove first Element of a list/ tail of the list </span><span class="org-comment-delimiter">*)</span>
  <span class="org-tuareg-font-lock-module">List.</span>tl <span class="org-tuareg-font-lock-operator">[</span>1 <span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span>  sum <span class="org-tuareg-font-lock-operator">[</span>1 <span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 28

<span class="org-comment-delimiter">(* </span><span class="org-comment">Reverse List </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-tuareg-font-lock-module">List.</span>rev <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>4<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Pick Element </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>nth <span class="org-tuareg-font-lock-operator">[</span>0<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4 <span class="org-tuareg-font-lock-operator">]</span> 0 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 0
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>nth <span class="org-tuareg-font-lock-operator">[</span>0<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4 <span class="org-tuareg-font-lock-operator">]</span> 1 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>nth <span class="org-tuareg-font-lock-operator">[</span>0<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4 <span class="org-tuareg-font-lock-operator">]</span> 2 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 2
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>nth <span class="org-tuareg-font-lock-operator">[</span>0<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4 <span class="org-tuareg-font-lock-operator">]</span> 3 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 3

<span class="org-comment-delimiter">(* </span><span class="org-comment">List Lenght </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>length <span class="org-tuareg-font-lock-operator">[</span>0<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4 <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 5
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>length <span class="org-tuareg-font-lock-operator">[</span>0<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 3

<span class="org-comment-delimiter">(* </span><span class="org-comment">Combine - Equivalent to Haskell zip </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>combine <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>combine <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span> <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">*</span> char<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">)]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>combine <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 5 <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span> <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Exception</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-builtin">Invalid_argument</span> <span class="org-string">"List.combine"</span>.
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Split - Equivalent to Haskell unzip </span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>split  <span class="org-tuareg-font-lock-operator">[(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">)]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">*</span> char list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">([</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">],</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">])</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-tuareg-font-lock-module">List.</span>split  <span class="org-tuareg-font-lock-operator">[(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">)]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">*</span> char list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">([</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">],</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">])</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>


<span class="org-comment-delimiter">(* </span><span class="org-comment">Equivalent to Haskell (++) </span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>append <span class="org-tuareg-font-lock-operator">[</span>0<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6 <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>0<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Find </span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>find  <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&lt;</span> 10<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2 <span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 45<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>find  <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&gt;</span> 10<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2 <span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 45<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 45

<span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>find  <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&gt;</span> 10<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2 <span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Exception</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-builtin">Not_found</span>.
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>find  <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&gt;</span> 100<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2 <span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 45<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Exception</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-builtin">Not_found</span>.


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>find_all  <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&gt;</span> 10<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[-</span>10<span class="org-tuareg-font-lock-operator">;</span> 20 <span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 12<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 35<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>20<span class="org-tuareg-font-lock-operator">;</span> 12<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 35<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>exists <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>exists <span class="org-tuareg-font-lock-operator">((==)</span> 10<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 50 <span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">]</span><span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>exists <span class="org-tuareg-font-lock-operator">((==)</span> 10<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 10 <span class="org-tuareg-font-lock-operator">;</span> 50 <span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">]</span><span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>for_all2 <span class="org-tuareg-font-lock-operator">(&gt;=)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span>2<span class="org-tuareg-font-lock-operator">;</span>3<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">;</span>3<span class="org-tuareg-font-lock-operator">;</span>4<span class="org-tuareg-font-lock-operator">]</span><span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>exists2 <span class="org-tuareg-font-lock-operator">(&lt;)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span>2<span class="org-tuareg-font-lock-operator">;</span>3<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span>2<span class="org-tuareg-font-lock-operator">;</span>3<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-tuareg-font-lock-module">List.</span>exists2 <span class="org-tuareg-font-lock-operator">(&lt;)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span>2<span class="org-tuareg-font-lock-operator">;</span>0<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span>2<span class="org-tuareg-font-lock-operator">;</span>3<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-tuareg-font-lock-module">List.</span>exists2 <span class="org-tuareg-font-lock-operator">(&lt;)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span>2<span class="org-tuareg-font-lock-operator">;</span>0<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span>2<span class="org-tuareg-font-lock-operator">]</span><span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Exception</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-builtin">Invalid_argument</span> <span class="org-string">"List.exists2"</span>.
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>assoc 3 <span class="org-tuareg-font-lock-operator">[(</span>0<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"a"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"b"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"c"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"d"</span><span class="org-tuareg-font-lock-operator">)]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"d"</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>assoc 0 <span class="org-tuareg-font-lock-operator">[(</span>0<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"a"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"b"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"c"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"d"</span><span class="org-tuareg-font-lock-operator">)]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"a"</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>assoc 5 <span class="org-tuareg-font-lock-operator">[(</span>0<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"a"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"b"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"c"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"d"</span><span class="org-tuareg-font-lock-operator">)]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Exception</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-builtin">Not_found</span>.
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>mem_assoc 5 <span class="org-tuareg-font-lock-operator">[(</span>0<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"a"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"b"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"c"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"d"</span><span class="org-tuareg-font-lock-operator">)]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>mem_assoc 3 <span class="org-tuareg-font-lock-operator">[(</span>0<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"a"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"b"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"c"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"d"</span><span class="org-tuareg-font-lock-operator">)]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>mem_assoc 2 <span class="org-tuareg-font-lock-operator">[(</span>0<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"a"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"b"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"c"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"d"</span><span class="org-tuareg-font-lock-operator">)]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>remove_assoc 0 <span class="org-tuareg-font-lock-operator">[</span>0<span class="org-tuareg-font-lock-operator">,</span><span class="org-string">"a"</span><span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">,</span><span class="org-string">"b"</span><span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">,</span><span class="org-string">"c"</span><span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">,</span><span class="org-string">"d"</span><span class="org-tuareg-font-lock-operator">]</span><span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">*</span> string<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"b"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"c"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"d"</span><span class="org-tuareg-font-lock-operator">)]</span>



<span class="org-comment-delimiter">(* </span><span class="org-comment">Partition </span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>partition <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">*</span> 'a list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>partition   <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&gt;</span> 10<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[-</span>10<span class="org-tuareg-font-lock-operator">;</span> 20 <span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 12<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 35<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">*</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">([</span>20<span class="org-tuareg-font-lock-operator">;</span> 12<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 35<span class="org-tuareg-font-lock-operator">],</span> <span class="org-tuareg-font-lock-operator">[-</span>10<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">])</span>


<span class="org-comment-delimiter">(* </span><span class="org-comment">Flatten  </span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>flatten <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>flatten <span class="org-tuareg-font-lock-operator">[[</span>1<span class="org-tuareg-font-lock-operator">];</span> <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">[</span>6<span class="org-tuareg-font-lock-operator">;</span> 90<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">[]]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 90<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>


<span class="org-comment-delimiter">(*      </span><span class="org-comment">MAP         </span><span class="org-comment-delimiter">*)</span>
<span class="org-comment-delimiter">(*</span><span class="org-comment">------------------</span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">((</span> <span class="org-tuareg-font-lock-operator">*)</span> 10 <span class="org-tuareg-font-lock-operator">)</span>  <span class="org-tuareg-font-lock-operator">[-</span>10 <span class="org-tuareg-font-lock-operator">;</span> 20 <span class="org-tuareg-font-lock-operator">;</span> 5 <span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 3 <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[-</span>100<span class="org-tuareg-font-lock-operator">;</span> 200<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">;</span> 500<span class="org-tuareg-font-lock-operator">;</span> 1000<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">((+)</span> 10<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[-</span>10 <span class="org-tuareg-font-lock-operator">;</span> 20 <span class="org-tuareg-font-lock-operator">;</span> 5 <span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 3 <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>0<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 15<span class="org-tuareg-font-lock-operator">;</span> 60<span class="org-tuareg-font-lock-operator">;</span> 110<span class="org-tuareg-font-lock-operator">;</span> 13<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">f</span><span class="org-variable-name"> x</span> <span class="org-tuareg-font-lock-operator">=</span> 10 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">-</span> 5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map f  <span class="org-tuareg-font-lock-operator">[-</span>10 <span class="org-tuareg-font-lock-operator">;</span> 20 <span class="org-tuareg-font-lock-operator">;</span> 5 <span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 3 <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[-</span>105<span class="org-tuareg-font-lock-operator">;</span> 195<span class="org-tuareg-font-lock-operator">;</span> 45<span class="org-tuareg-font-lock-operator">;</span> 495<span class="org-tuareg-font-lock-operator">;</span> 995<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 10.5 <span class="org-tuareg-font-lock-operator">*.</span> x <span class="org-tuareg-font-lock-operator">-.</span> 4. <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>2. <span class="org-tuareg-font-lock-operator">;</span> 3. <span class="org-tuareg-font-lock-operator">;</span> 5. <span class="org-tuareg-font-lock-operator">;</span> 10. <span class="org-tuareg-font-lock-operator">;</span> 20. <span class="org-tuareg-font-lock-operator">]</span><span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>17.<span class="org-tuareg-font-lock-operator">;</span> 27.5<span class="org-tuareg-font-lock-operator">;</span> 48.5<span class="org-tuareg-font-lock-operator">;</span> 101.<span class="org-tuareg-font-lock-operator">;</span> 206.<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-comment-delimiter">(*      </span><span class="org-comment">MAPI        </span><span class="org-comment-delimiter">*)</span>
<span class="org-comment-delimiter">(*</span><span class="org-comment">------------------</span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>mapi <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>mapi <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span>  <span class="org-variable-name">index element</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> index<span class="org-tuareg-font-lock-operator">,</span> element<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>17.<span class="org-tuareg-font-lock-operator">;</span> 27.5<span class="org-tuareg-font-lock-operator">;</span> 48.5<span class="org-tuareg-font-lock-operator">;</span> 101.<span class="org-tuareg-font-lock-operator">;</span> 206.<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">*</span> float<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[(</span>0<span class="org-tuareg-font-lock-operator">,</span> 17.<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span> 27.5<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> 48.5<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> 101.<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>4<span class="org-tuareg-font-lock-operator">,</span> 206.<span class="org-tuareg-font-lock-operator">)]</span>


<span class="org-comment-delimiter">(* </span><span class="org-comment">MAP2 / Haskell zipWith </span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map2 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'c<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'c list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map2 <span class="org-tuareg-font-lock-operator">(+)</span> <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">[</span>15<span class="org-tuareg-font-lock-operator">;</span> 35<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">;</span> 80<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>25<span class="org-tuareg-font-lock-operator">;</span> 55<span class="org-tuareg-font-lock-operator">;</span> 55<span class="org-tuareg-font-lock-operator">;</span> 180<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map2 <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">*)</span> <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">[</span>15<span class="org-tuareg-font-lock-operator">;</span> 35<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">;</span> 80<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Warning</span> 2<span class="org-tuareg-font-lock-operator">:</span> this is <span class="org-tuareg-font-lock-operator">not</span> the <span class="org-tuareg-font-lock-governing">end</span> <span class="org-keyword">of</span> a comment.
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>150<span class="org-tuareg-font-lock-operator">;</span> 700<span class="org-tuareg-font-lock-operator">;</span> 750<span class="org-tuareg-font-lock-operator">;</span> 8000<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map2 <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x y</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>x<span class="org-tuareg-font-lock-operator">,</span> y<span class="org-tuareg-font-lock-operator">))</span> <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">[</span>15<span class="org-tuareg-font-lock-operator">;</span> 35<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">;</span> 80<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">*</span> int<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[(</span>10<span class="org-tuareg-font-lock-operator">,</span> 15<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>20<span class="org-tuareg-font-lock-operator">,</span> 35<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>30<span class="org-tuareg-font-lock-operator">,</span> 25<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>100<span class="org-tuareg-font-lock-operator">,</span> 80<span class="org-tuareg-font-lock-operator">)]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map2 <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x y</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>x<span class="org-tuareg-font-lock-operator">,</span> y<span class="org-tuareg-font-lock-operator">))</span> <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">[</span>15<span class="org-tuareg-font-lock-operator">;</span> 35<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Exception</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-builtin">Invalid_argument</span> <span class="org-string">"List.map2"</span>.
<span class="org-tuareg-font-lock-operator">&gt;</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">fxy</span><span class="org-variable-name"> x y</span> <span class="org-tuareg-font-lock-operator">=</span> 10<span class="org-tuareg-font-lock-operator">*</span>x <span class="org-tuareg-font-lock-operator">-</span> 4<span class="org-tuareg-font-lock-operator">*</span>y <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fxy</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map2 fxy <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">[</span>15<span class="org-tuareg-font-lock-operator">;</span> 35<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">;</span> 80<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>40<span class="org-tuareg-font-lock-operator">;</span> 60<span class="org-tuareg-font-lock-operator">;</span> 200<span class="org-tuareg-font-lock-operator">;</span> 680<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>


<span class="org-comment-delimiter">(*      </span><span class="org-comment">FILTER      </span><span class="org-comment-delimiter">*)</span>
<span class="org-comment-delimiter">(*</span><span class="org-comment">------------------</span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>filter <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-tuareg-font-lock-module">List.</span>filter <span class="org-tuareg-font-lock-operator">((&lt;)</span> 10<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[-</span>10 <span class="org-tuareg-font-lock-operator">;</span> 20 <span class="org-tuareg-font-lock-operator">;</span> 5 <span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 3 <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>20<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-comment-delimiter">(*  </span><span class="org-comment">FOLFR and FOLDL - Equivalent to Haskell foldr and foldl</span>
<span class="org-comment"> *   The fold functions are known as reduce. (i.e Python reduce (left fold))</span>
<span class="org-comment"> </span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>fold_right <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-comment-delimiter">(*</span>
<span class="org-comment">        f x y = x + 10* y</span>
<span class="org-comment">        foldr  f [1; 2; 3; 5; 6] 0</span>

<span class="org-comment">    Evaluation:</span>

<span class="org-comment">    (f 1 (f 2 (f 3  (f 5 (f 6 0)))))    f 6   0  = 6 + 10*0    =     6</span>
<span class="org-comment">    (f 1 (f 2 (f 3  (f 5 6))))          f 5   6  = 5 + 10*6    =     65</span>
<span class="org-comment">    (f 1 (f 2 (f 3  65)))               f 3  65  = 3 + 10*65   =    653</span>
<span class="org-comment">    (f 1 (f 2 653))                     f 2 653  = 2 + 10*653  =    6532</span>
<span class="org-comment">    (f 1 6532)                          f 1 6532 = 1 + 10*6532 =   65321</span>
<span class="org-comment">    65321</span>
<span class="org-comment">    </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>fold_right <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x y</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">+</span> 10<span class="org-tuareg-font-lock-operator">*</span>y<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">]</span> 0 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 65321
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>fold_left <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-comment-delimiter">(*</span>
<span class="org-comment">        f x y = 10*x + y</span>
<span class="org-comment">        flodl f 0 [1; 2; 3; 5; 6]</span>

<span class="org-comment">    Evaluation:</span>

<span class="org-comment">    (f (f (f ( f (f 0 1) 2 ) 3) 5) 6)     f 0    1 = 10*0    + 1   =    1</span>
<span class="org-comment">    (f (f (f ( f 1 2 ) 3) 5) 6)           f 1    2 = 10*1    + 2   =   12</span>
<span class="org-comment">    (f (f (f 12 3) 5) 6)                  f 12   3 = 10*12   + 3   =   123</span>
<span class="org-comment">    (f (f 123 5) 6)                       f 123  5 = 10*123  + 5   =  1235</span>
<span class="org-comment">    (f 1235 6)                            f 1235 6 = 10*1235 + 5   = 12356</span>
<span class="org-comment">    12356</span>
<span class="org-comment">    </span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>fold_left <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x y</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 10<span class="org-tuareg-font-lock-operator">*</span>x <span class="org-tuareg-font-lock-operator">+</span>  y<span class="org-tuareg-font-lock-operator">)</span> 0 <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">]</span>  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 12356
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>fold_left <span class="org-tuareg-font-lock-operator">(+)</span> 0 <span class="org-tuareg-font-lock-operator">[</span> 1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6 <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 21

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>fold_left <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">*)</span> 1 <span class="org-tuareg-font-lock-operator">[</span> 1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5 <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Warning</span> 2<span class="org-tuareg-font-lock-operator">:</span> this is <span class="org-tuareg-font-lock-operator">not</span> the <span class="org-tuareg-font-lock-governing">end</span> <span class="org-keyword">of</span> a comment.
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 120



<span class="org-comment-delimiter">(*    </span><span class="org-comment">ITER / MAP Non Pure Functions  </span><span class="org-comment-delimiter">*)</span>
<span class="org-comment-delimiter">(*</span><span class="org-comment">-----------------------------------</span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>iter <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> unit<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>iter <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"= %d \n"</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[-</span>10<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">-</span>10
<span class="org-tuareg-font-lock-operator">=</span> 3
<span class="org-tuareg-font-lock-operator">=</span> 100
<span class="org-tuareg-font-lock-operator">=</span> 50
<span class="org-tuareg-font-lock-operator">=</span> 5
<span class="org-tuareg-font-lock-operator">=</span> 20
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">ITERI    </span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>iteri <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> unit<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>iteri <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"idendx = %d element = %d\n"</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[-</span>10<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
idendx <span class="org-tuareg-font-lock-operator">=</span> 0 element <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">-</span>10
idendx <span class="org-tuareg-font-lock-operator">=</span> 1 element <span class="org-tuareg-font-lock-operator">=</span> 3
idendx <span class="org-tuareg-font-lock-operator">=</span> 2 element <span class="org-tuareg-font-lock-operator">=</span> 100
idendx <span class="org-tuareg-font-lock-operator">=</span> 3 element <span class="org-tuareg-font-lock-operator">=</span> 50
idendx <span class="org-tuareg-font-lock-operator">=</span> 4 element <span class="org-tuareg-font-lock-operator">=</span> 5
idendx <span class="org-tuareg-font-lock-operator">=</span> 5 element <span class="org-tuareg-font-lock-operator">=</span> 20
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>


<span class="org-comment-delimiter">(* </span><span class="org-comment">ITER2    </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>iter2 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> unit<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>iter2 <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"%s = %d\n"</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"x"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"y"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"z"</span><span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3 <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
x <span class="org-tuareg-font-lock-operator">=</span> 1
y <span class="org-tuareg-font-lock-operator">=</span> 2
z <span class="org-tuareg-font-lock-operator">=</span> 3
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-5-2" class="outline-4">
<h4 id="sec-1-5-2"><span class="section-number-4">1.5.2</span> Array</h4>
<div class="outline-text-4" id="text-1-5-2">
<p>
Arrays as oppose to lists are mmutable data structures.
</p>

<ul class="org-ul">
<li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Array.html">http://caml.inria.fr/pub/docs/manual-ocaml/libref/Array.html</a>
</li>
</ul>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">[|</span> 10<span class="org-tuareg-font-lock-operator">;</span> 2 <span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 25 <span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 0 <span class="org-tuareg-font-lock-operator">;</span> 1 <span class="org-tuareg-font-lock-operator">|]</span>  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|</span>10<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 0<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">|]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">a</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|</span> 10<span class="org-tuareg-font-lock-operator">;</span> 2 <span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 25 <span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 0 <span class="org-tuareg-font-lock-operator">;</span> 1 <span class="org-tuareg-font-lock-operator">|]</span>  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">a</span> <span class="org-tuareg-font-lock-operator">:</span> int array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|</span>10<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 0<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">|]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> a.<span class="org-tuareg-font-lock-operator">(</span>0<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 10
<span class="org-tuareg-font-lock-operator">&gt;</span> a.<span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 2
<span class="org-tuareg-font-lock-operator">&gt;</span> a.<span class="org-tuareg-font-lock-operator">(</span>4<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 100
<span class="org-tuareg-font-lock-operator">&gt;</span> a.<span class="org-tuareg-font-lock-operator">(</span>10<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Exception</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-builtin">Invalid_argument</span> <span class="org-string">"index out of bounds"</span>.
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>length <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a array <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>length a <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 7

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>map <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a array <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x<span class="org-tuareg-font-lock-operator">*</span>2 <span class="org-tuareg-font-lock-operator">+</span> 1<span class="org-tuareg-font-lock-operator">)</span> a <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|</span>21<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 21<span class="org-tuareg-font-lock-operator">;</span> 51<span class="org-tuareg-font-lock-operator">;</span> 201<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">|]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> a.<span class="org-tuareg-font-lock-operator">(</span>0<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">&lt;-</span> 56 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> a <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|</span>56<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 0<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">|]</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> a.<span class="org-tuareg-font-lock-operator">(</span>5<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">&lt;-</span> 567 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> a <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|</span>56<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 567<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">|]</span>

<span class="org-comment-delimiter">(*  </span><span class="org-comment">Maps a function that takes the index of element</span>
<span class="org-comment">    as first argument and then the element as second</span>
<span class="org-comment">    argument.</span>

<span class="org-comment">    f(index, element)</span>
<span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>mapi <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a array <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
 <span class="org-tuareg-font-lock-module">Array.</span>mapi <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">idx e</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> idx<span class="org-tuareg-font-lock-operator">,</span> e<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[|</span>56<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 567<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">|]</span>  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">*</span> int<span class="org-tuareg-font-lock-operator">)</span> array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|(</span>0<span class="org-tuareg-font-lock-operator">,</span> 56<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span> 2<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> 10<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> 25<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>4<span class="org-tuareg-font-lock-operator">,</span> 100<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>5<span class="org-tuareg-font-lock-operator">,</span> 567<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>6<span class="org-tuareg-font-lock-operator">,</span> 1<span class="org-tuareg-font-lock-operator">)|]</span>


 <span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>to_list <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a array <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>to_list a <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>56<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 567<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">]</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>of_list <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>of_list <span class="org-tuareg-font-lock-operator">[</span>56<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 567<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|</span>56<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 567<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">|]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>get <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a array <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
 <span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>get a 0 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 56
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>get a 20 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Exception</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-builtin">Invalid_argument</span> <span class="org-string">"index out of bounds"</span>.




<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">a</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|</span>56<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 567<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">|]</span>  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">a</span> <span class="org-tuareg-font-lock-operator">:</span> int array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|</span>56<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 567<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">|]</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>set <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a array <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>set a  0 15 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>set a  4 235 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> a <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|</span>15<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">;</span> 235<span class="org-tuareg-font-lock-operator">;</span> 567<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">|]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>fold_right <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b array <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>fold_right <span class="org-tuareg-font-lock-operator">(+)</span> <span class="org-tuareg-font-lock-operator">[|</span>56<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 567<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">|]</span>  0 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 761

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>fold_left <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b array <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>fold_left <span class="org-tuareg-font-lock-operator">(+)</span> 0 <span class="org-tuareg-font-lock-operator">[|</span>56<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 567<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">|]</span>  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 761

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>iter <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"x = %d\n"</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[|</span>56<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 567<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">|]</span>  <span class="org-tuareg-font-double-colon">;;</span>
x <span class="org-tuareg-font-lock-operator">=</span> 56
x <span class="org-tuareg-font-lock-operator">=</span> 2
x <span class="org-tuareg-font-lock-operator">=</span> 10
x <span class="org-tuareg-font-lock-operator">=</span> 25
x <span class="org-tuareg-font-lock-operator">=</span> 100
x <span class="org-tuareg-font-lock-operator">=</span> 567
x <span class="org-tuareg-font-lock-operator">=</span> 1
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-comment-delimiter">(*  </span><span class="org-comment">Applies a function that takes the index of element</span>
<span class="org-comment">    as first argument and then the element as second</span>
<span class="org-comment">    argument.</span>

<span class="org-comment">    f(index, element)</span>
<span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>iteri <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> unit<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a array <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>iteri <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"x[%d] = %d\n"</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[|</span>56<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 567<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">|]</span>  <span class="org-tuareg-font-double-colon">;;</span>
x<span class="org-tuareg-font-lock-operator">[</span>0<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">=</span> 56
x<span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">=</span> 2
x<span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">=</span> 10
x<span class="org-tuareg-font-lock-operator">[</span>3<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">=</span> 25
x<span class="org-tuareg-font-lock-operator">[</span>4<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">=</span> 100
x<span class="org-tuareg-font-lock-operator">[</span>5<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">=</span> 567
x<span class="org-tuareg-font-lock-operator">[</span>6<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">=</span> 1
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>



<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>init <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>init 10 <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 5. <span class="org-tuareg-font-lock-operator">*.</span> float_of_int x<span class="org-tuareg-font-lock-operator">)</span>  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|</span>0.<span class="org-tuareg-font-lock-operator">;</span> 5.<span class="org-tuareg-font-lock-operator">;</span> 10.<span class="org-tuareg-font-lock-operator">;</span> 15.<span class="org-tuareg-font-lock-operator">;</span> 20.<span class="org-tuareg-font-lock-operator">;</span> 25.<span class="org-tuareg-font-lock-operator">;</span> 30.<span class="org-tuareg-font-lock-operator">;</span> 35.<span class="org-tuareg-font-lock-operator">;</span> 40.<span class="org-tuareg-font-lock-operator">;</span> 45.<span class="org-tuareg-font-lock-operator">|]</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>init 10 <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 5 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">+</span> 10 <span class="org-tuareg-font-lock-operator">)</span>  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|</span>10<span class="org-tuareg-font-lock-operator">;</span> 15<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 35<span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 45<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">;</span> 55<span class="org-tuareg-font-lock-operator">|]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>make_matrix <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a array array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>make_matrix 2 3 1 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int array array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|[|</span>1<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">|];</span> <span class="org-tuareg-font-lock-operator">[|</span>1<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">|]|]</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-5-3" class="outline-4">
<h4 id="sec-1-5-3"><span class="section-number-4">1.5.3</span> String</h4>
<div class="outline-text-4" id="text-1-5-3">
<p>
There are more useful string functions on the core library.
</p>

<ul class="org-ul">
<li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/String.html">http://caml.inria.fr/pub/docs/manual-ocaml/libref/String.html</a>
</li>
<li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Char.html">http://caml.inria.fr/pub/docs/manual-ocaml/libref/Char.html</a>
</li>
<li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Str.html">http://caml.inria.fr/pub/docs/manual-ocaml/libref/Str.html</a>
</li>
</ul>

<p>
<b>Char Module</b>
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-comment-delimiter">(* </span><span class="org-comment">Acii code to Char </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Char.</span>chr <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Char.</span>chr 99 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">'c'</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Char to Ascii Code</span><span class="org-comment-delimiter">*)</span>


    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Char.</span>code <span class="org-string">'a'</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 97

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Char.</span>code <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Upper Case / Lower Case </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Char.</span>uppercase <span class="org-string">'c'</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">'C'</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Char.</span>lowercase <span class="org-string">'A'</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">'a'</span>
</pre>
</div>

<p>
<b>String Module</b>
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-comment-delimiter">(* </span><span class="org-comment">Length of String </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>length <span class="org-string">"Hello world"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 11

<span class="org-comment-delimiter">(* </span><span class="org-comment">Concatenate Strings </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>concat <span class="org-string">"\n"</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"Hello"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"World"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"Ocaml"</span> <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Hello\nWorld\nOcaml"</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-string">"Hello "</span> <span class="org-tuareg-font-lock-operator">^</span> <span class="org-string">" World "</span> <span class="org-tuareg-font-lock-operator">^</span> <span class="org-string">" Ocaml"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Hello  World  Ocaml"</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Uppercase / Lowercase </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>capitalize <span class="org-string">"hello world"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Hello world"</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>lowercase <span class="org-string">"HELLO WORLD"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"hello world"</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Get Character at position </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>get <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>get  <span class="org-string">"Hello world"</span> 0 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">'H'</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>get  <span class="org-string">"Hello world"</span> 1 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">'e'</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">String.</span>get <span class="org-string">"Buffalo"</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>0<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'B'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'u'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'f'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'f'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'l'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'o'</span><span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">str</span> <span class="org-tuareg-font-lock-operator">=</span>  <span class="org-string">"My string"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">str</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"My string"</span>

    <span class="org-tuareg-font-lock-operator">#</span> str.<span class="org-tuareg-font-lock-operator">[</span>0<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">'M'</span>
     <span class="org-tuareg-font-lock-operator">#</span> str.<span class="org-tuareg-font-lock-operator">[</span>5<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">'r'</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Setting Characters </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">str</span> <span class="org-tuareg-font-lock-operator">=</span>  <span class="org-string">"My string"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">str</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"My string"</span>

    <span class="org-tuareg-font-lock-operator">#</span> s.<span class="org-tuareg-font-lock-operator">[</span>0<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">&lt;-</span> <span class="org-string">'H'</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
     <span class="org-tuareg-font-lock-operator">#</span> s.<span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">&lt;-</span> <span class="org-string">'e'</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
     <span class="org-tuareg-font-lock-operator">#</span> s <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"He to world"</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Contains test if character is in the string </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>contains <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>contains <span class="org-string">"hello"</span> <span class="org-string">'c'</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>contains <span class="org-string">"hello"</span> <span class="org-string">'h'</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Map Characters </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>map <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>char <span class="org-tuareg-font-lock-operator">-&gt;</span> char<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">encode</span><span class="org-variable-name"> key chr</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Char.</span>chr <span class="org-tuareg-font-lock-operator">((</span><span class="org-tuareg-font-lock-module">Char.</span>code chr<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-</span> key<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">encode</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">decode</span><span class="org-variable-name"> key chr</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Char.</span>chr <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Char.</span>code chr <span class="org-tuareg-font-lock-operator">+</span> key<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">decode</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">str</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Hello world"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">str</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Hello world"</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>map <span class="org-tuareg-font-lock-operator">(</span>encode 13<span class="org-tuareg-font-lock-operator">)</span> str <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">";X__b\019jbe_W"</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>map <span class="org-tuareg-font-lock-operator">(</span>decode 13<span class="org-tuareg-font-lock-operator">)</span> <span class="org-string">";X__b\019jbe_W"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Hello world"</span>
</pre>
</div>



<p>
<b>Str Module</b>
</p>

<ul class="org-ul">
<li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Str.html">http://caml.inria.fr/pub/docs/manual-ocaml/libref/Str.html</a>
</li>
</ul>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-comment-delimiter">(* </span><span class="org-comment">When in the toploop interactive shell </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">#</span>load <span class="org-string">"str.cma"</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Compile String to a regular expression</span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Str.</span>regexp <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-module">Str.</span>regexp <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Str.</span>regexp <span class="org-string">","</span><span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Str.</span>regexp <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span>abstr<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Split String </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Str.</span>split <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Str.</span>regexp <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Str.</span>split <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Str.</span>regexp <span class="org-string">","</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-string">"23.232,9823,\"Ocaml Haskell FP\""</span><span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"23.232"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"9823"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"\"Ocaml Haskell FP\""</span><span class="org-tuareg-font-lock-operator">]</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Str.</span>split <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Str.</span>regexp <span class="org-string">"[,|;]"</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-string">"23.232,9823;\"Ocaml Haskell FP\";400"</span><span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"23.232"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"9823"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"\"Ocaml Haskell FP\""</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"400"</span><span class="org-tuareg-font-lock-operator">]</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Str.</span>split <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Str.</span>regexp <span class="org-string">"[ ]"</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-string">"23.232 9823 Ocaml Haskell FP 400"</span><span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"23.232"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"9823"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"Ocaml"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"Haskell"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"FP"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"400"</span><span class="org-tuareg-font-lock-operator">]</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Str.</span>string_before <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Str.</span>string_before <span class="org-string">"Hello world ocaml"</span> 3 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Hel"</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Str.</span>string_before <span class="org-string">"Hello world ocaml"</span> 11 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Hello world"</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Str.</span>string_after <span class="org-string">"Hello world ocaml"</span> 11 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">" ocaml"</span>


    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Str.</span>split <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Str.</span>regexp <span class="org-string">"[ ]"</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-string">"23.232 9823 Ocaml Haskell FP 400"</span><span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"23.232"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"9823"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"Ocaml"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"Haskell"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"FP"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"400"</span><span class="org-tuareg-font-lock-operator">]</span>
</pre>
</div>

<p>
<b>Buffer Module</b>
</p>

<ul class="org-ul">
<li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Str.html">http://caml.inria.fr/pub/docs/manual-ocaml/libref/Str.html</a>
</li>
</ul>

<p>
It provides accumulative concatenation of strings in quasi-linear time (instead of quadratic time when strings are concatenated pairwise).
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>create <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Converts Buffer to String </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-module">Buffer.</span>contents <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Buffer.</span>t <span class="org-tuareg-font-lock-operator">-&gt;</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Add Char to Buffer </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>add_char <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Buffer.</span>t <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-module">Buffer.</span>add_bytes <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Buffer.</span>t <span class="org-tuareg-font-lock-operator">-&gt;</span> bytes <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Add String to Buffer </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>add_string <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Buffer.</span>t <span class="org-tuareg-font-lock-operator">-&gt;</span> bytes <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Reset Buffer -&gt; buffer = "" </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>reset <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Buffer.</span>t <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">b</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Buffer.</span>create  0 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">b</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Buffer.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span>abstr<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>contents b <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">""</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>add_string  b <span class="org-string">"ocaml fp rocks ! ocaml is amazing"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>contents b <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"ocaml fp rocks ! ocaml is amazing"</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>add_string b <span class="org-string">" - Ocaml is strict FP"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

<span class="org-tuareg-font-lock-module">Buffer.</span>length b <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 33

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>contents b <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"ocaml fp rocks ! ocaml is amazing - Ocaml is strict FP"</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>


<span class="org-tuareg-font-lock-module">Buffer.</span>reset b <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>contents b <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">""</span>



<span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">c</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Buffer.</span>create 0 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">c</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Buffer.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span>abstr<span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>add_char c <span class="org-string">'o'</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>add_char c <span class="org-string">'c'</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>add_char c <span class="org-string">'a'</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>add_char c <span class="org-string">'m'</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>add_char c <span class="org-string">'l'</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>contents c <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"ocaml"</span>

print_string <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Buffer.</span>contents c<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
ocaml<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>nth c 0 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">'o'</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>nth c 1 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">'c'</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>nth c 2 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> 'a
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>nth c 3 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">'m'</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>nth c 4 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">'l'</span>

<span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Buffer.</span>nth c<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>0<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'o'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'m'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'l'</span><span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">s</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"hindler milner type system"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">s</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"hindler milner type system"</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">b</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Buffer.</span>create 0 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">b</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Buffer.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span>abstr<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>add_substring <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Buffer.</span>t <span class="org-tuareg-font-lock-operator">-&gt;</span> bytes <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-module">Buffer.</span>add_substring b s 0 4 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>contents b <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"hind"</span>

<span class="org-tuareg-font-lock-module">Buffer.</span>add_substring b s 4 5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>contents b <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"hindler m"</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>add_substring b s 6 10 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>contents b <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"hindler mr milner t"</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>sub <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Buffer.</span>t <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>


<span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">c</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Buffer.</span>create 0 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">c</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Buffer.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span>abstr<span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>add_string c <span class="org-string">"Ocaml is almost fast as C"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>sub c 0 1 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"O"</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>sub c 0 5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Ocaml"</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>sub c 0 10 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Ocaml is a"</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>sub c 5 15 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">" is almost fast"</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>
</pre>
</div>

<p>
<b>String Processing</b>
</p>

<p>
Splitting a string into characters.
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">s</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"p2p peer to peer connection"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">s</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"p2p peer to peer connection"</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Imperative Approach </span><span class="org-comment-delimiter">*)</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">arr</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Array.</span>make <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">arr</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">arr</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Array.</span>make <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">String.</span>length s<span class="org-tuareg-font-lock-operator">)</span> <span class="org-string">'\000'</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">arr</span> <span class="org-tuareg-font-lock-operator">:</span> char array <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-tuareg-font-lock-operator">[|</span><span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span>
<span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span>
<span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'\000'</span><span class="org-tuareg-font-lock-operator">|]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-keyword">for</span> i <span class="org-tuareg-font-lock-operator">=</span> 0 <span class="org-keyword">to</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">String.</span>length s <span class="org-tuareg-font-lock-operator">-</span> 1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-keyword">do</span>
      arr.<span class="org-tuareg-font-lock-operator">(</span>i<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">&lt;-</span> s.<span class="org-tuareg-font-lock-operator">[</span>i<span class="org-tuareg-font-lock-operator">]</span>
  <span class="org-keyword">done</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> arr <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char array <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-tuareg-font-lock-operator">[|</span><span class="org-string">'p'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'2'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'p'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">' '</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'p'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'e'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'e'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'r'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">' '</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'t'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'o'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">' '</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'p'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'e'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'e'</span><span class="org-tuareg-font-lock-operator">;</span>
<span class="org-string">'r'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">' '</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'o'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'n'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'n'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'e'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'t'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'i'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'o'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'n'</span><span class="org-tuareg-font-lock-operator">|]</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">str2chars</span><span class="org-variable-name"> s</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">arr</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Array.</span>make <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">String.</span>length s<span class="org-tuareg-font-lock-operator">)</span> <span class="org-string">'\000'</span> <span class="org-tuareg-font-lock-governing">in</span>
    <span class="org-keyword">for</span> i <span class="org-tuareg-font-lock-operator">=</span> 0 <span class="org-keyword">to</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">String.</span>length s <span class="org-tuareg-font-lock-operator">-</span> 1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-keyword">do</span>
        arr.<span class="org-tuareg-font-lock-operator">(</span>i<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">&lt;-</span> s.<span class="org-tuareg-font-lock-operator">[</span>i<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-keyword">done</span> <span class="org-tuareg-font-lock-operator">;</span>
    arr
<span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">str2chars</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">-&gt;</span> char array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

str2chars <span class="org-string">"fox"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|</span><span class="org-string">'f'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'o'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'x'</span><span class="org-tuareg-font-lock-operator">|]</span>



<span class="org-tuareg-font-lock-operator">&gt;</span> str2chars <span class="org-string">"fox"</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>map <span class="org-tuareg-font-lock-module">Char.</span>code <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|</span>102<span class="org-tuareg-font-lock-operator">;</span> 111<span class="org-tuareg-font-lock-operator">;</span> 120<span class="org-tuareg-font-lock-operator">|]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">str2chars_</span><span class="org-variable-name"> s</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">arr</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Array.</span>make <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">String.</span>length s<span class="org-tuareg-font-lock-operator">)</span> <span class="org-string">'\000'</span> <span class="org-tuareg-font-lock-governing">in</span>
    <span class="org-keyword">for</span> i <span class="org-tuareg-font-lock-operator">=</span> 0 <span class="org-keyword">to</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">String.</span>length s <span class="org-tuareg-font-lock-operator">-</span> 1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-keyword">do</span>
        arr.<span class="org-tuareg-font-lock-operator">(</span>i<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">&lt;-</span> s.<span class="org-tuareg-font-lock-operator">[</span>i<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-keyword">done</span> <span class="org-tuareg-font-lock-operator">;</span>
    <span class="org-tuareg-font-lock-module">Array.</span>to_list arr
<span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">str2chars_</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">-&gt;</span> char list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> str2chars_ <span class="org-string">"UNIX"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'U'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'N'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'I'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'X'</span><span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> str2chars_ <span class="org-string">"UNIX"</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-module">Char.</span>code <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>85<span class="org-tuareg-font-lock-operator">;</span> 78<span class="org-tuareg-font-lock-operator">;</span> 73<span class="org-tuareg-font-lock-operator">;</span> 88<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Functional Approach </span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">str2chars</span><span class="org-variable-name"> s</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">n</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">String.</span>length s <span class="org-tuareg-font-lock-governing">in</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">aux</span><span class="org-variable-name"> i alist</span> <span class="org-tuareg-font-lock-operator">=</span>
        <span class="org-keyword">if</span> i <span class="org-tuareg-font-lock-operator">=</span>0
        <span class="org-keyword">then</span> <span class="org-tuareg-font-lock-operator">[]</span>
        <span class="org-keyword">else</span> s.<span class="org-tuareg-font-lock-operator">[</span>n<span class="org-tuareg-font-lock-operator">-</span>i<span class="org-tuareg-font-lock-operator">]::(</span>aux <span class="org-tuareg-font-lock-operator">(</span>i<span class="org-tuareg-font-lock-operator">-</span>1<span class="org-tuareg-font-lock-operator">)</span> alist<span class="org-tuareg-font-lock-operator">)</span>
    <span class="org-tuareg-font-lock-governing">in</span> aux n <span class="org-tuareg-font-lock-operator">[]</span>
<span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">str2chars</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">-&gt;</span> char list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> str2chars <span class="org-string">"UNIX"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'U'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'N'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'I'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'X'</span><span class="org-tuareg-font-lock-operator">]</span>

str2chars <span class="org-string">"UNIX"</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-module">Char.</span>code <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>85<span class="org-tuareg-font-lock-operator">;</span> 78<span class="org-tuareg-font-lock-operator">;</span> 73<span class="org-tuareg-font-lock-operator">;</span> 88<span class="org-tuareg-font-lock-operator">]</span>


<span class="org-comment-delimiter">(* </span><span class="org-comment">Extract Digits </span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">digit_of_char</span><span class="org-variable-name"> c</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-keyword">match</span> c <span class="org-keyword">with</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-string">'0'</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 0
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-string">'1'</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 1
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-string">'2'</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 2
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-string">'3'</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 3
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-string">'4'</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 4
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-string">'5'</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 5
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-string">'6'</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 6
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-string">'7'</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 7
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-string">'8'</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 8
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-string">'9'</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 9
    <span class="org-tuareg-font-lock-operator">|</span> _   <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-builtin">failwith</span> <span class="org-string">"Not a digit"</span>
<span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-double-colon">;;</span><span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">digit_of_char</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> str2chars <span class="org-string">"12334"</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map digit_of_char <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> str2chars <span class="org-string">"12334x"</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map digit_of_char <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Exception</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-builtin">Failure</span> <span class="org-string">"Not a digit"</span>.

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">str2digits</span><span class="org-variable-name"> s</span> <span class="org-tuareg-font-lock-operator">=</span>  str2chars s <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map digit_of_char <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">str2digits</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">-&gt;</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> str2digits <span class="org-string">"1234"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">]</span>
</pre>
</div>

<p>
Join Chars
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">cs</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'o'</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'m'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'l'</span> <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">cs</span> <span class="org-tuareg-font-lock-operator">:</span> char list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'o'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'m'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'l'</span><span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>add_char <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Buffer.</span>t <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>iter <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> unit<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-module">List.</span>iter <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Buffer.</span>add_char b<span class="org-tuareg-font-lock-operator">)</span> cs <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>contents b <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"ocaml"</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">chars2str</span><span class="org-variable-name"> cs</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">b</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Buffer.</span>create 0 <span class="org-tuareg-font-lock-governing">in</span>
    <span class="org-tuareg-font-lock-module">List.</span>iter <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Buffer.</span>add_char b<span class="org-tuareg-font-lock-operator">)</span> cs <span class="org-tuareg-font-lock-operator">;</span>
    <span class="org-tuareg-font-lock-module">Buffer.</span>contents b
<span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">chars2str</span> <span class="org-tuareg-font-lock-operator">:</span> char list <span class="org-tuareg-font-lock-operator">-&gt;</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> chars2str <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'o'</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'m'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'l'</span> <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"ocaml"</span>
</pre>
</div>

<p>
Strip Left Chars
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">trim</span><span class="org-variable-name"> chars s</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">n</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">String.</span>length s <span class="org-tuareg-font-lock-governing">in</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">b</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Buffer.</span>create 0 <span class="org-tuareg-font-lock-governing">in</span>

    <span class="org-keyword">for</span> i <span class="org-tuareg-font-lock-operator">=</span> 0 <span class="org-keyword">to</span> n <span class="org-tuareg-font-lock-operator">-</span> 1 <span class="org-keyword">do</span>
        <span class="org-keyword">if</span> <span class="org-tuareg-font-lock-module">List.</span>mem s.<span class="org-tuareg-font-lock-operator">[</span>i<span class="org-tuareg-font-lock-operator">]</span> chars
            <span class="org-keyword">then</span> <span class="org-tuareg-font-lock-operator">()</span>
            <span class="org-keyword">else</span> <span class="org-tuareg-font-lock-module">Buffer.</span>add_char b s.<span class="org-tuareg-font-lock-operator">[</span>i<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-keyword">done</span> <span class="org-tuareg-font-lock-operator">;</span>
    <span class="org-tuareg-font-lock-module">Buffer.</span>contents b
<span class="org-tuareg-font-double-colon">;;</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> trim <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'-'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'.'</span><span class="org-tuareg-font-lock-operator">]</span>  <span class="org-string">"-.--.--.....-trim chars---...----.-.-"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"trim chars"</span>
</pre>
</div>
</div>
</div>






<div id="outline-container-sec-1-5-4" class="outline-4">
<h4 id="sec-1-5-4"><span class="section-number-4">1.5.4</span> Sys</h4>
<div class="outline-text-4" id="text-1-5-4">
<p>
<a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Sys.html">http://caml.inria.fr/pub/docs/manual-ocaml/libref/Sys.html</a>
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-comment-delimiter">(* </span><span class="org-comment">Command Line Arguments </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Sys.</span>argv <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|</span><span class="org-string">"/home/tux/bin/ocaml"</span><span class="org-tuareg-font-lock-operator">|]</span>
    <span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Current Directory </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Sys.</span>getcwd <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Sys.</span>getcwd<span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"/home/tux/PycharmProjects/ocaml/prelude"</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Change Current Directory </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Sys.</span>chdir <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Sys.</span>chdir <span class="org-string">"/"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
    <span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Sys.</span>getcwd <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"/"</span>
    <span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">List directory </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Sys.</span>readdir <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Sys.</span>readdir<span class="org-tuareg-font-lock-operator">(</span><span class="org-string">"/"</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string array <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-operator">[|</span><span class="org-string">"tftpboot"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"var"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"cdrom"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"home"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"lost+found"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"netinterface.log"</span><span class="org-tuareg-font-lock-operator">;</span>
      <span class="org-string">"opt"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"root.tar"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"tmp"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"sys"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"etc"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"root"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"srv"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"bin"</span><span class="org-tuareg-font-lock-operator">;</span>
      <span class="org-string">"vmlinuz.old"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"sbin"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"backup.log"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"initrd.img.old"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"run"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"initrd.img"</span><span class="org-tuareg-font-lock-operator">;</span>
      <span class="org-string">"lib"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"usr"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"vmlinuz"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"mnt"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"dev"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"media"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"boot"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"proc"</span><span class="org-tuareg-font-lock-operator">|]</span>
    <span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Test if is directory </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Sys.</span>is_directory <span class="org-string">"/etc"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>
    <span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Sys.</span>is_directory <span class="org-string">"/etca"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-constructor">Exception</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-builtin">Sys_error</span> <span class="org-string">"/etca: No such file or directory"</span>.
    <span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Sys.</span>is_directory <span class="org-string">"/etc/fstab"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span>
    <span class="org-tuareg-font-lock-operator">&gt;</span>


<span class="org-comment-delimiter">(* </span><span class="org-comment">Test if File exists </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Sys.</span>file_exists <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Sys.</span>file_exists <span class="org-string">"/etc"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>
    <span class="org-tuareg-font-lock-operator">&gt;</span>
      <span class="org-tuareg-font-lock-module">Sys.</span>file_exists <span class="org-string">"/etca"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span>
    <span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-comment-delimiter">(* </span><span class="org-comment">Execute shell command and return exit code</span>
<span class="org-comment">     *   0    For success</span>
<span class="org-comment">     *  not 0 For failure</span>
<span class="org-comment">     </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Sys.</span>command <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Sys.</span>command <span class="org-string">"uname -a"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-constructor">Linux</span> tux<span class="org-tuareg-font-lock-operator">-</span><span class="org-tuareg-font-lock-constructor">I3000</span> 3.13.0<span class="org-tuareg-font-lock-operator">-</span>36<span class="org-tuareg-font-lock-operator">-</span>generic <span class="org-tuareg-font-lock-operator">&gt;</span>63<span class="org-tuareg-font-lock-operator">-</span><span class="org-tuareg-font-lock-constructor">Ubuntu</span> <span class="org-tuareg-font-lock-constructor">SMP</span> <span class="org-tuareg-font-lock-constructor">Wed</span> <span class="org-tuareg-font-lock-constructor">Sep</span> 3 21<span class="org-tuareg-font-lock-operator">:</span>30<span class="org-tuareg-font-lock-operator">:</span>45 <span class="org-tuareg-font-lock-constructor">UTC</span> 2014 i686 i686 i686 <span class="org-tuareg-font-lock-constructor">GNU</span><span class="org-tuareg-font-lock-operator">/</span><span class="org-tuareg-font-lock-constructor">Linux</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 0
    <span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Sys.</span>command <span class="org-string">"nam"</span> <span class="org-tuareg-font-double-colon">;;</span>
    sh<span class="org-tuareg-font-lock-operator">:</span> 1<span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">nam</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">not</span> found
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 127
    <span class="org-tuareg-font-lock-operator">&gt;</span>


<span class="org-comment-delimiter">(* </span><span class="org-comment">Constants and Flags </span><span class="org-comment-delimiter">*)</span>

    <span class="org-comment-delimiter">(* </span><span class="org-comment">Machine Word Size in bits </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-tuareg-font-lock-module">Sys.</span>word_size <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 32
    <span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-comment-delimiter">(* </span><span class="org-comment">Machine Endianess </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Sys.</span>big_endian <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span>
    <span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-comment-delimiter">(*</span>
<span class="org-comment">     *  For Linux/BSD or OSX  --&gt; "Unix"</span>
<span class="org-comment">     *  Windows               --&gt; "Win32"</span>
<span class="org-comment">    </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Sys.</span>os_type <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Unix"</span>
    <span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-comment-delimiter">(*  </span><span class="org-comment">Maximum length of strings and byte sequences. =</span>
<span class="org-comment">     *   =~  16 MB</span>
<span class="org-comment">     </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Sys.</span>max_string_length <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 16777211
    <span class="org-tuareg-font-lock-operator">&gt;</span>
</pre>
</div>

<p>
Extra Example:
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">(|&gt;</span> x f <span class="org-tuareg-font-lock-operator">=</span> f x <span class="org-tuareg-font-double-colon">;;</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">(&lt;|)</span> f x <span class="org-tuareg-font-lock-operator">=</span> f x <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">&lt;|</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Sys.</span>chdir <span class="org-string">"/boot"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Sys.</span>readdir <span class="org-string">"."</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string array <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-tuareg-font-lock-operator">[|</span><span class="org-string">"abi-3.13.0-35-generic"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"System.map-3.13.0-35-generic"</span><span class="org-tuareg-font-lock-operator">;</span>
  <span class="org-string">"vmlinuz-3.13.0-35-generic"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"abi-3.13.0-36-generic"</span><span class="org-tuareg-font-lock-operator">;</span>
  <span class="org-string">"config-3.13.0-35-generic"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"memtest86+_multiboot.bin"</span><span class="org-tuareg-font-lock-operator">;</span>
  <span class="org-string">"initrd.img-3.13.0-35-generic"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"memtest86+.elf"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"memtest86+.bin"</span><span class="org-tuareg-font-lock-operator">;</span>
  <span class="org-string">"System.map-3.13.0-36-generic"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"initrd.img-3.13.0-36-generic"</span><span class="org-tuareg-font-lock-operator">;</span>
  <span class="org-string">"xen-4.4-amd64.gz"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"extlinux"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"config-3.13.0-36-generic"</span><span class="org-tuareg-font-lock-operator">;</span>
  <span class="org-string">"vmlinuz-3.13.0-36-generic"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"grub"</span><span class="org-tuareg-font-lock-operator">|]</span>
<span class="org-tuareg-font-lock-operator">#</span>


<span class="org-comment-delimiter">(* </span><span class="org-comment">List only directories </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-string">"."</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Sys.</span>readdir <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>to_list  <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>filter <span class="org-tuareg-font-lock-module">Sys.</span>is_directory <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"extlinux"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"grub"</span><span class="org-tuareg-font-lock-operator">]</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">List only files </span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-string">"."</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Sys.</span>readdir <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>to_list  <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>filter <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">d</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">not</span> <span class="org-tuareg-font-lock-operator">&lt;|</span> <span class="org-tuareg-font-lock-module">Sys.</span>is_directory d <span class="org-tuareg-font-lock-operator">)</span><span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"abi-3.13.0-35-generic"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"System.map-3.13.0-35-generic"</span><span class="org-tuareg-font-lock-operator">;</span>
 <span class="org-string">"vmlinuz-3.13.0-35-generic"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"abi-3.13.0-36-generic"</span><span class="org-tuareg-font-lock-operator">;</span>
 <span class="org-string">"config-3.13.0-35-generic"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"memtest86+_multiboot.bin"</span><span class="org-tuareg-font-lock-operator">;</span>
 <span class="org-string">"initrd.img-3.13.0-35-generic"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"memtest86+.elf"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"memtest86+.bin"</span><span class="org-tuareg-font-lock-operator">;</span>
 <span class="org-string">"System.map-3.13.0-36-generic"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"initrd.img-3.13.0-36-generic"</span><span class="org-tuareg-font-lock-operator">;</span>
 <span class="org-string">"xen-4.4-amd64.gz"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"config-3.13.0-36-generic"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"vmlinuz-3.13.0-36-generic"</span><span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">#</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-5-5" class="outline-4">
<h4 id="sec-1-5-5"><span class="section-number-4">1.5.5</span> Filename</h4>
<div class="outline-text-4" id="text-1-5-5">
<p>
It provides file name combinators.
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>show <span class="org-tuareg-font-lock-constructor">Filename</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">Filename</span> <span class="org-tuareg-font-lock-operator">:</span>
  <span class="org-tuareg-font-lock-governing">sig</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">current_dir_name</span> <span class="org-tuareg-font-lock-operator">:</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">parent_dir_name</span> <span class="org-tuareg-font-lock-operator">:</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">dir_sep</span> <span class="org-tuareg-font-lock-operator">:</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">concat</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">is_relative</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">is_implicit</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">check_suffix</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">chop_suffix</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">chop_extension</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">basename</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">dirname</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">temp_file</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">?temp_dir</span><span class="org-tuareg-font-lock-operator">:</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">open_temp_file</span> <span class="org-tuareg-font-lock-operator">:</span>
      <span class="org-tuareg-font-lock-label">?mode</span><span class="org-tuareg-font-lock-operator">:</span>open_flag list <span class="org-tuareg-font-lock-operator">-&gt;</span>
      <span class="org-tuareg-font-lock-label">?temp_dir</span><span class="org-tuareg-font-lock-operator">:</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">*</span> out_channel
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">get_temp_dir_name</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">set_temp_dir_name</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">temp_dir_name</span> <span class="org-tuareg-font-lock-operator">:</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">quote</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
  <span class="org-tuareg-font-lock-governing">end</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-doc">(** Note:  Directory Separtor, on Windows it is (\), but is written </span>
<span class="org-doc">in Ocaml as (\\) , but you can also use Unix path conventions, "/" </span>
<span class="org-doc">the root is translater as C:\\ and "/" as \\ and "." as the current</span>
<span class="org-doc">directory.   </span>
<span class="org-doc">*)</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Filename.</span>dir_sep <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"/"</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-doc">(** Concat Concat File Paths *)</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Filename.</span>concat <span class="org-string">"/home/dummy/Documents/"</span> <span class="org-string">"blueprints.doc"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"/home/dummy/Documents/blueprints.doc"</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Filename.</span>concat <span class="org-string">"/home/dummy/Documents"</span> <span class="org-string">"blueprints.doc"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"/home/dummy/Documents/blueprints.doc"</span>        

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Filename.</span>concat <span class="org-string">"/opt"</span><span class="org-tuareg-font-lock-operator">)</span>  <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"dir1"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"dir2"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"dir3"</span><span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"/opt/dir1"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"/opt/dir2"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"/opt/dir3"</span><span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">concat_paths</span><span class="org-variable-name"> pathlist</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">List.</span>fold_right  <span class="org-tuareg-font-lock-module">Filename.</span>concat  pathlist <span class="org-string">""</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">concat_paths</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> 
<span class="org-tuareg-font-lock-operator">#</span> concat_paths <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"/"</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"etc"</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"fstab"</span> <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"/etc/fstab/"</span>


<span class="org-doc">(** Get the file name without path to file *)</span>
 <span class="org-tuareg-font-lock-module">Filename.</span>basename <span class="org-string">"/etc/fstab"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"fstab"</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-doc">(** Get the path where is the file or directory*)</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Filename.</span>dirname <span class="org-string">"/home/tux/windows/ocamlapidoc/index.html"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"/home/tux/windows/ocamlapidoc"</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Filename.</span>dirname <span class="org-string">"/home/tux/windows/ocamlapidoc"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"/home/tux/windows"</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-doc">(** Test if file ends with extension *)</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Filename.</span>check_suffix  <span class="org-string">"test.ml"</span> <span class="org-string">"ml"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Filename.</span>check_suffix  <span class="org-string">"test.ml"</span> <span class="org-string">"sh"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span>
<span class="org-tuareg-font-lock-operator">#</span>     
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-string">"/etc"</span> 
 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Sys.</span>readdir 
 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>to_list 
 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>filter <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-module">Filename.</span>check_suffix  x <span class="org-string">"conf"</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"nsswitch.conf"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"ntp.conf"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"mke2fs.conf"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"mtools.conf"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">...]</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">You can can create combinators to enhance the composability, </span>
<span class="org-comment">   reusability and modularity   </span>
<span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">listdir</span><span class="org-variable-name"> path</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Sys.</span>readdir path <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>to_list <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">litsdir</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">is_file_type</span><span class="org-variable-name"> ext fname</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Filename.</span>check_suffix  fname ext <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">is_file_type</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">#</span> listdir <span class="org-string">"/etc"</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>filter <span class="org-tuareg-font-lock-operator">(</span>is_file_type <span class="org-string">".conf"</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"nsswitch.conf"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"ntp.conf"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"mke2fs.conf"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"mtools.conf"</span><span class="org-tuareg-font-lock-operator">;</span> 
<span class="org-string">"gai.conf"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"pnm2ppa.conf"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"inetd.conf"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"deluser.conf"</span><span class="org-tuareg-font-lock-operator">;</span> 
<span class="org-string">"resolv.conf"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"rsyslog.conf"</span> <span class="org-tuareg-font-lock-operator">...]</span>


<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-module">Filename.</span>chop_extension <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"file1.ml"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"filex.hs"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"file3.py"</span><span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"file1"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"filex"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"file3"</span><span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Filename.</span>chop_suffix <span class="org-string">"archive.tar.gz"</span> <span class="org-string">".tar.gz"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"archive"</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Filename.</span>chop_suffix <span class="org-string">"archive.tar.gz"</span> <span class="org-string">".tar.bz2"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"archiv"</span>
<span class="org-tuareg-font-lock-operator">#</span> 


<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Filename.</span>quote <span class="org-string">"separated file name is not good.txt"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"'separated file name is not good.txt'"</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Filename.</span>quote <span class="org-string">"separated file name is not good.txt"</span> 
<span class="org-tuareg-font-lock-operator">|&gt;</span> print_endline <span class="org-tuareg-font-double-colon">;;</span>
'separated file name is <span class="org-tuareg-font-lock-operator">not</span> good.txt'
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
<span class="org-tuareg-font-lock-operator">#</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-5-6" class="outline-4">
<h4 id="sec-1-5-6"><span class="section-number-4">1.5.6</span> Unix</h4>
<div class="outline-text-4" id="text-1-5-6">
<p>
<a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Unix.html">Documention</a>
</p>

<p>
Despite the name Unix, this is a multi platform module and also works in Windows OS.
</p>

<p>
Compile Standalone programs with Unix Library.
</p>

<pre class="example">
$ ocamlfind ocamlc -package more,unix program.ml -linkpkg -o program
$ ocamlfind ocamlopt -package more,unix program.ml -linkpkg -o progra
</pre>

<p>
<b>System</b>
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-comment-delimiter">(* </span><span class="org-comment">It is only needed on the toploop shell </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">#</span>load <span class="org-string">"unix.cma"</span> <span class="org-tuareg-font-double-colon">;;</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Get the current working directory </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-module">Unix.</span>getcwd <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"/home/tux/PycharmProjects/ocaml/prelude"</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Change the current working directory </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Unix.</span>chdir <span class="org-string">"/"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

<span class="org-tuareg-font-lock-module">Unix.</span>getcwd <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"/"</span>


<span class="org-comment-delimiter">(* </span><span class="org-comment">Get an environment variable </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Unix.</span>getenv <span class="org-string">"PATH"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-string">"/home/tux/.opam/4.02.1/bin:/home/tux/bin:/usr/local/sbin:/usr/local/bin:</span>
<span class="org-string">/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games:/home/tux/bin:</span>
<span class="org-string">/home/tux/usr/bin:/home/tux/.apps ...</span>


<span class="org-string">(* Set an environment variable *)</span>
<span class="org-string">&gt;</span>
<span class="org-string">Unix.putenv "</span><span class="org-tuareg-font-lock-constructor">DUMMYVAR</span><span class="org-string">" "</span><span class="org-tuareg-font-lock-constructor">Test</span> value<span class="org-string">"  ;;</span>
<span class="org-string">- : unit = ()</span>

<span class="org-string">&gt; Unix.getenv "</span><span class="org-tuareg-font-lock-constructor">DUMMYVAR</span><span class="org-string">" ;;</span>
<span class="org-string">- : bytes = "</span><span class="org-tuareg-font-lock-constructor">Test</span> value<span class="org-string">"</span>
<span class="org-string">&gt;    </span>

<span class="org-string">(* Get all Environment Variables *)</span>
<span class="org-string">&gt; Unix.environment () ;;</span>
<span class="org-string">- : bytes array =</span>
<span class="org-string">[|"</span><span class="org-tuareg-font-lock-constructor">XDG_VTNR</span><span class="org-tuareg-font-lock-operator">=</span>7<span class="org-string">"; "</span><span class="org-tuareg-font-lock-constructor">LC_PAPER</span><span class="org-tuareg-font-lock-operator">=</span>pt_BR.<span class="org-tuareg-font-lock-constructor">UTF</span><span class="org-tuareg-font-lock-operator">-</span>8<span class="org-string">";</span>
<span class="org-string">"</span><span class="org-tuareg-font-lock-constructor">CAML_LD_LIBRARY_PATH</span><span class="org-tuareg-font-lock-operator">=/</span>home<span class="org-tuareg-font-lock-operator">/</span>tux<span class="org-tuareg-font-lock-operator">/.</span>opam<span class="org-tuareg-font-lock-operator">/</span>4.02.1<span class="org-tuareg-font-lock-operator">/</span>lib<span class="org-tuareg-font-lock-operator">/</span>stublibs<span class="org-string">";</span>
<span class="org-string">"</span><span class="org-tuareg-font-lock-constructor">MANPATH</span><span class="org-tuareg-font-lock-operator">=:/</span>home<span class="org-tuareg-font-lock-operator">/</span>tux<span class="org-tuareg-font-lock-operator">/.</span>opam<span class="org-tuareg-font-lock-operator">/</span>4.02.1<span class="org-tuareg-font-lock-operator">/</span>man<span class="org-string">"; "</span><span class="org-tuareg-font-lock-constructor">HTTP_HOME</span><span class="org-tuareg-font-lock-operator">=</span>www.google.co.uk<span class="org-string">";</span>
<span class="org-string">  "</span><span class="org-tuareg-font-lock-constructor">SSH_AGENT_PID</span><span class="org-tuareg-font-lock-operator">=</span>1055<span class="org-string">"; "</span><span class="org-tuareg-font-lock-constructor">LC_ADDRESS</span><span class="org-tuareg-font-lock-operator">=</span>pt_BR.<span class="org-tuareg-font-lock-constructor">UTF</span><span class="org-tuareg-font-lock-operator">-</span>8<span class="org-string">"; "</span><span class="org-tuareg-font-lock-constructor">XDG_SESSION_ID</span><span class="org-tuareg-font-lock-operator">=</span>c1<span class="org-string">";</span>
<span class="org-string">  "</span><span class="org-tuareg-font-lock-constructor">XDG_GREETER_DATA_DIR</span><span class="org-tuareg-font-lock-operator">=/</span>var<span class="org-tuareg-font-lock-operator">/</span>lib<span class="org-tuareg-font-lock-operator">/</span>lightdm<span class="org-tuareg-font-lock-operator">-</span>data<span class="org-tuareg-font-lock-operator">/</span>tux<span class="org-string">"; "</span><span class="org-tuareg-font-lock-constructor">LC_MONETARY</span><span class="org-tuareg-font-lock-operator">=</span>pt_BR.<span class="org-tuareg-font-lock-constructor">UTF</span><span class="org-tuareg-font-lock-operator">-</span>8<span class="org-string">";</span>
<span class="org-string">  "</span><span class="org-tuareg-font-lock-constructor">SAL_USE_VCLPLUGIN</span><span class="org-tuareg-font-lock-operator">=</span>gtk<span class="org-string">"; "</span><span class="org-tuareg-font-lock-constructor">CLUTTER_IM_MODULE</span><span class="org-tuareg-font-lock-operator">=</span>xim<span class="org-string">"; "</span><span class="org-tuareg-font-lock-constructor">COMP_WORDBREAKS</span><span class="org-tuareg-font-lock-operator">=</span> \t\n\"'<span class="org-tuareg-font-lock-operator">&gt;&lt;;|&amp;(:</span><span class="org-string">";</span>
<span class="org-string">  "</span><span class="org-tuareg-font-lock-constructor">TERM</span><span class="org-tuareg-font-lock-operator">=</span>xterm<span class="org-string">"; "</span><span class="org-tuareg-font-lock-constructor">XDG_MENU_PREFIX</span><span class="org-tuareg-font-lock-operator">=</span>lxde<span class="org-tuareg-font-lock-operator">-</span><span class="org-string">"; "</span><span class="org-tuareg-font-lock-constructor">SHELL</span><span class="org-tuareg-font-lock-operator">=/</span>bin<span class="org-tuareg-font-lock-operator">/</span>bash<span class="org-string">"; "</span><span class="org-tuareg-font-lock-constructor">MAKEFLAGS</span><span class="org-tuareg-font-lock-operator">=</span><span class="org-string">";</span>
<span class="org-string">  "</span><span class="org-tuareg-font-lock-constructor">PERL5LIB</span><span class="org-tuareg-font-lock-operator">=/</span>home<span class="org-tuareg-font-lock-operator">/</span>tux<span class="org-tuareg-font-lock-operator">/.</span>opam<span class="org-tuareg-font-lock-operator">/</span>4.02.1<span class="org-tuareg-font-lock-operator">/</span>lib<span class="org-tuareg-font-lock-operator">/</span>perl5<span class="org-tuareg-font-lock-operator">:</span><span class="org-string">"; "</span><span class="org-tuareg-font-lock-constructor">LC_NUMERIC</span><span class="org-tuareg-font-lock-operator">=</span>pt_BR.<span class="org-tuareg-font-lock-constructor">UTF</span><span class="org-tuareg-font-lock-operator">-</span>8<span class="org-string">";</span>
<span class="org-string">  "</span><span class="org-tuareg-font-lock-constructor">OCAML_TOPLEVEL_PATH</span><span class="org-tuareg-font-lock-operator">=/</span>home<span class="org-tuareg-font-lock-operator">/</span>tux<span class="org-tuareg-font-lock-operator">/.</span>opam<span class="org-tuareg-font-lock-operator">/</span>4.02.1<span class="org-tuareg-font-lock-operator">/</span>lib<span class="org-tuareg-font-lock-operator">/</span>toplevel<span class="org-string">"; "</span><span class="org-tuareg-font-lock-constructor">USER</span><span class="org-tuareg-font-lock-operator">=</span>tux<span class="org-string">";</span>
<span class="org-string">  "</span><span class="org-tuareg-font-lock-constructor">LC_TELEPHONE</span><span class="org-tuareg-font-lock-operator">=</span>pt_BR.<span class="org-tuareg-font-lock-constructor">UTF</span><span class="org-tuareg-font-lock-operator">-</span>8<span class="org-string">";  </span>
<span class="org-string">  ...</span>

<span class="org-string">&gt;  Unix.gethostname () ;;</span>
<span class="org-string">- : string = "</span>tux<span class="org-tuareg-font-lock-operator">-</span><span class="org-tuareg-font-lock-constructor">I3000</span><span class="org-string">"</span>
<span class="org-string">&gt;</span>

<span class="org-string">(** Get the current process ID, PID *)</span>
<span class="org-string">Unix.getpid () ;;</span>
<span class="org-string">- : int = 31582</span>

<span class="org-string">(** Pid of the parent process *)</span>
<span class="org-string">&gt;    Unix.getppid () ;;</span>
<span class="org-string">- : int = 26778</span>

<span class="org-string">&gt; </span>

<span class="org-string">(* Reading Input Channel *)</span>

<span class="org-string">let read_channel ch =</span>
<span class="org-string">   let b = Buffer.create 0 in</span>

<span class="org-string">   let reader chn =</span>
<span class="org-string">    try Some (input_line chn)</span>
<span class="org-string">    with End_of_file -&gt; None</span>

<span class="org-string">   in let rec aux () =</span>
<span class="org-string">     match reader ch with</span>
<span class="org-string">      | None -&gt; ()</span>
<span class="org-string">      | Some line -&gt; Buffer.add_string b (line ^ "</span>\n<span class="org-string">") ; aux ()</span>
<span class="org-string">   in aux () ;</span>
<span class="org-string">   Buffer.contents b </span>
<span class="org-string">;;</span>
<span class="org-string">val read_channel : in_channel -&gt; bytes = &lt;fun&gt;</span>

<span class="org-string">&gt; </span>

<span class="org-string">&gt; open_in ;;</span>
<span class="org-string">- : string -&gt; in_channel = &lt;fun&gt;</span>


<span class="org-string">&gt; let fd = open_in "</span><span class="org-tuareg-font-lock-operator">/</span>tmp<span class="org-tuareg-font-lock-operator">/</span>data.txt<span class="org-string">" ;;</span>
<span class="org-string">val fd : in_channel = &lt;abstr&gt;</span>

<span class="org-string">&gt; read_channel fd |&gt; print_string ;;</span>
<span class="org-string">character \n as a line break, instead of recognizing all line break characters from the Unicode standard. Whether they match or don't match (at) line breaks depends on (?s) and (?m).</span>
<span class="org-string">(?b) makes Tcl interpret the regex as a POSIX BRE.</span>
<span class="org-string">(?e) makes Tcl interpret the regex as a POSIX ERE.</span>
<span class="org-string">- : unit = ()</span>


<span class="org-string">&gt; Unix.open_process_in ;;</span>
<span class="org-string">- : string -&gt; in_channel = &lt;fun&gt;</span>


<span class="org-string">&gt; Unix.open_process_in ;;</span>
<span class="org-string">- : string -&gt; in_channel = &lt;fun&gt;</span>
<span class="org-string"># </span>
<span class="org-string">  let fd = Unix.open_process_in "</span>ls<span class="org-string">" ;;</span>
<span class="org-string">val fd : in_channel = &lt;abstr&gt;</span>
<span class="org-string"># read_channel fd |&gt; print_string ;;</span>
<span class="org-string">_build</span>
<span class="org-string">codetools.ml</span>
<span class="org-string">_local.ml</span>
<span class="org-string">Makefile</span>
<span class="org-string">META</span>
<span class="org-string">opam</span>
<span class="org-string">others</span>
<span class="org-string">prelude.docdir</span>
<span class="org-string">prelude.ml</span>
<span class="org-string">prelude.mllib</span>
<span class="org-string">prelude.odocl</span>
<span class="org-string">seq.ml</span>
<span class="org-string">...</span>

<span class="org-string">&gt; let popen_in cmd =</span>
<span class="org-string">      let fd = Unix.open_process_in cmd in</span>
<span class="org-string">      read_channel fd </span>
<span class="org-string">  ;;          </span>
<span class="org-string">val popen_in : string -&gt; string = &lt;fun&gt;    </span>

<span class="org-string">&gt; popen_in "</span>uname <span class="org-tuareg-font-lock-operator">-</span>r<span class="org-string">" ;;</span>
<span class="org-string">- : string = "</span>3.19.0<span class="org-tuareg-font-lock-operator">-</span>21<span class="org-tuareg-font-lock-operator">-</span>generic\n<span class="org-string">"</span>
<span class="org-string">&gt;</span>
</pre>
</div>

<p>
<b>Date and Time</b>
</p>

<div class="org-src-container">

<pre class="src src-ocaml">  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>load <span class="org-string">"unix.cma"</span> <span class="org-tuareg-font-double-colon">;;</span>

  <span class="org-comment-delimiter">(*  </span><span class="org-comment">Return the current time since 00:00:00 GMT, Jan. 1, 1970, in seconds</span>
<span class="org-comment">   *</span>
<span class="org-comment">   </span><span class="org-comment-delimiter">*)</span>
  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Unix.</span>time <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Unix.</span>time <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 1433237870.
  <span class="org-tuareg-font-lock-operator">#</span>

  <span class="org-comment-delimiter">(* </span><span class="org-comment">Convert a time in seconds, as returned by Unix.time, into a date</span>
<span class="org-comment">   * and a time. Assumes UTC (Coordinated Universal Time), also known as GMT.</span>
<span class="org-comment">   </span><span class="org-comment-delimiter">*)</span>

  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Unix.</span>gmtime <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-module">Unix.</span>tm <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
  <span class="org-tuareg-font-lock-operator">#</span>

  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Unix.</span>gmtime <span class="org-tuareg-font-lock-operator">@@</span> <span class="org-tuareg-font-lock-module">Unix.</span>time <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Unix.</span>tm <span class="org-tuareg-font-lock-operator">=</span>
  <span class="org-tuareg-font-lock-operator">{</span><span class="org-tuareg-font-lock-module">Unix.</span>tm_sec <span class="org-tuareg-font-lock-operator">=</span> 36<span class="org-tuareg-font-lock-operator">;</span> tm_min <span class="org-tuareg-font-lock-operator">=</span> 39<span class="org-tuareg-font-lock-operator">;</span> tm_hour <span class="org-tuareg-font-lock-operator">=</span> 9<span class="org-tuareg-font-lock-operator">;</span> tm_mday <span class="org-tuareg-font-lock-operator">=</span> 2<span class="org-tuareg-font-lock-operator">;</span> tm_mon <span class="org-tuareg-font-lock-operator">=</span> 5<span class="org-tuareg-font-lock-operator">;</span>
   tm_year <span class="org-tuareg-font-lock-operator">=</span> 115<span class="org-tuareg-font-lock-operator">;</span> tm_wday <span class="org-tuareg-font-lock-operator">=</span> 2<span class="org-tuareg-font-lock-operator">;</span> tm_yday <span class="org-tuareg-font-lock-operator">=</span> 152<span class="org-tuareg-font-lock-operator">;</span> tm_isdst <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span><span class="org-tuareg-font-lock-operator">}</span>
  <span class="org-tuareg-font-lock-operator">#</span>

  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Unix.</span>time <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Unix.</span>gmtime <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Unix.</span>tm <span class="org-tuareg-font-lock-operator">=</span>
  <span class="org-tuareg-font-lock-operator">{</span><span class="org-tuareg-font-lock-module">Unix.</span>tm_sec <span class="org-tuareg-font-lock-operator">=</span> 20<span class="org-tuareg-font-lock-operator">;</span> tm_min <span class="org-tuareg-font-lock-operator">=</span> 9<span class="org-tuareg-font-lock-operator">;</span> tm_hour <span class="org-tuareg-font-lock-operator">=</span> 22<span class="org-tuareg-font-lock-operator">;</span> tm_mday <span class="org-tuareg-font-lock-operator">=</span> 25<span class="org-tuareg-font-lock-operator">;</span> tm_mon <span class="org-tuareg-font-lock-operator">=</span> 6<span class="org-tuareg-font-lock-operator">;</span>
   tm_year <span class="org-tuareg-font-lock-operator">=</span> 115<span class="org-tuareg-font-lock-operator">;</span> tm_wday <span class="org-tuareg-font-lock-operator">=</span> 6<span class="org-tuareg-font-lock-operator">;</span> tm_yday <span class="org-tuareg-font-lock-operator">=</span> 205<span class="org-tuareg-font-lock-operator">;</span> tm_isdst <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span><span class="org-tuareg-font-lock-operator">}</span>
  <span class="org-tuareg-font-lock-operator">#</span> 


 <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">print_dtime</span><span class="org-variable-name"> tm</span> <span class="org-tuareg-font-lock-operator">=</span> 
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Unix</span> <span class="org-tuareg-font-lock-governing">in</span>
    <span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"Year %d\n"</span> <span class="org-tuareg-font-lock-operator">(</span>tm.tm_year <span class="org-tuareg-font-lock-operator">+</span> 1900<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">;</span>
    <span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"Month %d\n"</span> <span class="org-tuareg-font-lock-operator">(</span>tm.tm_mon <span class="org-tuareg-font-lock-operator">+</span> 1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">;</span>
    <span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"Day   %d\n"</span> tm.tm_mday<span class="org-tuareg-font-lock-operator">;</span> 
    <span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"Hour  %d\n"</span> tm.tm_hour<span class="org-tuareg-font-lock-operator">;</span>
    <span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"Min   %d\n"</span> tm.tm_min<span class="org-tuareg-font-lock-operator">;</span>
    <span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"Sec   %d\n"</span> tm.tm_sec
 <span class="org-tuareg-font-double-colon">;;</span>


  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Unix.</span>time <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Unix.</span>gmtime <span class="org-tuareg-font-lock-operator">|&gt;</span> print_dtime <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-constructor">Year</span> 2015
  <span class="org-tuareg-font-lock-constructor">Month</span> 7
  <span class="org-tuareg-font-lock-constructor">Day</span>   25
  <span class="org-tuareg-font-lock-constructor">Hour</span>  22
  <span class="org-tuareg-font-lock-constructor">Min</span>   16
  <span class="org-tuareg-font-lock-constructor">Sec</span>   58
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-doc">(** Zero date </span>
<span class="org-doc">    *</span>
<span class="org-doc">    *)</span>
  <span class="org-tuareg-font-lock-operator">#</span> 0.0  <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Unix.</span>gmtime <span class="org-tuareg-font-lock-operator">|&gt;</span>  print_dtime <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-constructor">Year</span> 1970
  <span class="org-tuareg-font-lock-constructor">Month</span> 1
  <span class="org-tuareg-font-lock-constructor">Day</span>   1
  <span class="org-tuareg-font-lock-constructor">Hour</span>  0
  <span class="org-tuareg-font-lock-constructor">Min</span>   0
  <span class="org-tuareg-font-lock-constructor">Sec</span>   0
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
  <span class="org-tuareg-font-lock-operator">#</span> 


  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">today_date</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">=</span> 
        <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Unix</span> <span class="org-tuareg-font-lock-governing">in</span> 
        <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">tm</span> <span class="org-tuareg-font-lock-operator">=</span> time <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> gmtime <span class="org-tuareg-font-lock-governing">in</span>
        <span class="org-tuareg-font-lock-operator">(</span>tm.tm_year <span class="org-tuareg-font-lock-operator">+</span> 1900<span class="org-tuareg-font-lock-operator">,</span> tm.tm_mon <span class="org-tuareg-font-lock-operator">+</span> 1<span class="org-tuareg-font-lock-operator">,</span> tm.tm_mday<span class="org-tuareg-font-lock-operator">)</span>
    <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">today_date</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">*</span> int <span class="org-tuareg-font-lock-operator">*</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-tuareg-font-lock-operator">#</span>   today_date <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">*</span> int <span class="org-tuareg-font-lock-operator">*</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span>2015<span class="org-tuareg-font-lock-operator">,</span> 7<span class="org-tuareg-font-lock-operator">,</span> 25<span class="org-tuareg-font-lock-operator">)</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span>  <span class="org-function-name">make_date</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">y</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> m</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> d</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Unix</span> <span class="org-tuareg-font-lock-governing">in</span> 
    <span class="org-tuareg-font-lock-operator">{</span> 
     tm_sec <span class="org-tuareg-font-lock-operator">=</span> 0 <span class="org-tuareg-font-lock-operator">;</span>
     tm_min <span class="org-tuareg-font-lock-operator">=</span> 0 <span class="org-tuareg-font-lock-operator">;</span>
     tm_hour <span class="org-tuareg-font-lock-operator">=</span> 0 <span class="org-tuareg-font-lock-operator">;</span>
     tm_mday <span class="org-tuareg-font-lock-operator">=</span> d <span class="org-tuareg-font-lock-operator">;</span>
     tm_mon  <span class="org-tuareg-font-lock-operator">=</span> m <span class="org-tuareg-font-lock-operator">-</span> 1<span class="org-tuareg-font-lock-operator">;</span>
     tm_year <span class="org-tuareg-font-lock-operator">=</span> y <span class="org-tuareg-font-lock-operator">-</span> 1900 <span class="org-tuareg-font-lock-operator">;</span>
     tm_yday <span class="org-tuareg-font-lock-operator">=</span> 0<span class="org-tuareg-font-lock-operator">;</span>
     tm_wday <span class="org-tuareg-font-lock-operator">=</span> 0 <span class="org-tuareg-font-lock-operator">;</span>
     tm_isdst <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span> <span class="org-tuareg-font-lock-operator">;</span>
    <span class="org-tuareg-font-lock-operator">}</span>
<span class="org-tuareg-font-double-colon">;;</span>


  <span class="org-tuareg-font-lock-operator">#</span> make_date <span class="org-tuareg-font-lock-operator">(</span>2013<span class="org-tuareg-font-lock-operator">,</span> 10<span class="org-tuareg-font-lock-operator">,</span> 15<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Unix.</span>tm <span class="org-tuareg-font-lock-operator">=</span>
  <span class="org-tuareg-font-lock-operator">{</span><span class="org-tuareg-font-lock-module">Unix.</span>tm_sec <span class="org-tuareg-font-lock-operator">=</span> 0<span class="org-tuareg-font-lock-operator">;</span> tm_min <span class="org-tuareg-font-lock-operator">=</span> 0<span class="org-tuareg-font-lock-operator">;</span> tm_hour <span class="org-tuareg-font-lock-operator">=</span> 0<span class="org-tuareg-font-lock-operator">;</span> tm_mday <span class="org-tuareg-font-lock-operator">=</span> 15<span class="org-tuareg-font-lock-operator">;</span> tm_mon <span class="org-tuareg-font-lock-operator">=</span> 9<span class="org-tuareg-font-lock-operator">;</span>
   tm_year <span class="org-tuareg-font-lock-operator">=</span> 113<span class="org-tuareg-font-lock-operator">;</span> tm_wday <span class="org-tuareg-font-lock-operator">=</span> 0<span class="org-tuareg-font-lock-operator">;</span> tm_yday <span class="org-tuareg-font-lock-operator">=</span> 0<span class="org-tuareg-font-lock-operator">;</span> tm_isdst <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span><span class="org-tuareg-font-lock-operator">}</span>
  <span class="org-tuareg-font-lock-operator">#</span> 


  <span class="org-tuareg-font-lock-operator">#</span>  make_date <span class="org-tuareg-font-lock-operator">(</span>2013<span class="org-tuareg-font-lock-operator">,</span> 10<span class="org-tuareg-font-lock-operator">,</span> 15<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> print_dtime <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-constructor">Year</span> 2013
  <span class="org-tuareg-font-lock-constructor">Month</span> 10
  <span class="org-tuareg-font-lock-constructor">Day</span>   15
  <span class="org-tuareg-font-lock-constructor">Hour</span>  0
  <span class="org-tuareg-font-lock-constructor">Min</span>   0
  <span class="org-tuareg-font-lock-constructor">Sec</span>   0
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
  <span class="org-tuareg-font-lock-operator">#</span> 


  <span class="org-doc">(** Get the timezone</span>
<span class="org-doc">      The time zone is the difference between the current UTC time </span>
<span class="org-doc">      and the localtime hour</span>

<span class="org-doc">      UTC_Time = Local_Time + TimeZone</span>

<span class="org-doc">      For example if your local time is 10h and your time zone is +3h,</span>
<span class="org-doc">      then the UTC time will be 10h + 3h =&gt; 13h or 1h PM</span>

<span class="org-doc">      1 h ==&gt; 60 min/h * 60 sec/min = 3600 sec/h</span>

<span class="org-doc">   *)</span>

  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">tzone</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">=</span>
        <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Unix</span> <span class="org-tuareg-font-lock-governing">in</span>
        <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">epc1</span> <span class="org-tuareg-font-lock-operator">=</span> time <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-governing">in</span>
        <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">epc2</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> _</span> <span class="org-tuareg-font-lock-operator">=</span> epc1 <span class="org-tuareg-font-lock-operator">|&gt;</span> gmtime <span class="org-tuareg-font-lock-operator">|&gt;</span> mktime <span class="org-tuareg-font-lock-governing">in</span>
        int_of_float <span class="org-tuareg-font-lock-operator">@@</span> <span class="org-tuareg-font-lock-operator">(</span>epc2 <span class="org-tuareg-font-lock-operator">-.</span> epc1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">/.</span> 3600.
  <span class="org-tuareg-font-double-colon">;;</span>

  <span class="org-doc">(** Recife/ Brazil Timezone *)</span>  
  tzone <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 3
  <span class="org-tuareg-font-lock-operator">#</span>       

  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">test_time_zone</span><span class="org-variable-name"> epoch</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">tm1</span> <span class="org-tuareg-font-lock-operator">=</span>
      epoch <span class="org-tuareg-font-lock-operator">+.</span> <span class="org-tuareg-font-lock-operator">(</span>float_of_int <span class="org-tuareg-font-lock-operator">(</span>tzone <span class="org-tuareg-font-lock-operator">()))</span> <span class="org-tuareg-font-lock-operator">*.</span> 3600.0
      <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Unix.</span>localtime <span class="org-tuareg-font-lock-governing">in</span>

    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">tm2</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Unix.</span>gmtime epoch <span class="org-tuareg-font-lock-governing">in</span>
    tm1 <span class="org-tuareg-font-lock-operator">=</span> tm2
  <span class="org-tuareg-font-double-colon">;;</span>          

  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">t1</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Unix.</span>time <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">t1</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 1437879090.
  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">t2</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Unix.</span>time <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">t2</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 1437879096.
  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">t3</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Unix.</span>time <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">t3</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 1437879195.
  <span class="org-tuareg-font-lock-operator">#</span> 
  <span class="org-tuareg-font-lock-module">List.</span>map test_time_zone <span class="org-tuareg-font-lock-operator">[</span>t1<span class="org-tuareg-font-lock-operator">;</span> t2<span class="org-tuareg-font-lock-operator">;</span> t3<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-constant">true</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-constant">true</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-constant">true</span><span class="org-tuareg-font-lock-operator">]</span>
  <span class="org-tuareg-font-lock-operator">#</span>   

  <span class="org-doc">(** Convert time records to Epoch Time </span>
<span class="org-doc">    *</span>
<span class="org-doc">    * The function Unix.mktime converts a time record to epoch time</span>
<span class="org-doc">    *</span>
<span class="org-doc">    *)</span>

  <span class="org-comment-delimiter">(* </span><span class="org-comment">Current time in Epoch time format </span><span class="org-comment-delimiter">*)</span>      
  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">ec</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Unix.</span>time <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">ec</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 1437864615.
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-comment-delimiter">(* </span><span class="org-comment">Current time as time record in Local Time record </span><span class="org-comment-delimiter">*)</span>
  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">tm</span> <span class="org-tuareg-font-lock-operator">=</span> ec <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Unix.</span>localtime <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">tm</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Unix.</span>tm <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-operator">{</span><span class="org-tuareg-font-lock-module">Unix.</span>tm_sec <span class="org-tuareg-font-lock-operator">=</span> 15<span class="org-tuareg-font-lock-operator">;</span> tm_min <span class="org-tuareg-font-lock-operator">=</span> 50<span class="org-tuareg-font-lock-operator">;</span> tm_hour <span class="org-tuareg-font-lock-operator">=</span> 19<span class="org-tuareg-font-lock-operator">;</span> tm_mday <span class="org-tuareg-font-lock-operator">=</span> 25<span class="org-tuareg-font-lock-operator">;</span> tm_mon <span class="org-tuareg-font-lock-operator">=</span> 6<span class="org-tuareg-font-lock-operator">;</span>
     tm_year <span class="org-tuareg-font-lock-operator">=</span> 115<span class="org-tuareg-font-lock-operator">;</span> tm_wday <span class="org-tuareg-font-lock-operator">=</span> 6<span class="org-tuareg-font-lock-operator">;</span> tm_yday <span class="org-tuareg-font-lock-operator">=</span> 205<span class="org-tuareg-font-lock-operator">;</span> tm_isdst <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span><span class="org-tuareg-font-lock-operator">}</span>
  <span class="org-tuareg-font-lock-operator">#</span> 


  <span class="org-tuareg-font-lock-operator">#</span>  tm <span class="org-tuareg-font-lock-operator">|&gt;</span> print_dtime <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-constructor">Year</span> 2015
  <span class="org-tuareg-font-lock-constructor">Month</span> 7
  <span class="org-tuareg-font-lock-constructor">Day</span>   25
  <span class="org-tuareg-font-lock-constructor">Hour</span>  19
  <span class="org-tuareg-font-lock-constructor">Min</span>   50
  <span class="org-tuareg-font-lock-constructor">Sec</span>   15
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Unix.</span>mktime <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Unix.</span>tm <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">*</span> <span class="org-tuareg-font-lock-module">Unix.</span>tm <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">epoch</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> tm2</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Unix.</span>mktime tm<span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">epoch</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 1437864615.
  <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">tm2</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Unix.</span>tm <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-operator">{</span><span class="org-tuareg-font-lock-module">Unix.</span>tm_sec <span class="org-tuareg-font-lock-operator">=</span> 15<span class="org-tuareg-font-lock-operator">;</span> tm_min <span class="org-tuareg-font-lock-operator">=</span> 50<span class="org-tuareg-font-lock-operator">;</span> tm_hour <span class="org-tuareg-font-lock-operator">=</span> 19<span class="org-tuareg-font-lock-operator">;</span> tm_mday <span class="org-tuareg-font-lock-operator">=</span> 25<span class="org-tuareg-font-lock-operator">;</span> tm_mon <span class="org-tuareg-font-lock-operator">=</span> 6<span class="org-tuareg-font-lock-operator">;</span>
     tm_year <span class="org-tuareg-font-lock-operator">=</span> 115<span class="org-tuareg-font-lock-operator">;</span> tm_wday <span class="org-tuareg-font-lock-operator">=</span> 6<span class="org-tuareg-font-lock-operator">;</span> tm_yday <span class="org-tuareg-font-lock-operator">=</span> 205<span class="org-tuareg-font-lock-operator">;</span> tm_isdst <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span><span class="org-tuareg-font-lock-operator">}</span>

  <span class="org-tuareg-font-lock-operator">#</span> epoch <span class="org-tuareg-font-lock-operator">=</span> ec <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>

  <span class="org-tuareg-font-lock-operator">#</span> tm2 <span class="org-tuareg-font-lock-operator">=</span> tm <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>
  <span class="org-tuareg-font-lock-operator">#</span> 



  <span class="org-doc">(** Count the number of days between two dates </span>

<span class="org-doc">      1 day = 24 h * 60 h/min * 60 min/sec =</span>
<span class="org-doc">            = 86400 seconds  </span>

<span class="org-doc">      The two date times dt1 and dt2 are assumed to be in UTC (GM time)</span>
<span class="org-doc">  *)</span>

  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">dtime_to_epoch</span><span class="org-variable-name"> tm</span> <span class="org-tuareg-font-lock-operator">=</span> 
        <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">ep</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> _</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Unix.</span>mktime tm <span class="org-tuareg-font-lock-governing">in</span>
        ep   
        <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">dtime_to_epoch</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Unix.</span>tm <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
  <span class="org-tuareg-font-lock-operator">#</span> 


  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">day_count</span><span class="org-variable-name"> dtm1 dtm2</span> <span class="org-tuareg-font-lock-operator">=</span>        
       <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">seconds</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span>dtime_to_epoch dtm2<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-.</span> <span class="org-tuareg-font-lock-operator">(</span>dtime_to_epoch dtm1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-governing">in</span>
       <span class="org-tuareg-font-lock-operator">(</span>int_of_float <span class="org-tuareg-font-lock-operator">(</span>seconds <span class="org-tuareg-font-lock-operator">/.</span> 86400. <span class="org-tuareg-font-lock-operator">))</span> <span class="org-tuareg-font-lock-operator">+</span> 1
  <span class="org-tuareg-font-double-colon">;;</span>     
  <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">day_count</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Unix.</span>tm <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-module">Unix.</span>tm <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>


  <span class="org-tuareg-font-lock-operator">#</span> day_count <span class="org-tuareg-font-lock-operator">(</span>make_date <span class="org-tuareg-font-lock-operator">(</span>2003<span class="org-tuareg-font-lock-operator">,</span> 5<span class="org-tuareg-font-lock-operator">,</span> 12<span class="org-tuareg-font-lock-operator">))</span> <span class="org-tuareg-font-lock-operator">(</span>make_date <span class="org-tuareg-font-lock-operator">(</span>2008<span class="org-tuareg-font-lock-operator">,</span> 9<span class="org-tuareg-font-lock-operator">,</span> 10<span class="org-tuareg-font-lock-operator">))</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1949
  <span class="org-tuareg-font-lock-operator">#</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-5-7" class="outline-4">
<h4 id="sec-1-5-7"><span class="section-number-4">1.5.7</span> IO - Input / Output</h4>
<div class="outline-text-4" id="text-1-5-7">
<p>
Standard Print Functions
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> print_string <span class="org-string">"Hello world!\n"</span><span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Hello</span> world<span class="org-tuareg-font-lock-operator">!</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> print_int 100 <span class="org-tuareg-font-double-colon">;;</span>
100<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> print_float 23.23 <span class="org-tuareg-font-double-colon">;;</span>
23.23<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> print_char <span class="org-string">'c'</span> <span class="org-tuareg-font-double-colon">;;</span>
c<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">s</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Printf.</span>sprintf <span class="org-string">"x =  %s  y = %f z = %d"</span> <span class="org-string">"hello"</span> 2.2232 40  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">s</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"x =  hello  y = 2.223200 z = 40"</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> print_string s <span class="org-tuareg-font-double-colon">;;</span>
x <span class="org-tuareg-font-lock-operator">=</span>  hello  y <span class="org-tuareg-font-lock-operator">=</span> 2.223200 z <span class="org-tuareg-font-lock-operator">=</span> 40<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
</pre>
</div>

<p>
Printf Module
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"%d"</span> 100 <span class="org-tuareg-font-double-colon">;;</span>
100<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"%d %f"</span> 100 2.232 <span class="org-tuareg-font-double-colon">;;</span>
100 2.232000<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"%s %d %f"</span> <span class="org-string">"This is"</span> 100 2.232 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">This</span> is 100 2.232000<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Printf.</span>sprintf <span class="org-string">"x =  %s  y = %f z = %d"</span> <span class="org-string">"hello"</span> 2.2232 40 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"x =  hello  y = 2.223200 z = 40"</span>
</pre>
</div>

<p>
<b>Files</b>
</p>

<p>
Writing a Text File:
</p>

<div class="org-src-container">

<pre class="src src-ocaml">utop <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">file</span> <span class="org-tuareg-font-lock-operator">=</span> open_out <span class="org-string">"/tmp/file.txt"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">file</span> <span class="org-tuareg-font-lock-operator">:</span> out_channel <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span>abstr<span class="org-tuareg-font-lock-operator">&gt;</span>

utop <span class="org-tuareg-font-lock-operator">#</span> output_string file <span class="org-string">"hello\n"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

utop <span class="org-tuareg-font-lock-operator">#</span> output_string file <span class="org-string">"world\n"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

utop <span class="org-tuareg-font-lock-operator">#</span> close_out file <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
</pre>
</div>

<p>
Reading a Text File:
</p>

<pre class="example">
utop # let filein = open_in "/tmp/file.txt" ;;
val filein : in_channel = &lt;abstr&gt;

utop # input_line filein ;;
- : string = "hello"

utop # input_line filein ;;
- : string = "world"

utop # input_line filein ;;
Exception: End_of_file.


utop # let filein = open_in "/tmp/file.txt" ;;
val filein : in_channel = &lt;abstr&gt;

utop # input_char ;;
- : in_channel -&gt; char = &lt;fun&gt;


utop # input_char filein ;;
- : char = 'h'
utop # input_char filein ;;
- : char = 'e'
utop # input_char filein ;;
- : char = 'l'
utop # input_char filein ;;
- : char = 'l'
utop #
</pre>
</div>
</div>

<div id="outline-container-sec-1-5-8" class="outline-4">
<h4 id="sec-1-5-8"><span class="section-number-4">1.5.8</span> Type Casting</h4>
<div class="outline-text-4" id="text-1-5-8">
<div class="org-src-container">

<pre class="src src-ocaml">utop <span class="org-tuareg-font-lock-operator">#</span> float_of_int 2323 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 2323.

utop <span class="org-tuareg-font-lock-operator">#</span> float_of_string <span class="org-string">"100.04523"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 100.04523

utop <span class="org-tuareg-font-lock-operator">#</span> int_of_float 100.04523 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 100

utop <span class="org-tuareg-font-lock-operator">#</span> int_of_string <span class="org-string">"90000"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 90000

utop <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>20<span class="org-tuareg-font-lock-operator">;</span> 230<span class="org-tuareg-font-lock-operator">;</span> 10 <span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 50 <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">x</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>20<span class="org-tuareg-font-lock-operator">;</span> 230<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">]</span>

utop <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>map float_of_int x <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>20.<span class="org-tuareg-font-lock-operator">;</span> 230.<span class="org-tuareg-font-lock-operator">;</span> 10.<span class="org-tuareg-font-lock-operator">;</span> 40.<span class="org-tuareg-font-lock-operator">;</span> 50.<span class="org-tuareg-font-lock-operator">]</span>

utop <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Array.</span>of_list <span class="org-tuareg-font-lock-operator">[</span>20.<span class="org-tuareg-font-lock-operator">;</span> 230.<span class="org-tuareg-font-lock-operator">;</span> 10.<span class="org-tuareg-font-lock-operator">;</span> 40.<span class="org-tuareg-font-lock-operator">;</span> 50.<span class="org-tuareg-font-lock-operator">]</span>  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|</span>20.<span class="org-tuareg-font-lock-operator">;</span> 230.<span class="org-tuareg-font-lock-operator">;</span> 10.<span class="org-tuareg-font-lock-operator">;</span> 40.<span class="org-tuareg-font-lock-operator">;</span> 50.<span class="org-tuareg-font-lock-operator">|]</span>

utop <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Array.</span>to_list <span class="org-tuareg-font-lock-operator">[|</span>20.<span class="org-tuareg-font-lock-operator">;</span> 230.<span class="org-tuareg-font-lock-operator">;</span> 10.<span class="org-tuareg-font-lock-operator">;</span> 40.<span class="org-tuareg-font-lock-operator">;</span> 50.<span class="org-tuareg-font-lock-operator">|]</span>  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>20.<span class="org-tuareg-font-lock-operator">;</span> 230.<span class="org-tuareg-font-lock-operator">;</span> 10.<span class="org-tuareg-font-lock-operator">;</span> 40.<span class="org-tuareg-font-lock-operator">;</span> 50.<span class="org-tuareg-font-lock-operator">]</span>

utop <span class="org-tuareg-font-lock-operator">#</span> string_of_bool <span class="org-constant">true</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"true"</span>

utop <span class="org-tuareg-font-lock-operator">#</span> string_of_int 11000 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"11000"</span>

utop <span class="org-tuareg-font-lock-operator">#</span> string_of_float 23.2323 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"23.2323"</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-1-6" class="outline-3">
<h3 id="sec-1-6"><span class="section-number-3">1.6</span> Algebraic Data Types and Pattern Matching</h3>
<div class="outline-text-3" id="text-1-6">
</div><div id="outline-container-sec-1-6-1" class="outline-4">
<h4 id="sec-1-6-1"><span class="section-number-4">1.6.1</span> Overview</h4>
<div class="outline-text-4" id="text-1-6-1">
<ul class="org-ul">
<li>Product Types: Corresponds to cartesian product. Examples: Tupĺes,
Records, Constructs.
</li>
<li>Sum Types: Disjoin Unions of types. Used to express possibilities.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-6-2" class="outline-4">
<h4 id="sec-1-6-2"><span class="section-number-4">1.6.2</span> Record Types</h4>
<div class="outline-text-4" id="text-1-6-2">
<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">country</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>
     name <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">;</span>
     domain <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">;</span>
     language <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">;</span>
     id <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">;</span>
  <span class="org-tuareg-font-lock-operator">}</span>
  <span class="org-tuareg-font-double-colon">;;</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">brazil</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>name <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Brazil"</span> <span class="org-tuareg-font-lock-operator">;</span> domain <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">".br"</span> <span class="org-tuareg-font-lock-operator">;</span> language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Portuguese"</span> <span class="org-tuareg-font-lock-operator">;</span> id <span class="org-tuareg-font-lock-operator">=</span> 100 <span class="org-tuareg-font-lock-operator">}</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">brazil</span> <span class="org-tuareg-font-lock-operator">:</span> country <span class="org-tuareg-font-lock-operator">=</span>
  <span class="org-tuareg-font-lock-operator">{</span>name <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Brazil"</span><span class="org-tuareg-font-lock-operator">;</span> domain <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">".br"</span><span class="org-tuareg-font-lock-operator">;</span> language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Portuguese"</span><span class="org-tuareg-font-lock-operator">;</span> id <span class="org-tuareg-font-lock-operator">=</span> 100<span class="org-tuareg-font-lock-operator">}</span>

<span class="org-tuareg-font-lock-operator">&gt;</span>  brazil.name <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Brazil"</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> brazil.domain <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">".br"</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> brazil.language <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Portuguese"</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> brazil.id <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 100


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">countries</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>
    <span class="org-tuareg-font-lock-operator">{</span>name <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Brazil"</span> <span class="org-tuareg-font-lock-operator">;</span> domain <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">".br"</span> <span class="org-tuareg-font-lock-operator">;</span> language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Portuguese"</span> <span class="org-tuareg-font-lock-operator">;</span> id <span class="org-tuareg-font-lock-operator">=</span> 100 <span class="org-tuareg-font-lock-operator">}</span> <span class="org-tuareg-font-lock-operator">;</span>
    <span class="org-tuareg-font-lock-operator">{</span>name <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"United Kingdom"</span> <span class="org-tuareg-font-lock-operator">;</span> domain <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">".co.uk"</span> <span class="org-tuareg-font-lock-operator">;</span> language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"English"</span> <span class="org-tuareg-font-lock-operator">;</span> id <span class="org-tuareg-font-lock-operator">=</span> 10 <span class="org-tuareg-font-lock-operator">}</span> <span class="org-tuareg-font-lock-operator">;</span>
    <span class="org-tuareg-font-lock-operator">{</span>name <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"South Africa"</span> <span class="org-tuareg-font-lock-operator">;</span> domain <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">".co.za"</span> <span class="org-tuareg-font-lock-operator">;</span> language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"English"</span> <span class="org-tuareg-font-lock-operator">;</span> id <span class="org-tuareg-font-lock-operator">=</span> 40 <span class="org-tuareg-font-lock-operator">}</span> <span class="org-tuareg-font-lock-operator">;</span>
    <span class="org-tuareg-font-lock-operator">{</span>name <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"France"</span> <span class="org-tuareg-font-lock-operator">;</span> domain <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">".fr"</span> <span class="org-tuareg-font-lock-operator">;</span> language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"French"</span> <span class="org-tuareg-font-lock-operator">;</span> id <span class="org-tuareg-font-lock-operator">=</span> 20 <span class="org-tuareg-font-lock-operator">}</span> <span class="org-tuareg-font-lock-operator">;</span>
    <span class="org-tuareg-font-lock-operator">{</span>name <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Taiwan ROC"</span> <span class="org-tuareg-font-lock-operator">;</span> domain <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">".tw"</span> <span class="org-tuareg-font-lock-operator">;</span> language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Chinese"</span> <span class="org-tuareg-font-lock-operator">;</span> id <span class="org-tuareg-font-lock-operator">=</span> 54 <span class="org-tuareg-font-lock-operator">}</span> <span class="org-tuareg-font-lock-operator">;</span>
    <span class="org-tuareg-font-lock-operator">{</span>name <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Australia"</span> <span class="org-tuareg-font-lock-operator">;</span> domain <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">".au"</span> <span class="org-tuareg-font-lock-operator">;</span> language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"English"</span> <span class="org-tuareg-font-lock-operator">;</span> id <span class="org-tuareg-font-lock-operator">=</span> 354 <span class="org-tuareg-font-lock-operator">}</span> <span class="org-tuareg-font-lock-operator">;</span>
      <span class="org-tuareg-font-lock-operator">]</span>
  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">countries</span> <span class="org-tuareg-font-lock-operator">:</span> country list <span class="org-tuareg-font-lock-operator">=</span>
  <span class="org-tuareg-font-lock-operator">[{</span>name <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Brazil"</span><span class="org-tuareg-font-lock-operator">;</span> domain <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">".br"</span><span class="org-tuareg-font-lock-operator">;</span> language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Portuguese"</span><span class="org-tuareg-font-lock-operator">;</span> id <span class="org-tuareg-font-lock-operator">=</span> 100<span class="org-tuareg-font-lock-operator">};</span>
   <span class="org-tuareg-font-lock-operator">{</span>name <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"United Kingdom"</span><span class="org-tuareg-font-lock-operator">;</span> domain <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">".co.uk"</span><span class="org-tuareg-font-lock-operator">;</span> language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"English"</span><span class="org-tuareg-font-lock-operator">;</span>
    id <span class="org-tuareg-font-lock-operator">=</span> 10<span class="org-tuareg-font-lock-operator">};</span>
   <span class="org-tuareg-font-lock-operator">{</span>name <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"South Africa"</span><span class="org-tuareg-font-lock-operator">;</span> domain <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">".co.za"</span><span class="org-tuareg-font-lock-operator">;</span> language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"English"</span><span class="org-tuareg-font-lock-operator">;</span> id <span class="org-tuareg-font-lock-operator">=</span> 40<span class="org-tuareg-font-lock-operator">};</span>
   <span class="org-tuareg-font-lock-operator">{</span>name <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"France"</span><span class="org-tuareg-font-lock-operator">;</span> domain <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">".fr"</span><span class="org-tuareg-font-lock-operator">;</span> language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"French"</span><span class="org-tuareg-font-lock-operator">;</span> id <span class="org-tuareg-font-lock-operator">=</span> 20<span class="org-tuareg-font-lock-operator">};</span>
   <span class="org-tuareg-font-lock-operator">{</span>name <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Taiwan ROC"</span><span class="org-tuareg-font-lock-operator">;</span> domain <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">".tw"</span><span class="org-tuareg-font-lock-operator">;</span> language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Chinese"</span><span class="org-tuareg-font-lock-operator">;</span> id <span class="org-tuareg-font-lock-operator">=</span> 54<span class="org-tuareg-font-lock-operator">};</span>
   <span class="org-tuareg-font-lock-operator">{</span>name <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Australia"</span><span class="org-tuareg-font-lock-operator">;</span> domain <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">".au"</span><span class="org-tuareg-font-lock-operator">;</span> language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"English"</span><span class="org-tuareg-font-lock-operator">;</span> id <span class="org-tuareg-font-lock-operator">=</span> 354<span class="org-tuareg-font-lock-operator">}]</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">c</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> c.name <span class="org-tuareg-font-lock-operator">)</span> countries <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"Brazil"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"United Kingdom"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"South Africa"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"France"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"Taiwan ROC"</span><span class="org-tuareg-font-lock-operator">;</span>
 <span class="org-string">"Australia"</span><span class="org-tuareg-font-lock-operator">]</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">c</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> c.domain <span class="org-tuareg-font-lock-operator">)</span> countries <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">".br"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">".co.uk"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">".co.za"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">".fr"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">".tw"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">".au"</span><span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>filter <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">c</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> c.name <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"France"</span><span class="org-tuareg-font-lock-operator">)</span> countries <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> country list <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-tuareg-font-lock-operator">[{</span>name <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"France"</span><span class="org-tuareg-font-lock-operator">;</span> domain <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">".fr"</span><span class="org-tuareg-font-lock-operator">;</span> language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"French"</span><span class="org-tuareg-font-lock-operator">;</span> id <span class="org-tuareg-font-lock-operator">=</span> 20<span class="org-tuareg-font-lock-operator">}]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>filter <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">c</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> c.language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"English"</span><span class="org-tuareg-font-lock-operator">)</span> countries <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> country list <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-tuareg-font-lock-operator">[{</span>name <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"United Kingdom"</span><span class="org-tuareg-font-lock-operator">;</span> domain <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">".co.uk"</span><span class="org-tuareg-font-lock-operator">;</span> language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"English"</span><span class="org-tuareg-font-lock-operator">;</span> id <span class="org-tuareg-font-lock-operator">=</span> 10<span class="org-tuareg-font-lock-operator">};</span>
 <span class="org-tuareg-font-lock-operator">{</span>name <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"South Africa"</span><span class="org-tuareg-font-lock-operator">;</span> domain <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">".co.za"</span><span class="org-tuareg-font-lock-operator">;</span> language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"English"</span><span class="org-tuareg-font-lock-operator">;</span> id <span class="org-tuareg-font-lock-operator">=</span> 40<span class="org-tuareg-font-lock-operator">};</span>
 <span class="org-tuareg-font-lock-operator">{</span>name <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Australia"</span><span class="org-tuareg-font-lock-operator">;</span> domain <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">".au"</span><span class="org-tuareg-font-lock-operator">;</span> language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"English"</span><span class="org-tuareg-font-lock-operator">;</span> id <span class="org-tuareg-font-lock-operator">=</span> 354<span class="org-tuareg-font-lock-operator">}]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> countries 
  <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>filter <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">c</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> c.language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"English"</span><span class="org-tuareg-font-lock-operator">)</span> 
  <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">c</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> c.name<span class="org-tuareg-font-lock-operator">)</span>
  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"United Kingdom"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"South Africa"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"Australia"</span><span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">english_speaking_countries</span> <span class="org-tuareg-font-lock-operator">=</span> 
  countries 
  <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>filter <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">c</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> c.language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"English"</span><span class="org-tuareg-font-lock-operator">)</span> 
  <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">c</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> c.name<span class="org-tuareg-font-lock-operator">)</span>
  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">english_speaking_countries</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">=</span>
  <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"United Kingdom"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"South Africa"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"Australia"</span><span class="org-tuareg-font-lock-operator">]</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> english_speaking_countries <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"United Kingdom"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"South Africa"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"Australia"</span><span class="org-tuareg-font-lock-operator">]</span> 

<span class="org-tuareg-font-lock-operator">&gt;</span> countries 
  <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>filter <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">c</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> c.language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"English"</span><span class="org-tuareg-font-lock-operator">)</span>
  <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">c</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> c.name<span class="org-tuareg-font-lock-operator">,</span> c.domain<span class="org-tuareg-font-lock-operator">)</span>
  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>string <span class="org-tuareg-font-lock-operator">*</span> string<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-tuareg-font-lock-operator">[(</span><span class="org-string">"United Kingdom"</span><span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">".co.uk"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">"South Africa"</span><span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">".co.za"</span><span class="org-tuareg-font-lock-operator">);</span>
 <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">"Australia"</span><span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">".au"</span><span class="org-tuareg-font-lock-operator">)]</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>find <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x.id <span class="org-tuareg-font-lock-operator">=</span> 100<span class="org-tuareg-font-lock-operator">)</span> countries <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> country <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-tuareg-font-lock-operator">{</span>name <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Brazil"</span><span class="org-tuareg-font-lock-operator">;</span> domain <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">".br"</span><span class="org-tuareg-font-lock-operator">;</span> language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Portuguese"</span><span class="org-tuareg-font-lock-operator">;</span> id <span class="org-tuareg-font-lock-operator">=</span> 100<span class="org-tuareg-font-lock-operator">}</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>find <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x.id <span class="org-tuareg-font-lock-operator">=</span> 354<span class="org-tuareg-font-lock-operator">)</span> countries <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> country <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-tuareg-font-lock-operator">{</span>name <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Australia"</span><span class="org-tuareg-font-lock-operator">;</span> domain <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">".au"</span><span class="org-tuareg-font-lock-operator">;</span> language <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"English"</span><span class="org-tuareg-font-lock-operator">;</span> id <span class="org-tuareg-font-lock-operator">=</span> 354<span class="org-tuareg-font-lock-operator">}</span>

<span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-tuareg-font-lock-module">List.</span>find <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x.id <span class="org-tuareg-font-lock-operator">=</span> 1354<span class="org-tuareg-font-lock-operator">)</span> countries <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Exception</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-builtin">Not_found</span>.

<span class="org-tuareg-font-lock-operator">&gt;</span> countries 
  <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>find <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x.id <span class="org-tuareg-font-lock-operator">=</span> 100<span class="org-tuareg-font-lock-operator">)</span>
  <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x.name
  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Brazil"</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-6-3" class="outline-4">
<h4 id="sec-1-6-3"><span class="section-number-4">1.6.3</span> Disjoint Union</h4>
<div class="outline-text-4" id="text-1-6-3">
<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">literal</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Integer</span>   <span class="org-keyword">of</span> int
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Float</span>     <span class="org-keyword">of</span> float
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">String</span>    <span class="org-keyword">of</span> string

<span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">operator</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Add</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Div</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Mul</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Sub</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-6-4" class="outline-4">
<h4 id="sec-1-6-4"><span class="section-number-4">1.6.4</span> Agreggated Data types</h4>
<div class="outline-text-4" id="text-1-6-4">
<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">agg</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Agg</span> <span class="org-keyword">of</span> int <span class="org-tuareg-font-lock-operator">*</span> string

<span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">a</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Agg</span> <span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"hi"</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">a</span> <span class="org-tuareg-font-lock-operator">:</span> agg <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Agg</span> <span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"hi"</span><span class="org-tuareg-font-lock-operator">)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span>  a <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> agg <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Agg</span> <span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"hi"</span><span class="org-tuareg-font-lock-operator">)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">shape</span> <span class="org-tuareg-font-lock-operator">=</span>
      <span class="org-tuareg-font-lock-constructor">Rect</span>    <span class="org-keyword">of</span> float <span class="org-tuareg-font-lock-operator">*</span> float          <span class="org-comment-delimiter">(*</span><span class="org-comment">width * lenght </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Circle</span>  <span class="org-keyword">of</span> float                  <span class="org-comment-delimiter">(* </span><span class="org-comment">radius </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Triang</span>  <span class="org-keyword">of</span> float <span class="org-tuareg-font-lock-operator">*</span> float <span class="org-tuareg-font-lock-operator">*</span> float  <span class="org-comment-delimiter">(* </span><span class="org-comment">a * b *  c </span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">pictures</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-tuareg-font-lock-constructor">Rect</span> <span class="org-tuareg-font-lock-operator">(</span>3.0<span class="org-tuareg-font-lock-operator">,</span> 4.0<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">Circle</span> 5.0 <span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">Triang</span> <span class="org-tuareg-font-lock-operator">(</span>5.0<span class="org-tuareg-font-lock-operator">,</span> 5.0<span class="org-tuareg-font-lock-operator">,</span> 5.0<span class="org-tuareg-font-lock-operator">)]</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">perimiter</span><span class="org-variable-name"> s</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-keyword">match</span> s <span class="org-keyword">with</span>
         <span class="org-tuareg-font-lock-constructor">Rect</span>    <span class="org-tuareg-font-lock-operator">(</span>a<span class="org-tuareg-font-lock-operator">,</span> b<span class="org-tuareg-font-lock-operator">)</span>      <span class="org-tuareg-font-lock-operator">-&gt;</span>  2.0 <span class="org-tuareg-font-lock-operator">*.</span> <span class="org-tuareg-font-lock-operator">(</span>a <span class="org-tuareg-font-lock-operator">+.</span> b<span class="org-tuareg-font-lock-operator">)</span>
       <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Circle</span>   r          <span class="org-tuareg-font-lock-operator">-&gt;</span>  2.0 <span class="org-tuareg-font-lock-operator">*.</span> 3.1415 <span class="org-tuareg-font-lock-operator">*.</span> r
       <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Triang</span>  <span class="org-tuareg-font-lock-operator">(</span>a<span class="org-tuareg-font-lock-operator">,</span> b<span class="org-tuareg-font-lock-operator">,</span> c<span class="org-tuareg-font-lock-operator">)</span>   <span class="org-tuareg-font-lock-operator">-&gt;</span>  a <span class="org-tuareg-font-lock-operator">+.</span> b <span class="org-tuareg-font-lock-operator">+.</span> c


<span class="org-tuareg-font-lock-operator">&gt;</span>  perimiter <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">Rect</span> <span class="org-tuareg-font-lock-operator">(</span>3.0<span class="org-tuareg-font-lock-operator">,</span> 4.0<span class="org-tuareg-font-lock-operator">))</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 14.

<span class="org-tuareg-font-lock-operator">&gt;</span>  perimiter <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">Circle</span> 3.0 <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 18.849


<span class="org-tuareg-font-lock-operator">&gt;</span>  perimiter <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">Triang</span> <span class="org-tuareg-font-lock-operator">(</span>2.0<span class="org-tuareg-font-lock-operator">,</span> 3.0<span class="org-tuareg-font-lock-operator">,</span> 4.0<span class="org-tuareg-font-lock-operator">))</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 9.
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map perimiter pictures <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>14.<span class="org-tuareg-font-lock-operator">;</span> 31.4150000000000027<span class="org-tuareg-font-lock-operator">;</span> 15.<span class="org-tuareg-font-lock-operator">]</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-6-5" class="outline-4">
<h4 id="sec-1-6-5"><span class="section-number-4">1.6.5</span> Pattern Matching</h4>
<div class="outline-text-4" id="text-1-6-5">
</div><ol class="org-ol"><li><a id="sec-1-6-5-1" name="sec-1-6-5-1"></a>Basic Pattern Matching<br  /><div class="outline-text-5" id="text-1-6-5-1">
<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-keyword">match</span> 4 <span class="org-keyword">with</span> x <span class="org-tuareg-font-lock-operator">-&gt;</span> x<span class="org-tuareg-font-double-colon">;;</span>                        <span class="org-comment-delimiter">(* </span><span class="org-comment">&#8658; 4 </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 4

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-keyword">match</span> 4 <span class="org-keyword">with</span> xyz <span class="org-tuareg-font-lock-operator">-&gt;</span> xyz<span class="org-tuareg-font-double-colon">;;</span>                    <span class="org-comment-delimiter">(* </span><span class="org-comment">&#8658; 4 </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 4

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-keyword">match</span> <span class="org-tuareg-font-lock-operator">[</span>3<span class="org-tuareg-font-lock-operator">;</span>4<span class="org-tuareg-font-lock-operator">;</span>5<span class="org-tuareg-font-lock-operator">]</span> <span class="org-keyword">with</span> <span class="org-tuareg-font-lock-operator">[</span>a<span class="org-tuareg-font-lock-operator">;</span>b<span class="org-tuareg-font-lock-operator">;</span>c<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> b<span class="org-tuareg-font-double-colon">;;</span>            <span class="org-comment-delimiter">(* </span><span class="org-comment">&#8658; 4 </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 4

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-keyword">match</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> 7<span class="org-tuareg-font-lock-operator">,</span> 4<span class="org-tuareg-font-lock-operator">)</span> <span class="org-keyword">with</span> <span class="org-tuareg-font-lock-operator">(</span> a<span class="org-tuareg-font-lock-operator">,</span> b<span class="org-tuareg-font-lock-operator">,</span> c <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> c<span class="org-tuareg-font-double-colon">;;</span>      <span class="org-comment-delimiter">(* </span><span class="org-comment">&#8658; 4 </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 4

<span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-keyword">match</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> 4<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-operator">(</span>8<span class="org-tuareg-font-lock-operator">,</span>9<span class="org-tuareg-font-lock-operator">))</span> <span class="org-keyword">with</span> <span class="org-tuareg-font-lock-operator">(</span>a<span class="org-tuareg-font-lock-operator">,</span> b<span class="org-tuareg-font-lock-operator">,</span> c <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> c<span class="org-tuareg-font-double-colon">;;</span>   <span class="org-comment-delimiter">(* </span><span class="org-comment">&#8658; (8, 9) </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">*</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span>8<span class="org-tuareg-font-lock-operator">,</span> 9<span class="org-tuareg-font-lock-operator">)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">sign</span><span class="org-variable-name"> x</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-keyword">match</span> x <span class="org-keyword">with</span>
    x <span class="org-keyword">when</span> x <span class="org-tuareg-font-lock-operator">&lt;</span> 0 <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">-</span>1
    <span class="org-tuareg-font-lock-operator">|</span> 0           <span class="org-tuareg-font-lock-operator">-&gt;</span> 0
    <span class="org-tuareg-font-lock-operator">|</span> x           <span class="org-tuareg-font-lock-operator">-&gt;</span> 1

<span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">sign</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>


<span class="org-tuareg-font-lock-operator">&gt;</span>  sign 10 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1
<span class="org-tuareg-font-lock-operator">&gt;</span>  sign 0 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 0
<span class="org-tuareg-font-lock-operator">&gt;</span>  sign 100 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1
<span class="org-tuareg-font-lock-operator">&gt;</span>  sign <span class="org-tuareg-font-lock-operator">(-</span>1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">-</span>1
<span class="org-tuareg-font-lock-operator">&gt;</span>  sign <span class="org-tuareg-font-lock-operator">(-</span>100<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">-</span>1
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">getPassword</span><span class="org-variable-name"> passw</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-keyword">match</span> passw <span class="org-keyword">with</span>
    <span class="org-string">"hello"</span>   <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-string">"OK. Safe Opened."</span>
    <span class="org-tuareg-font-lock-operator">|</span> _       <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-string">"Wrong Password Pal."</span>
  <span class="org-tuareg-font-double-colon">;;</span>

<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">getPassword</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>
  getPassword <span class="org-string">"hellow"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Wrong Password Pal."</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>  getPassword <span class="org-string">"Pass"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Wrong Password Pal."</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>  getPassword <span class="org-string">"hello"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"OK. Safe Opened."</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>
</pre>
</div>
</div>
</li>

<li><a id="sec-1-6-5-2" name="sec-1-6-5-2"></a>Tuple Pattern Matching<br  /><div class="outline-text-5" id="text-1-6-5-2">
<p>
Extracting elements of a tuple
</p>

<pre class="example">
&gt; let fst (a, _) = a ;;
val fst : 'a * 'b -&gt; 'a = &lt;fun&gt;
&gt; let snd (_, b) = b ;;
val snd : 'a * 'b -&gt; 'b = &lt;fun&gt;

&gt; fst (2, 3) ;;
- : int = 2

&gt; fst ("a", 23) ;;
- : string = "a"

&gt; snd (2, 3) ;;
- : int = 3

&gt; snd (2, "a") ;;
- : string = "a"

&gt; List.map fst [("a", 12); ("b", 23) ; ("c", 23) ; ("d", 67)] ;;
- : string list = ["a"; "b"; "c"; "d"]

&gt; List.map snd [("a", 12); ("b", 23) ; ("c", 23) ; ("d", 67)] ;;
- : int list = [12; 23; 23; 67]


&gt;
let tpl3_1 (a, _, _) = a
let tpl3_2 (_, a, _) = a
let tpl3_3 (_, _, a) = a;;

&gt; tpl3_1 (2, "ocaml", 2.323) ;;
- : int = 2
&gt; tpl3_2 (2, "ocaml", 2.323) ;;
- : string = "ocaml"
&gt; tpl3_3 (2, "ocaml", 2.323) ;;
- : float = 2.323
</pre>

<p>
Returning Multiple Values
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">divmod</span><span class="org-variable-name"> a b</span> <span class="org-tuareg-font-lock-operator">=</span> a<span class="org-tuareg-font-lock-operator">/</span>b<span class="org-tuareg-font-lock-operator">,</span> a <span class="org-tuareg-font-lock-operator">mod</span> b <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">divmod</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">*</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

  divmod 10 3 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">*</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> 1<span class="org-tuareg-font-lock-operator">)</span>



<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">swap</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> y</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span>y<span class="org-tuareg-font-lock-operator">,</span> x<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">swap</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">*</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">*</span> 'a <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

  swap <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> 3<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">*</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> 2<span class="org-tuareg-font-lock-operator">)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map swap <span class="org-tuareg-font-lock-operator">[(</span><span class="org-string">"a"</span><span class="org-tuareg-font-lock-operator">,</span> 12<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">"b"</span><span class="org-tuareg-font-lock-operator">,</span> 23<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">"c"</span><span class="org-tuareg-font-lock-operator">,</span> 23<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">"d"</span><span class="org-tuareg-font-lock-operator">,</span> 67<span class="org-tuareg-font-lock-operator">)]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">*</span> string<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[(</span>12<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"a"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>23<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"b"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>23<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"c"</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>67<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"d"</span><span class="org-tuareg-font-lock-operator">)]</span>
</pre>
</div>

<p>
Source:
</p>

<ul class="org-ul">
<li><a href="http://xahlee.info/ocaml/pattern_matching.html">http://xahlee.info/ocaml/pattern_matching.html</a>
</li>
</ul>
</div>
</li></ol>
</div>

<div id="outline-container-sec-1-6-6" class="outline-4">
<h4 id="sec-1-6-6"><span class="section-number-4">1.6.6</span> Recursive Data Structures</h4>
<div class="outline-text-4" id="text-1-6-6">
</div><ol class="org-ol"><li><a id="sec-1-6-6-1" name="sec-1-6-6-1"></a>Alternative List Implementation<br  /><div class="outline-text-5" id="text-1-6-6-1">
<p>
List of Intergers
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">intlist</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Nil</span> <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-keyword">of</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">*</span> intlist<span class="org-tuareg-font-lock-operator">)</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">length</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">alist </span><span class="org-tuareg-font-lock-operator">:</span><span class="org-variable-name"> </span><span class="org-type">intlist</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-type">int</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-keyword">match</span> alist <span class="org-keyword">with</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Nil</span>           <span class="org-tuareg-font-lock-operator">-&gt;</span> 0
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>h<span class="org-tuareg-font-lock-operator">,</span> t<span class="org-tuareg-font-lock-operator">)</span>    <span class="org-tuareg-font-lock-operator">-&gt;</span> 1 <span class="org-tuareg-font-lock-operator">+</span> <span class="org-tuareg-font-lock-operator">(</span>length t<span class="org-tuareg-font-lock-operator">)</span>


<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">is_empty</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">alist</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-variable-name"> </span><span class="org-type">intlist</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-type">bool</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-keyword">match</span> alist <span class="org-keyword">with</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Nil</span>           <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-constant">true</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>_<span class="org-tuareg-font-lock-operator">,</span> _<span class="org-tuareg-font-lock-operator">)</span>   <span class="org-tuareg-font-lock-operator">-&gt;</span>  <span class="org-constant">false</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">sum</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">alist </span><span class="org-tuareg-font-lock-operator">:</span><span class="org-variable-name"> </span><span class="org-type">intlist</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-type">int</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-keyword">match</span> alist <span class="org-keyword">with</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Nil</span>               <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-builtin">failwith</span> <span class="org-string">"Error empty list"</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>a<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">)</span>     <span class="org-tuareg-font-lock-operator">-&gt;</span> a
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>h<span class="org-tuareg-font-lock-operator">,</span> remain<span class="org-tuareg-font-lock-operator">)</span>  <span class="org-tuareg-font-lock-operator">-&gt;</span> h <span class="org-tuareg-font-lock-operator">+</span> sum remain

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">product</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">alist </span><span class="org-tuareg-font-lock-operator">:</span><span class="org-variable-name"> </span><span class="org-type">intlist</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-type">int</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-keyword">match</span> alist <span class="org-keyword">with</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Nil</span>               <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-builtin">failwith</span> <span class="org-string">"Error empty list"</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>a<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">)</span>     <span class="org-tuareg-font-lock-operator">-&gt;</span> a
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>h<span class="org-tuareg-font-lock-operator">,</span> remain<span class="org-tuareg-font-lock-operator">)</span>  <span class="org-tuareg-font-lock-operator">-&gt;</span> h <span class="org-tuareg-font-lock-operator">*</span> product remain

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">head</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">alist</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-variable-name"> </span><span class="org-type">intlist</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-type">int</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-keyword">match</span> alist <span class="org-keyword">with</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Nil</span>           <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-builtin">failwith</span> <span class="org-string">"Error empty list"</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>a<span class="org-tuareg-font-lock-operator">,</span> _<span class="org-tuareg-font-lock-operator">)</span>   <span class="org-tuareg-font-lock-operator">-&gt;</span> a

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">last</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">alist </span><span class="org-tuareg-font-lock-operator">:</span><span class="org-variable-name"> </span><span class="org-type">intlist</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-type">int</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-keyword">match</span> alist <span class="org-keyword">with</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Nil</span>               <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-builtin">failwith</span> <span class="org-string">"Error empty list"</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>a<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">)</span>     <span class="org-tuareg-font-lock-operator">-&gt;</span> a
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>h<span class="org-tuareg-font-lock-operator">,</span> remain<span class="org-tuareg-font-lock-operator">)</span>  <span class="org-tuareg-font-lock-operator">-&gt;</span> last remain


<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">map</span><span class="org-variable-name"> f alist</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-keyword">match</span> alist <span class="org-keyword">with</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Nil</span>               <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-constructor">Nil</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>e<span class="org-tuareg-font-lock-operator">,</span> remain<span class="org-tuareg-font-lock-operator">)</span>  <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>f e<span class="org-tuareg-font-lock-operator">,</span> map f remain<span class="org-tuareg-font-lock-operator">)</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">iter</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">f </span><span class="org-tuareg-font-lock-operator">:</span><span class="org-variable-name"> </span><span class="org-type">int </span><span class="org-tuareg-font-lock-operator">-&gt;</span><span class="org-type"> unit</span><span class="org-tuareg-font-lock-operator">)</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">alist </span><span class="org-tuareg-font-lock-operator">:</span><span class="org-variable-name"> </span><span class="org-type">intlist</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-type">unit</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-keyword">match</span> alist <span class="org-keyword">with</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Nil</span>           <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-builtin">failwith</span> <span class="org-string">"Error empty list"</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>a<span class="org-tuareg-font-lock-operator">,</span>  <span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> f a
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>hd<span class="org-tuareg-font-lock-operator">,</span> tl<span class="org-tuareg-font-lock-operator">)</span>  <span class="org-tuareg-font-lock-operator">-&gt;</span> f hd <span class="org-tuareg-font-lock-operator">;</span> iter f tl


<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">filter</span><span class="org-variable-name"> f alist</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-keyword">match</span> alist <span class="org-keyword">with</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Nil</span>               <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-constructor">Nil</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>e<span class="org-tuareg-font-lock-operator">,</span> remain<span class="org-tuareg-font-lock-operator">)</span>  <span class="org-tuareg-font-lock-operator">-&gt;</span>
                <span class="org-keyword">if</span> <span class="org-tuareg-font-lock-operator">(</span>f e<span class="org-tuareg-font-lock-operator">)</span>
                    <span class="org-keyword">then</span> <span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>e<span class="org-tuareg-font-lock-operator">,</span> filter f remain<span class="org-tuareg-font-lock-operator">)</span>
                    <span class="org-keyword">else</span> filter f remain

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">foldl1</span><span class="org-variable-name"> func alist</span>  <span class="org-tuareg-font-lock-operator">=</span>  <span class="org-keyword">match</span> alist <span class="org-keyword">with</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Nil</span>                <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-builtin">failwith</span> <span class="org-string">"Error empty list"</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>a<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">)</span>      <span class="org-tuareg-font-lock-operator">-&gt;</span> a
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>hd<span class="org-tuareg-font-lock-operator">,</span> tl<span class="org-tuareg-font-lock-operator">)</span>      <span class="org-tuareg-font-lock-operator">-&gt;</span> func hd <span class="org-tuareg-font-lock-operator">(</span>foldl func tl<span class="org-tuareg-font-lock-operator">)</span>


<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">foldl</span><span class="org-variable-name"> func acc alist</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-keyword">match</span> alist <span class="org-keyword">with</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Nil</span>               <span class="org-tuareg-font-lock-operator">-&gt;</span> acc
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>hd<span class="org-tuareg-font-lock-operator">,</span> tl<span class="org-tuareg-font-lock-operator">)</span>     <span class="org-tuareg-font-lock-operator">-&gt;</span> func hd <span class="org-tuareg-font-lock-operator">(</span>foldl func acc tl<span class="org-tuareg-font-lock-operator">)</span>


<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">nth</span><span class="org-variable-name"> alist n</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-keyword">match</span> <span class="org-tuareg-font-lock-operator">(</span>alist<span class="org-tuareg-font-lock-operator">,</span> n<span class="org-tuareg-font-lock-operator">)</span> <span class="org-keyword">with</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">,</span>     _       <span class="org-tuareg-font-lock-operator">)</span>   <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-builtin">failwith</span>  <span class="org-string">"Empty list"</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>h<span class="org-tuareg-font-lock-operator">,</span> _  <span class="org-tuareg-font-lock-operator">),</span>   1<span class="org-tuareg-font-lock-operator">)</span>   <span class="org-tuareg-font-lock-operator">-&gt;</span> h
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>hd<span class="org-tuareg-font-lock-operator">,</span> tl<span class="org-tuareg-font-lock-operator">),</span>   k<span class="org-tuareg-font-lock-operator">)</span>   <span class="org-tuareg-font-lock-operator">-&gt;</span> nth tl  <span class="org-tuareg-font-lock-operator">(</span>k<span class="org-tuareg-font-lock-operator">-</span>1<span class="org-tuareg-font-lock-operator">)</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">take</span><span class="org-variable-name"> n alist</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-keyword">match</span> <span class="org-tuareg-font-lock-operator">(</span>n<span class="org-tuareg-font-lock-operator">,</span> alist<span class="org-tuareg-font-lock-operator">)</span> <span class="org-keyword">with</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">(</span>_<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">)</span>           <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-constructor">Nil</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">(</span>0<span class="org-tuareg-font-lock-operator">,</span> _  <span class="org-tuareg-font-lock-operator">)</span>           <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-constructor">Nil</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">(</span>k<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>hd<span class="org-tuareg-font-lock-operator">,</span> tl<span class="org-tuareg-font-lock-operator">))</span>  <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>hd<span class="org-tuareg-font-lock-operator">,</span> take <span class="org-tuareg-font-lock-operator">(</span>k<span class="org-tuareg-font-lock-operator">-</span>1<span class="org-tuareg-font-lock-operator">)</span> tl<span class="org-tuareg-font-lock-operator">)</span>


<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">append</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">((</span><span class="org-variable-name">list1</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-type">intlist</span><span class="org-tuareg-font-lock-operator">),</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">list2</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-type">intlist</span><span class="org-tuareg-font-lock-operator">))</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-type">intlist</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-keyword">match</span> list1 <span class="org-keyword">with</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Nil</span>               <span class="org-tuareg-font-lock-operator">-&gt;</span> list2
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>hd<span class="org-tuareg-font-lock-operator">,</span> tl<span class="org-tuareg-font-lock-operator">)</span>      <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>hd<span class="org-tuareg-font-lock-operator">,</span> append<span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">(</span>tl<span class="org-tuareg-font-lock-operator">,</span> list2<span class="org-tuareg-font-lock-operator">)))</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">reverse</span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">list</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-type">intlist</span><span class="org-tuareg-font-lock-operator">):</span>intlist <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-keyword">match</span> list <span class="org-keyword">with</span>
      <span class="org-tuareg-font-lock-constructor">Nil</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-constructor">Nil</span>
    <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>hd<span class="org-tuareg-font-lock-operator">,</span>tl<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> append<span class="org-tuareg-font-lock-operator">(</span>reverse<span class="org-tuareg-font-lock-operator">(</span>tl<span class="org-tuareg-font-lock-operator">),</span> <span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>hd<span class="org-tuareg-font-lock-operator">,</span><span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">))</span>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">l1</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Nil</span>
<span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">l2</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">)</span>  <span class="org-comment-delimiter">(* </span><span class="org-comment">[1] </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">l3</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> l2<span class="org-tuareg-font-lock-operator">)</span>   <span class="org-comment-delimiter">(* </span><span class="org-comment">[2; 1] </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">l4</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> l3<span class="org-tuareg-font-lock-operator">)</span>   <span class="org-comment-delimiter">(* </span><span class="org-comment">[3; 2; 1] </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">l5</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>4<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>5<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">)))))</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map length <span class="org-tuareg-font-lock-operator">[</span>l1 <span class="org-tuareg-font-lock-operator">;</span> l2 <span class="org-tuareg-font-lock-operator">;</span> l4 <span class="org-tuareg-font-lock-operator">;</span> l5 <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>0<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map is_empty <span class="org-tuareg-font-lock-operator">[</span>l1 <span class="org-tuareg-font-lock-operator">;</span> l2 <span class="org-tuareg-font-lock-operator">;</span> l4 <span class="org-tuareg-font-lock-operator">;</span> l5 <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-constant">true</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-constant">false</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-constant">false</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-constant">false</span><span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span>  sum l1 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Exception</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-builtin">Failure</span> <span class="org-string">"Error empty list"</span>.
<span class="org-tuareg-font-lock-operator">&gt;</span>  sum l2 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1
<span class="org-tuareg-font-lock-operator">&gt;</span>  sum l3 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 3
<span class="org-tuareg-font-lock-operator">&gt;</span>  sum l4 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 6
<span class="org-tuareg-font-lock-operator">&gt;</span>  sum l5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 15
<span class="org-tuareg-font-lock-operator">&gt;</span>


<span class="org-tuareg-font-lock-operator">&gt;</span>  product l1 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Exception</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-builtin">Failure</span> <span class="org-string">"Error empty list"</span>.
<span class="org-tuareg-font-lock-operator">&gt;</span>  product l2 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1
<span class="org-tuareg-font-lock-operator">&gt;</span>  product l3 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 2
<span class="org-tuareg-font-lock-operator">&gt;</span>  product l4 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 6
<span class="org-tuareg-font-lock-operator">&gt;</span>  product l5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 120
<span class="org-tuareg-font-lock-operator">&gt;</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map head <span class="org-tuareg-font-lock-operator">[</span>l2 <span class="org-tuareg-font-lock-operator">;</span> l3 <span class="org-tuareg-font-lock-operator">;</span> l4 <span class="org-tuareg-font-lock-operator">;</span> l5 <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">]</span>


<span class="org-tuareg-font-lock-operator">&gt;</span>  last l1 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Exception</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-builtin">Failure</span> <span class="org-string">"Error empty list"</span>.
<span class="org-tuareg-font-lock-operator">&gt;</span>  last l2 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1
<span class="org-tuareg-font-lock-operator">&gt;</span>  last l3 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1
<span class="org-tuareg-font-lock-operator">&gt;</span>  last l4 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1
<span class="org-tuareg-font-lock-operator">&gt;</span>  last l5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 5


<span class="org-tuareg-font-lock-operator">&gt;</span> map <span class="org-tuareg-font-lock-operator">((+)</span> 1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-constructor">Nil</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> intlist <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Nil</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> map <span class="org-tuareg-font-lock-operator">((+)</span> 1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">))</span>  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> intlist <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> map <span class="org-tuareg-font-lock-operator">((+)</span> 1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>4<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-tuareg-font-lock-operator">(</span>5<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">)))))</span>  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> intlist <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>4<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>5<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>6<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">))))</span>


<span class="org-tuareg-font-lock-operator">&gt;</span>  append<span class="org-tuareg-font-lock-operator">(</span>l4<span class="org-tuareg-font-lock-operator">,</span> l5<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> intlist <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Cons</span>  <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>4<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>5<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">))))))))</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> reverse l5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> intlist <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>5<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>4<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">)))))</span>

<span class="org-tuareg-font-lock-operator">&gt;</span>   <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">even</span><span class="org-variable-name"> x</span> <span class="org-tuareg-font-lock-operator">=</span> x <span class="org-tuareg-font-lock-operator">mod</span> 2 <span class="org-tuareg-font-lock-operator">==</span> 0 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>   filter even l5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> intlist <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>4<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> l5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> intlist <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>4<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>5<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">)))))</span>

<span class="org-tuareg-font-lock-operator">&gt;</span>  nth l5 2 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 2
<span class="org-tuareg-font-lock-operator">&gt;</span>  nth l5 1 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1
<span class="org-tuareg-font-lock-operator">&gt;</span>  nth l5 3 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 3
<span class="org-tuareg-font-lock-operator">&gt;</span>  nth l5 4 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 4
<span class="org-tuareg-font-lock-operator">&gt;</span>  nth l5 5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 5

<span class="org-tuareg-font-lock-operator">&gt;</span> foldl1 <span class="org-tuareg-font-lock-operator">(+)</span> l5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 15

<span class="org-tuareg-font-lock-operator">&gt;</span> foldl1 <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x y</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">*</span> y<span class="org-tuareg-font-lock-operator">)</span> l5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 120

<span class="org-tuareg-font-lock-operator">&gt;</span> foldl1 <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x y</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">+</span> 10<span class="org-tuareg-font-lock-operator">*</span>y<span class="org-tuareg-font-lock-operator">)</span> l5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 54321


<span class="org-tuareg-font-lock-operator">&gt;</span> foldl <span class="org-tuareg-font-lock-operator">(+)</span> 0 l5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 15

<span class="org-tuareg-font-lock-operator">&gt;</span> foldl <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x y</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">*</span> y<span class="org-tuareg-font-lock-operator">)</span> 2 l5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 240


<span class="org-tuareg-font-lock-operator">&gt;</span>
  take 0 l5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> intlist <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Nil</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>  take 1 l5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> intlist <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>  take 3 l5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> intlist <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">)))</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>  take 4 l5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> intlist <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>4<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">))))</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>  take 10 l5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> intlist <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>4<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>5<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">)))))</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> iter <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"= %d\n"</span><span class="org-tuareg-font-lock-operator">)</span> l5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">=</span> 1
<span class="org-tuareg-font-lock-operator">=</span> 2
<span class="org-tuareg-font-lock-operator">=</span> 3
<span class="org-tuareg-font-lock-operator">=</span> 4
<span class="org-tuareg-font-lock-operator">=</span> 5
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
</pre>
</div>
</div>
</li>

<li><a id="sec-1-6-6-2" name="sec-1-6-6-2"></a>File Tree Recursive Directory Walk<br  /><div class="outline-text-5" id="text-1-6-6-2">
<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">fileTree</span> <span class="org-tuareg-font-lock-operator">=</span>
  <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-keyword">of</span> string
  <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Folder</span> <span class="org-keyword">of</span> string <span class="org-tuareg-font-lock-operator">*</span> fileTree list

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">neg</span><span class="org-variable-name"> f x</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">not</span> <span class="org-tuareg-font-lock-operator">(</span>f x<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">fileTree</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-keyword">of</span> string <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Folder</span> <span class="org-keyword">of</span> string <span class="org-tuareg-font-lock-operator">*</span> fileTree list
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">neg</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">relpath</span><span class="org-variable-name"> p str</span> <span class="org-tuareg-font-lock-operator">=</span> p <span class="org-tuareg-font-lock-operator">^</span> <span class="org-string">"/"</span> <span class="org-tuareg-font-lock-operator">^</span> str

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">scand_dir</span><span class="org-variable-name"> path</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-module">Sys.</span>readdir path
    <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>to_list

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">is_dir_relpath</span><span class="org-variable-name"> path rel</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-module">Sys.</span>is_directory <span class="org-tuareg-font-lock-operator">(</span>relpath path rel<span class="org-tuareg-font-lock-operator">)</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">walkdir</span><span class="org-variable-name"> path</span> <span class="org-tuareg-font-lock-operator">=</span>

    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">files</span> <span class="org-tuareg-font-lock-operator">=</span> path
    <span class="org-tuareg-font-lock-operator">|&gt;</span> scand_dir
    <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>filter <span class="org-tuareg-font-lock-operator">@@</span> neg  <span class="org-tuareg-font-lock-operator">(</span>is_dir_relpath path<span class="org-tuareg-font-lock-operator">)</span>
    <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-constructor">File</span> x<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-governing">in</span>

    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">dirs</span> <span class="org-tuareg-font-lock-operator">=</span> path
    <span class="org-tuareg-font-lock-operator">|&gt;</span> scand_dir
    <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>filter <span class="org-tuareg-font-lock-operator">(</span>is_dir_relpath path<span class="org-tuareg-font-lock-operator">)</span>
    <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-constructor">Folder</span> <span class="org-tuareg-font-lock-operator">(</span>x<span class="org-tuareg-font-lock-operator">,</span> walkdir <span class="org-tuareg-font-lock-operator">(</span>relpath path x <span class="org-tuareg-font-lock-operator">)))</span> <span class="org-tuareg-font-lock-governing">in</span>

      dirs <span class="org-tuareg-font-lock-operator">@</span> files
  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">relpath</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">scand_dir</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">is_dir_relpath</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">walkdir</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> fileTree list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-constructor">Folder</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">"Documents"</span><span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"file1.txt"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"filte2.txt"</span> <span class="org-tuareg-font-lock-operator">;</span>
<span class="org-tuareg-font-lock-constructor">Folder</span><span class="org-tuareg-font-lock-operator">(</span><span class="org-string">"Pictures"</span><span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-operator">[])</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">Folder</span><span class="org-tuareg-font-lock-operator">(</span><span class="org-string">"bin"</span><span class="org-tuareg-font-lock-operator">,[</span><span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"cmd.dat"</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"thumbs.db"</span> <span class="org-tuareg-font-lock-operator">])</span>
<span class="org-tuareg-font-lock-operator">])</span>
<span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> fileTree <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-tuareg-font-lock-constructor">Folder</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">"Documents"</span><span class="org-tuareg-font-lock-operator">,</span>
 <span class="org-tuareg-font-lock-operator">[</span><span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"file1.txt"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"filte2.txt"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">Folder</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">"Pictures"</span><span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-operator">[]);</span>
  <span class="org-tuareg-font-lock-constructor">Folder</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">"bin"</span><span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"cmd.dat"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"thumbs.db"</span><span class="org-tuareg-font-lock-operator">])])</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> walkdir <span class="org-string">"/boot"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> fileTree list <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-tuareg-font-lock-operator">[</span><span class="org-tuareg-font-lock-constructor">Folder</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">"grub"</span><span class="org-tuareg-font-lock-operator">,</span>
  <span class="org-tuareg-font-lock-operator">[</span><span class="org-tuareg-font-lock-constructor">Folder</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">"i386-pc"</span><span class="org-tuareg-font-lock-operator">,</span>
    <span class="org-tuareg-font-lock-operator">[</span><span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"cpio_be.mod"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"reiserfs.mod"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"disk.mod"</span><span class="org-tuareg-font-lock-operator">;</span>
     <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"dm_nv.mod"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"xfs.mod"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"zfscrypt.mod"</span><span class="org-tuareg-font-lock-operator">;</span>
     <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"setjmp.mod"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"boot.img"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"uhci.mod"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"hwmatch.mod"</span><span class="org-tuareg-font-lock-operator">;</span>
     <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"ohci.mod"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"xzio.mod"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"btrfs.mod"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"echo.mod"</span><span class="org-tuareg-font-lock-operator">;</span>
     <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"efiemu.mod"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"ufs1_be.mod"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"romfs.mod"</span><span class="org-tuareg-font-lock-operator">;</span>
     <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"minix2_be.mod"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"fs.lst"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"gdb.mod"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"search.mod"</span><span class="org-tuareg-font-lock-operator">;</span>
     <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"part_gpt.mod"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"halt.mod"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"setjmp_test.mod"</span><span class="org-tuareg-font-lock-operator">;</span>
    <span class="org-tuareg-font-lock-operator">...</span>

<span class="org-tuareg-font-lock-operator">&gt;</span>  walkdir <span class="org-string">"/home/tux/PycharmProjects/Haskell/haskell"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> fileTree list <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-tuareg-font-lock-operator">[</span><span class="org-tuareg-font-lock-constructor">Folder</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">"src"</span><span class="org-tuareg-font-lock-operator">,</span>
  <span class="org-tuareg-font-lock-operator">[</span><span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"stack.hs"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"a.out"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"OldState.hs"</span><span class="org-tuareg-font-lock-operator">;</span>
   <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"bisection_state.hs"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"FPUtils.hs"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"randomst.hs"</span><span class="org-tuareg-font-lock-operator">]);</span>
 <span class="org-tuareg-font-lock-constructor">Folder</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">"images"</span><span class="org-tuareg-font-lock-operator">,</span>
  <span class="org-tuareg-font-lock-operator">[</span><span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"haskellLogo.png"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"number-system-in-haskell-9-638.jpg"</span><span class="org-tuareg-font-lock-operator">;</span>
   <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"euler_newton_cooling.png"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"monadTable.png"</span><span class="org-tuareg-font-lock-operator">;</span>
   <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"coinflip.gid"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"coinflip.gif"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"chartF2table.png"</span><span class="org-tuareg-font-lock-operator">;</span>
   <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"chartF1table.png"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"classes.gif"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"qrcode_url.png"</span><span class="org-tuareg-font-lock-operator">]);</span>
 <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"Functions.md"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"List_Comprehension.md"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"Haskell.md"</span><span class="org-tuareg-font-lock-operator">;</span>
 <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"Useful_Custom_Functions__Iterators_and_Operators.md"</span><span class="org-tuareg-font-lock-operator">;</span>
 <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"Miscellaneous.md"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"Pattern_Matching.md"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"Basic_Syntax.md"</span><span class="org-tuareg-font-lock-operator">;</span>
 <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"Functors__Monads__Applicatives_and_Monoids.md"</span><span class="org-tuareg-font-lock-operator">;</span>
 <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"Algebraic_Data_Types.md"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"Libraries.md"</span><span class="org-tuareg-font-lock-operator">;</span>
 <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"Documentation_and_Learning_Materials.md"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"Applications.md"</span><span class="org-tuareg-font-lock-operator">;</span>
 <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"Functional_Programming_Concepts.md"</span><span class="org-tuareg-font-lock-operator">]</span>
</pre>
</div>



<p>
Sources:
</p>

<ul class="org-ul">
<li><a href="http://www.cs.cornell.edu/courses/cs3110/2008fa/lectures/lec04.html">http://www.cs.cornell.edu/courses/cs3110/2008fa/lectures/lec04.html</a>
</li>
</ul>
</div>
</li></ol>
</div>
</div>

<div id="outline-container-sec-1-7" class="outline-3">
<h3 id="sec-1-7"><span class="section-number-3">1.7</span> Lazy Evaluation</h3>
<div class="outline-text-3" id="text-1-7">
<p>
OCaml, which is a ML derived language, uses strict evaluation by default as oppose to Haskell that uses lazy evaluation by default. However lazy evaluation (aka delayed evaluation) is optional in Ocaml. Lazy evaluation delays the computation until the result is needed. In this evaluation approach results that are not needed are never computed. It allows infinite lists.
</p>

<p>
In a strict language the arguments are always evaluated first.
</p>

<p>
OCaml / Strict Evaluation / Call by Value
</p>
<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">give_me_a_three</span><span class="org-variable-name"> _</span> <span class="org-tuareg-font-lock-operator">=</span> 3
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">give_me_a_three</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> give_me_a_three <span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">/</span>0<span class="org-tuareg-font-lock-operator">)</span><span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Exception</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-builtin">Division_by_zero</span>.

<span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-tuareg-font-lock-module">List.</span>length <span class="org-tuareg-font-lock-operator">[</span>21 <span class="org-tuareg-font-lock-operator">;</span> 23 <span class="org-tuareg-font-lock-operator">;</span> 123 <span class="org-tuareg-font-lock-operator">;</span> 22<span class="org-tuareg-font-lock-operator">/</span>0 <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Exception</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-builtin">Division_by_zero</span>.
</pre>
</div>

<p>
In a lazy language the arguments are only used if the function needs them.
</p>

<p>
Haskell / Lazy Evaluation / Call be Need
</p>
<div class="org-src-container">

<pre class="src src-haskell"><span class="org-haskell-operator">&gt;</span> <span class="org-haskell-keyword">let</span> give_me_a_three <span class="org-haskell-keyword">_</span> <span class="org-haskell-operator">=</span> 3
<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-definition">give_me_a_three</span> (1<span class="org-haskell-operator">/</span>0)
3
<span class="org-haskell-operator">&gt;</span>

<span class="org-haskell-operator">&gt;</span> <span class="org-haskell-definition">length</span> [21, 23, 123, 22<span class="org-haskell-operator">/</span>0 ]
4
<span class="org-haskell-operator">&gt;</span>
</pre>
</div>

<p>
Ocaml allows <b>lazy</b> evaluation with the lazy module and explicit lay constructs.
'a Lazy.t is the polymorphic type of promises to return a value of type 'a.
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">lazy_expr</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-keyword">lazy</span> <span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">/</span>0<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">lazy_expr</span> <span class="org-tuareg-font-lock-operator">:</span> int lazy_t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">lazy</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Lazy.</span>force lazy_expr <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Exception</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-builtin">Division_by_zero</span>.


<span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-keyword">lazy</span> <span class="org-tuareg-font-lock-operator">(</span>print_endline <span class="org-string">"hello"</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">x</span> <span class="org-tuareg-font-lock-operator">:</span> unit lazy_t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">lazy</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Lazy.</span>force x <span class="org-tuareg-font-double-colon">;;</span>
hello
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">expr</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-keyword">lazy</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">List.</span>length <span class="org-tuareg-font-lock-operator">[</span>21<span class="org-tuareg-font-lock-operator">,</span> 23<span class="org-tuareg-font-lock-operator">,</span> 123<span class="org-tuareg-font-lock-operator">,</span> 22<span class="org-tuareg-font-lock-operator">/</span>0 <span class="org-tuareg-font-lock-operator">])</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">expr</span> <span class="org-tuareg-font-lock-operator">:</span> int lazy_t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">lazy</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Lazy.</span>force expr
  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Exception</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-builtin">Division_by_zero</span>.
</pre>
</div>
</div>

<ol class="org-ol"><li><a id="sec-1-7-0-0-1" name="sec-1-7-0-0-1"></a>Infinite Lazy Lists<br  /><div class="outline-text-6" id="text-1-7-0-0-1">
<p>
It is possible to define an infinite list, which is pair of head and value and a promise to the rest of the list.
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">'a inf_list</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-keyword">of</span> 'a <span class="org-tuareg-font-lock-operator">*</span> 'a inf_list <span class="org-tuareg-font-lock-module">Lazy.</span>t
</pre>
</div>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">'a t</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-keyword">of</span> 'a <span class="org-tuareg-font-lock-operator">*</span> <span class="org-tuareg-font-lock-operator">(</span>'a t lazy_t<span class="org-tuareg-font-lock-operator">)</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">n, n+1, n+2, ... </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">from</span><span class="org-variable-name"> n</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>n<span class="org-tuareg-font-lock-operator">,</span> <span class="org-keyword">lazy</span> <span class="org-tuareg-font-lock-operator">(</span>from <span class="org-tuareg-font-lock-operator">(</span>n<span class="org-tuareg-font-lock-operator">+</span>1<span class="org-tuareg-font-lock-operator">)))</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">repeat</span><span class="org-variable-name"> x</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>x<span class="org-tuareg-font-lock-operator">,</span> <span class="org-keyword">lazy</span> <span class="org-tuareg-font-lock-operator">(</span>repeat <span class="org-tuareg-font-lock-operator">(</span>x<span class="org-tuareg-font-lock-operator">)))</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">head</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> _</span><span class="org-tuareg-font-lock-operator">))</span> <span class="org-tuareg-font-lock-operator">=</span> x
<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">tail</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">_</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> xs</span><span class="org-tuareg-font-lock-operator">))</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Lazy.</span>force xs

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">take</span><span class="org-variable-name"> n s</span> <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">take'</span><span class="org-variable-name"> m </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> xs</span><span class="org-tuareg-font-lock-operator">))</span><span class="org-variable-name"> l</span> <span class="org-tuareg-font-lock-operator">=</span>
 <span class="org-keyword">if</span> m <span class="org-tuareg-font-lock-operator">=</span> 0 <span class="org-keyword">then</span> <span class="org-tuareg-font-lock-module">List.</span>rev l
 <span class="org-keyword">else</span> take' <span class="org-tuareg-font-lock-operator">(</span>m<span class="org-tuareg-font-lock-operator">-</span>1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Lazy.</span>force xs<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">(</span>x <span class="org-tuareg-font-lock-operator">::</span> l<span class="org-tuareg-font-lock-operator">)</span>
<span class="org-tuareg-font-lock-governing">in</span>
 take' n s <span class="org-tuareg-font-lock-operator">[]</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">nth</span><span class="org-variable-name"> n </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> xs</span><span class="org-tuareg-font-lock-operator">))</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-keyword">if</span> n <span class="org-tuareg-font-lock-operator">=</span> 1 <span class="org-keyword">then</span> x
    <span class="org-keyword">else</span> nth <span class="org-tuareg-font-lock-operator">(</span>n<span class="org-tuareg-font-lock-operator">-</span>1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Lazy.</span>force xs<span class="org-tuareg-font-lock-operator">)</span>



<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">map</span><span class="org-variable-name"> f </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> xs</span><span class="org-tuareg-font-lock-operator">))</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>f x<span class="org-tuareg-font-lock-operator">,</span> <span class="org-keyword">lazy</span> <span class="org-tuareg-font-lock-operator">(</span>map f <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Lazy.</span>force xs<span class="org-tuareg-font-lock-operator">)))</span>


<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">filter</span><span class="org-variable-name"> f </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">Cons</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> xs</span><span class="org-tuareg-font-lock-operator">))</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>f x<span class="org-tuareg-font-lock-operator">,</span> <span class="org-keyword">lazy</span> <span class="org-tuareg-font-lock-operator">(</span>filter f <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Lazy.</span>force xs<span class="org-tuareg-font-lock-operator">)))</span>
</pre>
</div>

<p>
Example:
</p>
<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> take 6 <span class="org-tuareg-font-lock-operator">(</span>from 5<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> from 5 <span class="org-tuareg-font-lock-operator">|&gt;</span> take 6 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">]</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> from 5  <span class="org-tuareg-font-lock-operator">|&gt;</span> head <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 5
</pre>
</div>

<p>
From:
</p>
<ul class="org-ul">
<li><a href="http://d.hatena.ne.jp/blanketsky/20070221/1172002969">http://d.hatena.ne.jp/blanketsky/20070221/1172002969</a>
</li>
</ul>

<p>
Sources:
</p>

<ul class="org-ul">
<li><a href="https://ocaml.org/learn/tutorials/functional_programming.html">https://ocaml.org/learn/tutorials/functional_programming.html</a>
</li>
<li><a href="http://ocaml.jp/Lazy%20Pattern">http://ocaml.jp/Lazy%20Pattern</a>
</li>
<li><a href="http://c2.com/cgi/wiki?ExplicitLazyProgramming">http://c2.com/cgi/wiki?ExplicitLazyProgramming</a>
</li>
</ul>

<p>
Documentation of Lazy Module:
</p>

<ul class="org-ul">
<li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/libref/Lazy.html">http://caml.inria.fr/pub/docs/manual-ocaml/libref/Lazy.html</a>
</li>
</ul>
</div>
</li></ol>
</div>

<div id="outline-container-sec-1-8" class="outline-3">
<h3 id="sec-1-8"><span class="section-number-3">1.8</span> Foreign Function Interface FFI</h3>
<div class="outline-text-3" id="text-1-8">
<p>
The OCaml library C Types allows easy and fast access to C libraries, Operating System services, shared libraries and to call functions and libraries written in another languages.
</p>

<p>
<b>Installation</b>
</p>

<pre class="example">
$ opam install ctypes ctypes-foreign
</pre>
</div>



<div id="outline-container-sec-1-8-1" class="outline-4">
<h4 id="sec-1-8-1"><span class="section-number-4">1.8.1</span> Calling C Standard Library and Unix System Calls</h4>
<div class="outline-text-4" id="text-1-8-1">
<p>
<b>Examples</b>
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">#</span>require <span class="org-string">"ctypes"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">#</span>require <span class="org-string">"ctypes.foreign"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Foreign</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">PosixTypes</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Ctypes</span> <span class="org-tuareg-font-double-colon">;;</span>
</pre>
</div>

<p>
<b>Puts</b>
</p>

<p>
C prototype
</p>

<div class="org-src-container">

<pre class="src src-C"><span class="org-type">int</span> <span class="org-function-name">puts</span>(<span class="org-keyword">const</span> <span class="org-type">char</span> *<span class="org-variable-name">s</span>);
</pre>
</div>

<p>
Ocaml
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">puts</span> <span class="org-tuareg-font-lock-operator">=</span> foreign <span class="org-string">"puts"</span> <span class="org-tuareg-font-lock-operator">(</span>string <span class="org-tuareg-font-lock-operator">@-&gt;</span> returning int<span class="org-tuareg-font-lock-operator">)</span><span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">puts</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> puts <span class="org-string">"hello world"</span> <span class="org-tuareg-font-double-colon">;;</span>
hello world
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 12
<span class="org-tuareg-font-lock-operator">&gt;</span>
</pre>
</div>

<p>
<b>Chdir</b>
</p>

<p>
C prototype
</p>

<div class="org-src-container">

<pre class="src src-C"><span class="org-type">int</span> <span class="org-function-name">chdir</span>  (<span class="org-keyword">const</span> <span class="org-type">char</span> *<span class="org-variable-name">path</span>);

<span class="org-comment-delimiter">// </span><span class="org-comment">Changes  the current working directory of the calling</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">process to the directory specified  in path.</span>
</pre>
</div>

<p>
OCaml
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">chdir_</span> <span class="org-tuareg-font-lock-operator">=</span> foreign <span class="org-string">"chdir"</span> <span class="org-tuareg-font-lock-operator">(</span>string <span class="org-tuareg-font-lock-operator">@-&gt;</span> returning int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">chdir_</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

chdir_ <span class="org-string">"/"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 0

chdir_ <span class="org-string">"/wrong directory"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">-</span>1

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">chdir</span><span class="org-variable-name"> path</span>  <span class="org-tuareg-font-lock-operator">=</span>
      <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">_</span>  <span class="org-tuareg-font-lock-operator">=</span> chdir_  path <span class="org-tuareg-font-lock-governing">in</span> <span class="org-tuareg-font-lock-operator">()</span>
<span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">chdir</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> chdir <span class="org-string">"/"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> chdir <span class="org-string">"/wrong directory"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
</pre>
</div>

<p>
<b>Getcwd</b>
</p>

<p>
C prototype
</p>

<div class="org-src-container">

<pre class="src src-C"><span class="org-type">char</span> *<span class="org-function-name">getcwd</span>(<span class="org-type">char</span> *<span class="org-variable-name">buf</span>, <span class="org-type">size_t</span> <span class="org-variable-name">size</span>);
<span class="org-comment-delimiter">//  </span><span class="org-comment">getcwd  get current working directory</span>
</pre>
</div>

<p>
Ocaml
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">getcwd</span> <span class="org-tuareg-font-lock-operator">=</span>  foreign <span class="org-string">"getcwd"</span> <span class="org-tuareg-font-lock-operator">(</span>void <span class="org-tuareg-font-lock-operator">@-&gt;</span> returning string<span class="org-tuareg-font-lock-operator">)</span><span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">getcwd</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> getcwd <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"/home"</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>
</pre>
</div>

<p>
<b>System</b>
</p>

<p>
C prototype
</p>

<div class="org-src-container">

<pre class="src src-C"><span class="org-type">int</span> <span class="org-function-name">system</span>(<span class="org-keyword">const</span> <span class="org-type">char</span> *<span class="org-variable-name">command</span>);
<span class="org-comment-delimiter">// </span><span class="org-comment">system - execute a shell command</span>
</pre>
</div>

<p>
Ocaml
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">system</span> <span class="org-tuareg-font-lock-operator">=</span> foreign <span class="org-string">"system"</span> <span class="org-tuareg-font-lock-operator">(</span>string <span class="org-tuareg-font-lock-operator">@-&gt;</span> returning int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">system</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> system <span class="org-string">"uname -a"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Linux</span> tuxhorse 3.19.0<span class="org-tuareg-font-lock-operator">-</span>18<span class="org-tuareg-font-lock-operator">-</span>generic <span class="org-tuareg-font-lock-operator">#</span>18<span class="org-tuareg-font-lock-operator">-</span><span class="org-tuareg-font-lock-constructor">Ubuntu</span> <span class="org-tuareg-font-lock-constructor">SMP</span> <span class="org-tuareg-font-lock-constructor">Tue</span> <span class="org-tuareg-font-lock-constructor">May</span> 19 18<span class="org-tuareg-font-lock-operator">:</span>30<span class="org-tuareg-font-lock-operator">:</span>59 <span class="org-tuareg-font-lock-constructor">UTC</span> 2015 i686 i686 i686 <span class="org-tuareg-font-lock-constructor">GNU</span><span class="org-tuareg-font-lock-operator">/</span><span class="org-tuareg-font-lock-constructor">Linux</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 0

<span class="org-tuareg-font-lock-operator">&gt;</span> system <span class="org-string">"pwd"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">/</span>home<span class="org-tuareg-font-lock-operator">/</span>tux<span class="org-tuareg-font-lock-operator">/</span><span class="org-tuareg-font-lock-constructor">PycharmProjects</span><span class="org-tuareg-font-lock-operator">/</span><span class="org-tuareg-font-lock-constructor">Haskell</span><span class="org-tuareg-font-lock-operator">/</span>ocaml
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 0
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> system <span class="org-string">"wrong command"</span> <span class="org-tuareg-font-double-colon">;;</span>
sh<span class="org-tuareg-font-lock-operator">:</span> 1<span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">wrong</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">not</span> found
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 32512
<span class="org-tuareg-font-lock-operator">&gt;</span>
</pre>
</div>

<p>
<b>Sleep</b>
</p>

<p>
C prototype
</p>

<div class="org-src-container">

<pre class="src src-C"><span class="org-type">unsigned</span> <span class="org-type">int</span> <span class="org-function-name">sleep</span>(<span class="org-type">unsigned</span> <span class="org-type">int</span> <span class="org-variable-name">seconds</span>);
<span class="org-comment-delimiter">// </span><span class="org-comment">sleep - sleep for the specified number of seconds</span>
</pre>
</div>

<p>
Ocaml
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">sleep1</span> <span class="org-tuareg-font-lock-operator">=</span> foreign <span class="org-string">"sleep"</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">@-&gt;</span> returning int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">sleep</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> sleep1 3 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 0

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">sleep2</span> <span class="org-tuareg-font-lock-operator">=</span> foreign <span class="org-string">"sleep"</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">@-&gt;</span> returning void<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">sleep2</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> sleep2 4 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
</pre>
</div>

<p>
<b>Get host name</b>
</p>

<p>
C prototype
</p>

<div class="org-src-container">

<pre class="src src-C"><span class="org-type">int</span> <span class="org-function-name">gethostname</span>(<span class="org-type">char</span> *<span class="org-variable-name">name</span>, <span class="org-type">size_t</span> <span class="org-variable-name">len</span>);

 <span class="org-comment-delimiter">//  </span><span class="org-comment">returns the null-terminated hostname in the character array name,</span>
 <span class="org-comment-delimiter">//   </span><span class="org-comment">which has a length of len bytes.</span>

 <span class="org-comment-delimiter">//  </span><span class="org-comment">On success, zero is returned.  On error, -1 is returned, and errno</span>
 <span class="org-comment-delimiter">//  </span><span class="org-comment">is set appropriately</span>
 <span class="org-comment-delimiter">// </span><span class="org-comment">On  Linux,  HOST_NAME_MAX is defined with the value 64 (bytes - chars)</span>
</pre>
</div>

<p>
Ocaml
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">get_host</span> <span class="org-tuareg-font-lock-operator">=</span> foreign <span class="org-string">"gethostname"</span> <span class="org-tuareg-font-lock-operator">(</span>ptr char <span class="org-tuareg-font-lock-operator">@-&gt;</span> int <span class="org-tuareg-font-lock-operator">@-&gt;</span> returning int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">get_host</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-module">Ctypes_static.</span>ptr <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">host_name_max</span> <span class="org-tuareg-font-lock-operator">=</span> 64 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">host_name_max</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 64

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">s</span> <span class="org-tuareg-font-lock-operator">=</span> allocate_n char <span class="org-tuareg-font-lock-label">~count</span><span class="org-tuareg-font-lock-operator">:</span>host_name_max <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">s</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-module">Ctypes.</span>ptr <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Ctypes_static.</span><span class="org-tuareg-font-lock-constructor">CPointer</span> <span class="org-tuareg-font-lock-operator">&lt;</span>abstr<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> get_host s host_name_max <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 0

<span class="org-tuareg-font-lock-operator">&gt;</span> string_from_ptr s <span class="org-tuareg-font-lock-label">~length</span><span class="org-tuareg-font-lock-operator">:</span>host_name_max <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-string">"tuxhorse\000\000\000\000\.....\000\000\000\000"</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> coerce <span class="org-tuareg-font-lock-operator">(</span>ptr char<span class="org-tuareg-font-lock-operator">)</span> string s <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"tuxhorse"</span>

   <span class="org-comment-delimiter">(* </span><span class="org-comment">Everything together      </span><span class="org-comment-delimiter">*)</span>
   <span class="org-comment-delimiter">(* </span><span class="org-comment">---------------------------------</span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">get_host</span> <span class="org-tuareg-font-lock-operator">=</span> foreign <span class="org-string">"gethostname"</span> <span class="org-tuareg-font-lock-operator">(</span>ptr char <span class="org-tuareg-font-lock-operator">@-&gt;</span> int <span class="org-tuareg-font-lock-operator">@-&gt;</span> returning int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">get_host</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-module">Ctypes_static.</span>ptr <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">gethostname</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">=</span>
       <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">host_name_max</span> <span class="org-tuareg-font-lock-operator">=</span> 64 <span class="org-tuareg-font-lock-governing">in</span>
       <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">s</span> <span class="org-tuareg-font-lock-operator">=</span> allocate_n char <span class="org-tuareg-font-lock-label">~count</span><span class="org-tuareg-font-lock-operator">:</span>host_name_max <span class="org-tuareg-font-lock-governing">in</span>
       <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">_</span> <span class="org-tuareg-font-lock-operator">=</span> get_host s host_name_max <span class="org-tuareg-font-lock-governing">in</span>
       coerce <span class="org-tuareg-font-lock-operator">(</span>ptr char<span class="org-tuareg-font-lock-operator">)</span> string s
    <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">gethostname</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> gethostname <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"tuxhorse"</span>
</pre>
</div>

<p>
<b>Cube Root Function</b>
</p>

<p>
C prototype
</p>

<div class="org-src-container">

<pre class="src src-C"><span class="org-preprocessor">#include</span> <span class="org-string">&lt;math.h&gt;</span>

<span class="org-comment-delimiter">// </span><span class="org-comment">The  cbrt()  function  returns the (real) cube root of x.</span>
<span class="org-type">double</span> <span class="org-function-name">cbrt</span>(<span class="org-type">double</span> <span class="org-variable-name">x</span>);
</pre>
</div>

<p>
Ocaml
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">cbrt</span> <span class="org-tuareg-font-lock-operator">=</span> foreign <span class="org-string">"cbrt"</span> <span class="org-tuareg-font-lock-operator">(</span>double <span class="org-tuareg-font-lock-operator">@-&gt;</span> returning double<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">cbrt</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map cbrt <span class="org-tuareg-font-lock-operator">[</span>1.<span class="org-tuareg-font-lock-operator">;</span> 8.<span class="org-tuareg-font-lock-operator">;</span> 64.<span class="org-tuareg-font-lock-operator">;</span> 125.<span class="org-tuareg-font-lock-operator">;</span> 216.<span class="org-tuareg-font-lock-operator">;</span> 1000.<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1.<span class="org-tuareg-font-lock-operator">;</span> 2.<span class="org-tuareg-font-lock-operator">;</span> 4.<span class="org-tuareg-font-lock-operator">;</span> 5.<span class="org-tuareg-font-lock-operator">;</span> 6.<span class="org-tuareg-font-lock-operator">;</span> 10.<span class="org-tuareg-font-lock-operator">]</span>
</pre>
</div>

<p>
<b>Popen</b>
</p>

<p>
Get command output to string.
</p>

<p>
C prototype
</p>

<div class="org-src-container">

<pre class="src src-C"><span class="org-preprocessor">#include</span> <span class="org-string">&lt;stdio.h&gt;</span>

<span class="org-type">FILE</span> *<span class="org-function-name">popen</span>(<span class="org-keyword">const</span> <span class="org-type">char</span> *<span class="org-variable-name">command</span>, <span class="org-keyword">const</span> <span class="org-type">char</span> *<span class="org-variable-name">type</span>);

<span class="org-comment-delimiter">// </span><span class="org-comment">popen, pclose - pipe stream to or from a process</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">The  popen()  function  opens  a  process  by creating a pipe, forking,</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">and invoking the shell.  Since a pipe is by definition unidirectional,</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">the type argument may specify only reading  or  writing,  not  both;</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">the  resulting stream is correspondingly read-only or write-only</span>
</pre>
</div>

<p>
Ocaml
</p>

<div class="org-src-container">

<pre class="src src-ocaml"> <span class="org-tuareg-font-lock-operator">#</span>require <span class="org-string">"ctypes"</span> <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">#</span>require <span class="org-string">"ctypes.foreign"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">PosixTypes</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Ctypes</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Foreign</span> <span class="org-tuareg-font-double-colon">;;</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">is_null_ptr</span><span class="org-variable-name"> pointer_type pointer</span> <span class="org-tuareg-font-lock-operator">=</span>
 ptr_compare pointer <span class="org-tuareg-font-lock-operator">(</span>from_voidp pointer_type null<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> 0 <span class="org-tuareg-font-double-colon">;;</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">string_of_ptrchar</span><span class="org-variable-name"> ptrch</span> <span class="org-tuareg-font-lock-operator">=</span>  coerce <span class="org-tuareg-font-lock-operator">(</span>ptr char<span class="org-tuareg-font-lock-operator">)</span>  string ptrch <span class="org-tuareg-font-double-colon">;;</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">fgets</span> <span class="org-tuareg-font-lock-operator">=</span>
 foreign <span class="org-string">"fgets"</span> <span class="org-tuareg-font-lock-operator">(</span>ptr char <span class="org-tuareg-font-lock-operator">@-&gt;</span> int <span class="org-tuareg-font-lock-operator">@-&gt;</span> ptr int <span class="org-tuareg-font-lock-operator">@-&gt;</span> returning <span class="org-tuareg-font-lock-operator">(</span>ptr char<span class="org-tuareg-font-lock-operator">))</span> <span class="org-tuareg-font-double-colon">;;</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">popen_</span> <span class="org-tuareg-font-lock-operator">=</span>
 foreign <span class="org-string">"popen"</span> <span class="org-tuareg-font-lock-operator">(</span>string <span class="org-tuareg-font-lock-operator">@-&gt;</span> string <span class="org-tuareg-font-lock-operator">@-&gt;</span> returning <span class="org-tuareg-font-lock-operator">(</span>ptr int<span class="org-tuareg-font-lock-operator">))</span> <span class="org-tuareg-font-double-colon">;;</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">make_null_ptr</span><span class="org-variable-name"> ptrtype</span> <span class="org-tuareg-font-lock-operator">=</span> from_voidp  ptrtype null <span class="org-tuareg-font-double-colon">;;</span>

<span class="org-keyword">exception</span> <span class="org-variable-name">Exit_loop</span> <span class="org-tuareg-font-double-colon">;;</span>


<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">read_fd</span><span class="org-variable-name"> file_descriptor</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">buffsize</span> <span class="org-tuareg-font-lock-operator">=</span> 4000 <span class="org-tuareg-font-lock-governing">in</span> <span class="org-comment-delimiter">(* </span><span class="org-comment">Buffer of 4000 bytes </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">v</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Pervasives.</span><span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">(</span>from_voidp  char null<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-governing">in</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">b</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Buffer.</span>create buffsize <span class="org-tuareg-font-lock-governing">in</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">s</span> <span class="org-tuareg-font-lock-operator">=</span> allocate_n char <span class="org-tuareg-font-lock-label">~count</span><span class="org-tuareg-font-lock-operator">:</span>buffsize <span class="org-tuareg-font-lock-governing">in</span>

    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">closure</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">=</span>
        <span class="org-keyword">try</span> <span class="org-keyword">while</span> <span class="org-constant">true</span> <span class="org-keyword">do</span>
          v <span class="org-tuareg-font-lock-operator">:=</span>  fgets s <span class="org-tuareg-font-lock-operator">(</span>buffsize <span class="org-tuareg-font-lock-operator">-</span> 1<span class="org-tuareg-font-lock-operator">)</span> file_descriptor <span class="org-tuareg-font-lock-operator">;</span>
          <span class="org-keyword">if</span> is_null_ptr char <span class="org-tuareg-font-lock-operator">!</span>v <span class="org-keyword">then</span> <span class="org-builtin">raise</span> <span class="org-tuareg-font-lock-constructor">Exit_loop</span> <span class="org-tuareg-font-lock-operator">;</span>
          <span class="org-tuareg-font-lock-module">Buffer.</span>add_string b  <span class="org-tuareg-font-lock-operator">(</span>string_of_ptrchar s<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">;</span>
        <span class="org-keyword">done</span>
        <span class="org-keyword">with</span> <span class="org-tuareg-font-lock-constructor">Exit_loop</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">;</span>

    <span class="org-tuareg-font-lock-governing">in</span> closure <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>contents b
<span class="org-tuareg-font-double-colon">;;</span>


<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">popen</span><span class="org-variable-name"> command</span> <span class="org-tuareg-font-lock-operator">=</span> read_fd <span class="org-tuareg-font-lock-operator">(</span>popen_ command <span class="org-string">"r"</span><span class="org-tuareg-font-lock-operator">)</span><span class="org-tuareg-font-double-colon">;;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> popen <span class="org-string">"ls"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bytes <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"images\nocamldep-sorter\nREADME.hml\nREADME.html\nREADME.md\nsrc\nTest.html\n"</span> <span class="org-tuareg-font-lock-operator">&gt;</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> popen <span class="org-string">"ls"</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> print_string <span class="org-tuareg-font-double-colon">;;</span>
images
ocamldep<span class="org-tuareg-font-lock-operator">-</span>sorter
<span class="org-tuareg-font-lock-module">README.</span>hml
<span class="org-tuareg-font-lock-module">README.</span>html
<span class="org-tuareg-font-lock-module">README.</span>md
src
<span class="org-tuareg-font-lock-module">Test.</span>html
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> popen <span class="org-string">"pwd"</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> print_string <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">/</span>home<span class="org-tuareg-font-lock-operator">/</span>tux<span class="org-tuareg-font-lock-operator">/</span><span class="org-tuareg-font-lock-constructor">PycharmProjects</span><span class="org-tuareg-font-lock-operator">/</span><span class="org-tuareg-font-lock-constructor">Haskell</span><span class="org-tuareg-font-lock-operator">/</span>ocaml
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-8-2" class="outline-4">
<h4 id="sec-1-8-2"><span class="section-number-4">1.8.2</span> Calling Shared Libraries</h4>
<div class="outline-text-4" id="text-1-8-2">
</div><ol class="org-ol"><li><a id="sec-1-8-2-1" name="sec-1-8-2-1"></a>Calling GNU Scientific Library<br  /><div class="outline-text-5" id="text-1-8-2-1">
<ul class="org-ul">
<li>Calling GSL - GNU Scientific Library
</li>

<li><a href="https://www.gnu.org/software/gsl/manual/html_node">GSL Manual</a>
</li>
</ul>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">#</span>require <span class="org-string">"ctypes"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">#</span>require <span class="org-string">"ctypes"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">#</span>require <span class="org-string">"ctypes.foreign"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Foreign</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">PosixTypes</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Ctypes</span> <span class="org-tuareg-font-double-colon">;;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">gsl_lib</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Dl.</span>dlopen <span class="org-tuareg-font-lock-label">~filename</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-string">"libgsl.so"</span> <span class="org-tuareg-font-lock-label">~flags</span><span class="org-tuareg-font-lock-operator">:[</span><span class="org-tuareg-font-lock-module">Dl.</span><span class="org-tuareg-font-lock-constructor">RTLD_LAZY</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-module">Dl.</span><span class="org-tuareg-font-lock-constructor">RTLD_GLOBAL</span><span class="org-tuareg-font-lock-operator">]</span><span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">gsl_lib</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Dl.</span>library <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span>abstr<span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>


<span class="org-comment-delimiter">(*</span>
<span class="org-comment"> *   double gsl_sf_bessel_J0 (double x)</span>
<span class="org-comment"> *</span>
<span class="org-comment"> *  gsl_sf_bessel_J0(5) = -1.775967713143382920e-01</span>
<span class="org-comment"> *</span>
<span class="org-comment"> *------------------------------------------------------------------</span>
<span class="org-comment"> </span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">gsl_sf_bessel_J0</span> <span class="org-tuareg-font-lock-operator">=</span> foreign <span class="org-tuareg-font-lock-label">~from</span><span class="org-tuareg-font-lock-operator">:</span>gsl_lib <span class="org-string">"gsl_sf_bessel_J0"</span> <span class="org-tuareg-font-lock-operator">(</span>double <span class="org-tuareg-font-lock-operator">@-&gt;</span> returning double <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">gsl_sf_bessel_J0</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> gsl_sf_bessel_J0 5.0 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">-</span>0.177596771314338292

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map gsl_sf_bessel_J0 <span class="org-tuareg-font-lock-operator">[</span>1.0<span class="org-tuareg-font-lock-operator">;</span> 10.0<span class="org-tuareg-font-lock-operator">;</span> 100.0<span class="org-tuareg-font-lock-operator">;</span> 1000.0 <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-tuareg-font-lock-operator">[</span>0.765197686557966494<span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">-</span>0.245935764451348265<span class="org-tuareg-font-lock-operator">;</span> 0.0199858503042231184<span class="org-tuareg-font-lock-operator">;</span>
 0.024786686152420169<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-comment-delimiter">(*</span>
<span class="org-comment"> *   Polynomial Evaluation</span>
<span class="org-comment"> *</span>
<span class="org-comment"> *  double gsl_poly_eval (const double c[], const int len, const double x)</span>
<span class="org-comment"> *</span>
<span class="org-comment"> *   The functions described here evaluate the polynomial</span>
<span class="org-comment"> *   P(x) = c[0] + c[1] x + c[2] x^2 + ... + c[len-1] x^{len-1}</span>
<span class="org-comment"> *</span>
<span class="org-comment"> *   using Horner&#8217;s method for stability. Inline versions of these</span>
<span class="org-comment"> *   functions are used when HAVE_INLINE is defined.</span>
<span class="org-comment"> *</span>
<span class="org-comment"> *   This function evaluates a polynomial with real coefficients for</span>
<span class="org-comment"> *   the real variable x.</span>
<span class="org-comment"> *</span>
<span class="org-comment"> * ------------------------------------------------------------------</span>
<span class="org-comment"> </span><span class="org-comment-delimiter">*)</span>

    <span class="org-comment-delimiter">(*</span>
<span class="org-comment">     *  Let's evaluate  3 * x^2 + 2 * x + 1</span>
<span class="org-comment">     *</span>
<span class="org-comment">     *  so it becomes:  [1. ; 2. ; 3. ]</span>
<span class="org-comment">     *</span>
<span class="org-comment">     *</span>
<span class="org-comment">     *  (3 * x^2 + 2 * x + 1) 5 = 86</span>
<span class="org-comment">     *  (3 * x^2 + 2 * x + 1) 7 = 162</span>
<span class="org-comment">     *  (3 * x^2 + 2 * x + 1) 9 = 262</span>
<span class="org-comment">     </span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">gsl_poly_eval_</span> <span class="org-tuareg-font-lock-operator">=</span> foreign <span class="org-tuareg-font-lock-label">~from</span><span class="org-tuareg-font-lock-operator">:</span>gsl_lib <span class="org-string">"gsl_poly_eval"</span>
<span class="org-tuareg-font-lock-operator">(</span>ptr double <span class="org-tuareg-font-lock-operator">@-&gt;</span> int <span class="org-tuareg-font-lock-operator">@-&gt;</span> double <span class="org-tuareg-font-lock-operator">@-&gt;</span> returning double<span class="org-tuareg-font-lock-operator">)</span><span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">gsl_poly_eval_</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-module">Ctypes_static.</span>ptr <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">poly</span> <span class="org-tuareg-font-lock-operator">=</span>  <span class="org-tuareg-font-lock-module">CArray.</span>of_list double  <span class="org-tuareg-font-lock-operator">[</span>1. <span class="org-tuareg-font-lock-operator">;</span> 2. <span class="org-tuareg-font-lock-operator">;</span> 3. <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">poly</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-module">Ctypes.CArray.</span>t <span class="org-tuareg-font-lock-operator">=</span>
  <span class="org-tuareg-font-lock-operator">{</span><span class="org-tuareg-font-lock-module">Ctypes_static.</span>astart <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Ctypes_static.</span><span class="org-tuareg-font-lock-constructor">CPointer</span> <span class="org-tuareg-font-lock-operator">&lt;</span>abstr<span class="org-tuareg-font-lock-operator">&gt;;</span> alength <span class="org-tuareg-font-lock-operator">=</span> 3<span class="org-tuareg-font-lock-operator">}</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">CArray.</span>start poly <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-module">Ctypes.</span>ptr <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Ctypes_static.</span><span class="org-tuareg-font-lock-constructor">CPointer</span> <span class="org-tuareg-font-lock-operator">&lt;</span>abstr<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> gsl_poly_eval_ <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">CArray.</span>start poly<span class="org-tuareg-font-lock-operator">)</span>  3 5.0 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 86.
<span class="org-tuareg-font-lock-operator">&gt;</span> gsl_poly_eval_ <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">CArray.</span>start poly<span class="org-tuareg-font-lock-operator">)</span>  3 7.0 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 162.
<span class="org-tuareg-font-lock-operator">&gt;</span> gsl_poly_eval_ <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">CArray.</span>start poly<span class="org-tuareg-font-lock-operator">)</span>  3 9.0 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 262.


    <span class="org-comment-delimiter">(* </span><span class="org-comment">Assemblying all pieces of code </span><span class="org-comment-delimiter">*)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">gsl_poly_eval_</span> <span class="org-tuareg-font-lock-operator">=</span> foreign <span class="org-tuareg-font-lock-label">~from</span><span class="org-tuareg-font-lock-operator">:</span>gsl_lib <span class="org-string">"gsl_poly_eval"</span>
  <span class="org-tuareg-font-lock-operator">(</span>ptr double <span class="org-tuareg-font-lock-operator">@-&gt;</span> int <span class="org-tuareg-font-lock-operator">@-&gt;</span> double <span class="org-tuareg-font-lock-operator">@-&gt;</span> returning double<span class="org-tuareg-font-lock-operator">)</span><span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">gsl_poly_eval_</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-module">Ctypes_static.</span>ptr <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">gsl_poly_val</span><span class="org-variable-name"> poly x</span> <span class="org-tuareg-font-lock-operator">=</span>
       <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">p</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">CArray.</span>of_list double poly <span class="org-tuareg-font-lock-governing">in</span>
       gsl_poly_eval_ <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">CArray.</span>start p<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">List.</span>length poly<span class="org-tuareg-font-lock-operator">)</span> x
  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">gsl_poly_val</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>


<span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span>gsl_poly_val <span class="org-tuareg-font-lock-operator">[</span>1. <span class="org-tuareg-font-lock-operator">;</span> 2. <span class="org-tuareg-font-lock-operator">;</span> 3. <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>5.0 <span class="org-tuareg-font-lock-operator">;</span> 7.0 <span class="org-tuareg-font-lock-operator">;</span> 9.0<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>86.<span class="org-tuareg-font-lock-operator">;</span> 162.<span class="org-tuareg-font-lock-operator">;</span> 262.<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">mypoly</span> <span class="org-tuareg-font-lock-operator">=</span> gsl_poly_val <span class="org-tuareg-font-lock-operator">[</span>1. <span class="org-tuareg-font-lock-operator">;</span> 2. <span class="org-tuareg-font-lock-operator">;</span> 3. <span class="org-tuareg-font-lock-operator">]</span>  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">mypoly</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>map mypoly <span class="org-tuareg-font-lock-operator">[</span>5.0 <span class="org-tuareg-font-lock-operator">;</span> 7.0 <span class="org-tuareg-font-lock-operator">;</span> 9.0<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>86.<span class="org-tuareg-font-lock-operator">;</span> 162.<span class="org-tuareg-font-lock-operator">;</span> 262.<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>
</pre>
</div>
</div>
</li>

<li><a id="sec-1-8-2-2" name="sec-1-8-2-2"></a>Calling Python<br  /><div class="outline-text-5" id="text-1-8-2-2">
<ul class="org-ul">
<li><a href="https://docs.python.org/2/extending/embedding.html">Embedding Python in Another Application</a>
</li>

<li><a href="https://docs.python.org/2/c-api/init.html">Initializing and finalizing the interpreter - Python/C API Reference Manual</a>
</li>

<li><a href="https://docs.python.org/2/c-api/veryhigh.html">The Very High Level Layer - Python/C API Reference Manual</a>
</li>
</ul>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span>
  <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Foreign</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">PosixTypes</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Ctypes</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">pylib</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Dl.</span>dlopen <span class="org-tuareg-font-lock-label">~filename</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-string">"libpython2.7.so"</span> <span class="org-tuareg-font-lock-label">~flags</span><span class="org-tuareg-font-lock-operator">:[</span><span class="org-tuareg-font-lock-module">Dl.</span><span class="org-tuareg-font-lock-constructor">RTLD_LAZY</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-module">Dl.</span><span class="org-tuareg-font-lock-constructor">RTLD_GLOBAL</span><span class="org-tuareg-font-lock-operator">]</span><span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">pylib</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Dl.</span>library <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span>abstr<span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">py_init</span> <span class="org-tuareg-font-lock-operator">=</span> foreign <span class="org-string">"Py_Initialize"</span> <span class="org-tuareg-font-lock-label">~from</span><span class="org-tuareg-font-lock-operator">:</span>pylib <span class="org-tuareg-font-lock-operator">(</span>void <span class="org-tuareg-font-lock-operator">@-&gt;</span> returning void<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">py_init</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> py_init <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">py_getPath</span> <span class="org-tuareg-font-lock-operator">=</span> foreign <span class="org-string">"Py_GetPath"</span> <span class="org-tuareg-font-lock-label">~from</span><span class="org-tuareg-font-lock-operator">:</span>pylib <span class="org-tuareg-font-lock-operator">(</span>void <span class="org-tuareg-font-lock-operator">@-&gt;</span> returning string<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">py_getPath</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> py_getPath <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-string">"/home/tux/lib:/usr/lib/python2.7/:/usr/lib/python2.7/plat-i386-linux-gnu:/usr/lib/python2.7/lib-tk:/usr/lib/python2.7/lib-old:/usr/lib/python2.7/lib-dynload"</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">py_getVersion</span> <span class="org-tuareg-font-lock-operator">=</span> foreign <span class="org-string">"Py_GetVersion"</span> <span class="org-tuareg-font-lock-label">~from</span><span class="org-tuareg-font-lock-operator">:</span>pylib <span class="org-tuareg-font-lock-operator">(</span>void <span class="org-tuareg-font-lock-operator">@-&gt;</span> returning string<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">py_getVersion</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> py_getVersion<span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"2.7.9 (default, Apr  2 2015, 15:39:13) \n[GCC 4.9.2]"</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">py_GetPlatform</span> <span class="org-tuareg-font-lock-operator">=</span> foreign <span class="org-string">"Py_GetPlatform"</span> <span class="org-tuareg-font-lock-label">~from</span><span class="org-tuareg-font-lock-operator">:</span>pylib <span class="org-tuareg-font-lock-operator">(</span>void <span class="org-tuareg-font-lock-operator">@-&gt;</span> returning string<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">py_GetPlatform</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> py_GetPlatform <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"linux2"</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">pyRunSimpleString</span> <span class="org-tuareg-font-lock-operator">=</span> foreign <span class="org-string">"PyRun_SimpleString"</span> <span class="org-tuareg-font-lock-label">~from</span><span class="org-tuareg-font-lock-operator">:</span>pylib <span class="org-tuareg-font-lock-operator">(</span>string <span class="org-tuareg-font-lock-operator">@-&gt;</span> returning int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">pyRunSimpleString</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>
  pyRunSimpleString <span class="org-string">"print 'hello world'"</span> <span class="org-tuareg-font-double-colon">;;</span>
hello world
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 0

<span class="org-tuareg-font-lock-operator">&gt;</span> pyRunSimpleString <span class="org-string">"f = lambda x: 10.5 * x - 4"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 0
<span class="org-tuareg-font-lock-operator">&gt;</span> pyRunSimpleString <span class="org-string">"print (map(f, [1, 2, 3, 4, 5, 6, 7])"</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"&lt;string&gt;"</span><span class="org-tuareg-font-lock-operator">,</span> line 1
    print <span class="org-tuareg-font-lock-operator">(</span>map<span class="org-tuareg-font-lock-operator">(</span>f<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">,</span> 2<span class="org-tuareg-font-lock-operator">,</span> 3<span class="org-tuareg-font-lock-operator">,</span> 4<span class="org-tuareg-font-lock-operator">,</span> 5<span class="org-tuareg-font-lock-operator">,</span> 6<span class="org-tuareg-font-lock-operator">,</span> 7<span class="org-tuareg-font-lock-operator">])</span>
                                       <span class="org-tuareg-font-lock-operator">^</span>
<span class="org-tuareg-font-lock-constructor">SyntaxError</span><span class="org-tuareg-font-lock-operator">:</span> unexpected <span class="org-tuareg-font-lock-constructor">EOF</span> <span class="org-keyword">while</span> parsing
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">-</span>1

<span class="org-tuareg-font-lock-operator">&gt;</span> pyRunSimpleString <span class="org-string">"print (map(f, [1, 2, 3, 4, 5, 6, 7]))"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">[</span>6.5<span class="org-tuareg-font-lock-operator">,</span> 17.0<span class="org-tuareg-font-lock-operator">,</span> 27.5<span class="org-tuareg-font-lock-operator">,</span> 38.0<span class="org-tuareg-font-lock-operator">,</span> 48.5<span class="org-tuareg-font-lock-operator">,</span> 59.0<span class="org-tuareg-font-lock-operator">,</span> 69.5<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 0

<span class="org-tuareg-font-lock-operator">&gt;</span> pyRunSimpleString <span class="org-string">"import sys ; print sys.executable"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">/</span>usr<span class="org-tuareg-font-lock-operator">/</span>bin<span class="org-tuareg-font-lock-operator">/</span>python
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 0
<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">py_finalize</span> <span class="org-tuareg-font-lock-operator">=</span> foreign <span class="org-string">"Py_Finalize"</span> <span class="org-tuareg-font-lock-label">~from</span><span class="org-tuareg-font-lock-operator">:</span>pylib <span class="org-tuareg-font-lock-operator">(</span>void <span class="org-tuareg-font-lock-operator">@-&gt;</span> returning void<span class="org-tuareg-font-lock-operator">)</span>
  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">py_finalize</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> py_finalize <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
<span class="org-tuareg-font-lock-operator">&gt;</span>
</pre>
</div>
</div>
</li></ol>
</div>

<div id="outline-container-sec-1-8-3" class="outline-4">
<h4 id="sec-1-8-3"><span class="section-number-4">1.8.3</span> Finding Shared Libraries</h4>
<div class="outline-text-4" id="text-1-8-3">
<p>
Unix Standard system calls on Linux.  You can see the Linux lib-C functions documentation by using the commands:
</p>

<div class="org-src-container">

<pre class="src src-bash">$ man puts
$ man getcwd
</pre>
</div>

<p>
It is possible to find shared libraries used by executables by using the ldd command.
</p>

<div class="org-src-container">

<pre class="src src-bash">$ which rlwrap
/usr/bin/rlwrap

$ ldd $(which rlwrap)
    linux-gate.so.1 =&gt;  (0xb77bf000)
    libutil.so.1 =&gt; /lib/i386-linux-gnu/libutil.so.1 (0xb779f000)
    libreadline.so.6 =&gt; /lib/i386-linux-gnu/libreadline.so.6 (0xb775a000)
    libtinfo.so.5 =&gt; /lib/i386-linux-gnu/libtinfo.so.5 (0xb7736000)
    libc.so.6 =&gt; /lib/i386-linux-gnu/libc.so.6 (0xb757b000)
    /lib/ld-linux.so.2 (0xb77c0000)

$ ldd $(which ssh)
    linux-gate.so.1 =&gt;  (0xb774a000)
    libselinux.so.1 =&gt; /lib/i386-linux-gnu/libselinux.so.1 (0xb763f000)
    libresolv.so.2 =&gt; /lib/i386-linux-gnu/libresolv.so.2 (0xb7626000)
    libcrypto.so.1.0.0 =&gt; /lib/i386-linux-gnu/libcrypto.so.1.0.0 (0xb7452000)
    libdl.so.2 =&gt; /lib/i386-linux-gnu/libdl.so.2 (0xb744d000)
    libz.so.1 =&gt; /lib/i386-linux-gnu/libz.so.1 (0xb7432000)
    libgssapi_krb5.so.2 =&gt; /usr/lib/i386-linux-gnu/libgssapi_krb5.so.2 (0xb73e2000)
    libc.so.6 =&gt; /lib/i386-linux-gnu/libc.so.6 (0xb7227000)
    libpcre.so.3 =&gt; /lib/i386-linux-gnu/libpcre.so.3 (0xb71b4000)
    /lib/ld-linux.so.2 (0xb774b000)
    libkrb5.so.3 =&gt; /usr/lib/i386-linux-gnu/libkrb5.so.3 (0xb70e1000)
    libk5crypto.so.3 =&gt; /usr/lib/i386-linux-gnu/libk5crypto.so.3 (0xb70af000)
    libcom_err.so.2 =&gt; /lib/i386-linux-gnu/libcom_err.so.2 (0xb70aa000)
    libkrb5support.so.0 =&gt; /usr/lib/i386-linux-gnu/libkrb5support.so.0 (0xb709d000)
    libpthread.so.0 =&gt; /lib/i386-linux-gnu/libpthread.so.0 (0xb707f000)
    libkeyutils.so.1 =&gt; /lib/i386-linux-gnu/libkeyutils.so.1 (0xb707a000)

$ # Trace System Calls

$ strace -c ls
build.sh  codes    haskell  Make      ocaml   README.back.md  README.md  Test.html
clean.sh  dict.sh  LICENSE  Makefile  papers  README.html     tags   tmp
% time     seconds  usecs/call     calls    errors syscall
------ ----------- ----------- --------- --------- ----------------
  0.00    0.000000           0         9           read
  0.00    0.000000           0         2           write
  0.00    0.000000           0        11           open
  0.00    0.000000           0        14           close
  0.00    0.000000           0         1           execve
  0.00    0.000000           0         9         9 access
  0.00    0.000000           0         3           brk
  0.00    0.000000           0         2           ioctl
  0.00    0.000000           0         3           munmap
  ... ....

$ ######### For Ubuntu / Debian Only Only ###########################
$ #
$ apt-cache search gsl | grep -i dev | grep -i lib
libgsl0-dev - GNU Scientific Library (GSL) -- development package
libghc-hmatrix-dev - Linear algebra and numerical computation in Haskell
libocamlgsl-ocaml-dev - GNU scientific library for OCaml


$ apt-cache search gsl | grep -i dev | grep -i lib
libgsl0-dev - GNU Scientific Library (GSL) -- development package
libghc-hmatrix-dev - Linear algebra and numerical computation in Haskell


$ apt-cache search python lib dev | grep -i dev | grep -i libpython
libpython-all-dev - package depending on all supported Python development packages
libpython-dev - header files and a static library for Python (default)
libpython2.7-dev - Header files and a static library for Python (v2.7)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-8-4" class="outline-4">
<h4 id="sec-1-8-4"><span class="section-number-4">1.8.4</span> References</h4>
<div class="outline-text-4" id="text-1-8-4">
<p>
<b>OCAML Ctypes</b>
</p>


<ul class="org-ul">
<li><a href="https://realworldocaml.org/v1/en/html/foreign-function-interface.html">Book - Real World OCAML - Chapter 19. Foreign Function Interface</a>
</li>

<li><a href="http://ocamllabs.github.io/ocaml-ctypes">OCAML Ctypes Documentation</a>
</li>
<li><a href="https://github.com/ocamllabs/ocaml-ctypes/wiki/FAQ">Ctypes FAQ - OCAML Labs</a>
</li>
<li><a href="https://github.com/ocamllabs/ocaml-ctypes/wiki/ctypes-tutorial">Ctypes tutorial - OCAML Labs</a>
</li>
<li><a href="https://github.com/ocamllabs/ocaml-ctypes">Github - OCAML Labs - Ctypes</a>
</li>
<li><a href="https://sympa.inria.fr/sympa/arc/caml-list/2013-06/msg00046.html">Mail List: ocaml-ctypes, a library for calling C functions directly from OCaml</a>
</li>
<li><a href="https://github.com/ocamllabs/ocaml-ctypes/tree/master/examples">Repository Examples - OCAML Labs</a>
</li>
</ul>

<p>
<b>C Libraries Used in this section</b>
</p>

<ul class="org-ul">
<li><a href="https://www.kernel.org/doc/man-pages/"> Linux kernel and C library interfaces - Kernel.Org</a>
</li>
<li><a href="http://en.wikipedia.org/wiki/System_call">Wikipedia - System call</a>
</li>
<li><a href="http://docs.cs.up.ac.za/programming/asm/derick_tut/syscalls.html">Linux System Call Table</a>
</li>
<li><a href="http://man7.org/linux/man-pages/man2/syscalls.2.html">Linux Programmer's Manual SYSCALLS(2)</a>
</li>
<li><a href="http://libflow.com/d/fz1qu63i/LINUX_System_Call_Quick_Reference">Linux System Calls Quick Reference</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="https://www.gnu.org/software/gsl/">GSL - GNU Scientific Library</a>
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-1-9" class="outline-3">
<h3 id="sec-1-9"><span class="section-number-3">1.9</span> Module System</h3>
<div class="outline-text-3" id="text-1-9">
</div><div id="outline-container-sec-1-9-1" class="outline-4">
<h4 id="sec-1-9-1"><span class="section-number-4">1.9.1</span> Overview</h4>
<div class="outline-text-4" id="text-1-9-1">
<p>
The Ocaml module system helps to organize the code, avoid names
collision, provides local namespacing and hide implementation details.
</p>
</div>
</div>

<div id="outline-container-sec-1-9-2" class="outline-4">
<h4 id="sec-1-9-2"><span class="section-number-4">1.9.2</span> Opening Modules</h4>
<div class="outline-text-4" id="text-1-9-2">
<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-doc">(** Show Module Contents *)</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>show <span class="org-tuareg-font-lock-constructor">Filename</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">Filename</span> <span class="org-tuareg-font-lock-operator">:</span>
  <span class="org-tuareg-font-lock-governing">sig</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">current_dir_name</span> <span class="org-tuareg-font-lock-operator">:</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">parent_dir_name</span> <span class="org-tuareg-font-lock-operator">:</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">dir_sep</span> <span class="org-tuareg-font-lock-operator">:</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">concat</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">is_relative</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">is_implicit</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">check_suffix</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">chop_suffix</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">chop_extension</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">basename</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">dirname</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">temp_file</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">?temp_dir</span><span class="org-tuareg-font-lock-operator">:</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">open_temp_file</span> <span class="org-tuareg-font-lock-operator">:</span>
      <span class="org-tuareg-font-lock-label">?mode</span><span class="org-tuareg-font-lock-operator">:</span>open_flag list <span class="org-tuareg-font-lock-operator">-&gt;</span>
      <span class="org-tuareg-font-lock-label">?temp_dir</span><span class="org-tuareg-font-lock-operator">:</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">*</span> out_channel
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">get_temp_dir_name</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">set_temp_dir_name</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">temp_dir_name</span> <span class="org-tuareg-font-lock-operator">:</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">quote</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
  <span class="org-tuareg-font-lock-governing">end</span>
<span class="org-tuareg-font-lock-operator">#</span> 


<span class="org-doc">(** Open a module Locally *)</span>

<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">List</span> <span class="org-tuareg-font-lock-governing">in</span> map <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">List</span> <span class="org-tuareg-font-lock-governing">in</span> map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">+</span>1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">+</span>1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Error</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-constructor">Unbound</span> value map
<span class="org-tuareg-font-lock-constructor">Hint</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-constructor">Did</span> you mean max<span class="org-tuareg-font-lock-operator">?</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Array</span> <span class="org-tuareg-font-lock-governing">in</span>  map <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a array <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Array</span> <span class="org-tuareg-font-lock-governing">in</span> map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">+</span>1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[|</span> 1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5 <span class="org-tuareg-font-lock-operator">|]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|</span>2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">|]</span>
<span class="org-tuareg-font-lock-operator">#</span>     

<span class="org-doc">(** Open a module inside parenthesis *)</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span><span class="org-tuareg-font-lock-operator">(</span>map<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Array.</span><span class="org-tuareg-font-lock-operator">(</span>map<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a array <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span><span class="org-tuareg-font-lock-operator">(</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">+</span>1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">])</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Array.</span><span class="org-tuareg-font-lock-operator">(</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">+</span>1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[|</span> 1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5 <span class="org-tuareg-font-lock-operator">|])</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|</span>2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">|]</span>

<span class="org-doc">(** Module Alias *)</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">L</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">List</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">L</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">List</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>show <span class="org-tuareg-font-lock-constructor">L</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">L</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">List</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">L.</span>map <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> 
  <span class="org-tuareg-font-lock-module">L.</span>map <span class="org-tuareg-font-lock-operator">((+)</span> 1<span class="org-tuareg-font-lock-operator">)</span>  <span class="org-tuareg-font-lock-operator">[</span>1 <span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">L</span> <span class="org-tuareg-font-lock-governing">in</span> map <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">L</span> <span class="org-tuareg-font-lock-governing">in</span> map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">+</span>1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-doc">(** Open a module inside a function *)</span>


<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">dummy_function</span><span class="org-variable-name"> xs ys</span> <span class="org-tuareg-font-lock-operator">=</span> 
      <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">List</span> <span class="org-tuareg-font-lock-governing">in</span> 
      map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> y</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 3 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">+</span> 5 <span class="org-tuareg-font-lock-operator">*</span> y<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">(</span>combine xs ys<span class="org-tuareg-font-lock-operator">)</span>
  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">dummy_function</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">-&gt;</span> int list <span class="org-tuareg-font-lock-operator">-&gt;</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> dummy_function <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>11<span class="org-tuareg-font-lock-operator">;</span> 19<span class="org-tuareg-font-lock-operator">;</span> 27<span class="org-tuareg-font-lock-operator">;</span> 35<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-doc">(** Open a module inside a function *)</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">dummy_function</span><span class="org-variable-name"> xs ys</span> <span class="org-tuareg-font-lock-operator">=</span> 
      <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">L</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">List</span> <span class="org-tuareg-font-lock-governing">in</span> 
      <span class="org-tuareg-font-lock-module">L.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> y</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 3 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">+</span> 5 <span class="org-tuareg-font-lock-operator">*</span> y<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">L.</span>combine xs ys<span class="org-tuareg-font-lock-operator">)</span>
  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">dummy_function</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">-&gt;</span> int list <span class="org-tuareg-font-lock-operator">-&gt;</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-doc">(** Open a module globally in the toplevel or inside another module</span>
<span class="org-doc">    if the module is opened in a file.</span>
<span class="org-doc"> *)</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">List</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span>  map <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> find <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> filter <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">+</span>1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> map <span class="org-tuareg-font-lock-operator">((+)</span> 1<span class="org-tuareg-font-lock-operator">)</span>  <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">#</span> map <span class="org-tuareg-font-lock-operator">((+)</span> 1<span class="org-tuareg-font-lock-operator">)</span>  <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> find <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&gt;</span> 2<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 3
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-9-3" class="outline-4">
<h4 id="sec-1-9-3"><span class="section-number-4">1.9.3</span> Defining a module in the Toplevel</h4>
<div class="outline-text-4" id="text-1-9-3">
<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">MyModule</span> <span class="org-tuareg-font-lock-operator">=</span> 
         <span class="org-tuareg-font-lock-governing">struct</span> 

         <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">f1</span><span class="org-variable-name"> x</span> <span class="org-tuareg-font-lock-operator">=</span> 10 <span class="org-tuareg-font-lock-operator">*</span> x 
         <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">f</span><span class="org-variable-name"> x y</span> <span class="org-tuareg-font-lock-operator">=</span> 4 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">+</span> y 

         <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">const1</span> <span class="org-tuareg-font-lock-operator">=</span> 100.232
         <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">msg1</span>  <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"hello world"</span>

         <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">(+)</span> x y  <span class="org-tuareg-font-lock-operator">=</span> 10 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">+</span> 3 <span class="org-tuareg-font-lock-operator">*</span> y

         <span class="org-tuareg-font-lock-governing">end</span> 
        <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">MyModule</span> <span class="org-tuareg-font-lock-operator">:</span>
  <span class="org-tuareg-font-lock-governing">sig</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f1</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">const1</span> <span class="org-tuareg-font-lock-operator">:</span> float
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">msg1</span> <span class="org-tuareg-font-lock-operator">:</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">+</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int
  <span class="org-tuareg-font-lock-governing">end</span>


<span class="org-doc">(** Using the module functions *)</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">MyModule.</span>f1 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">MyModule.</span>f <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">MyModule.</span><span class="org-tuareg-font-lock-operator">(+)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> 


<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">MyModule.</span>const1 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 100.232
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">MyModule.</span>f 90 10 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 370
<span class="org-tuareg-font-lock-operator">#</span> 
  <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">MyModule.</span>f 90<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>370<span class="org-tuareg-font-lock-operator">;</span> 380<span class="org-tuareg-font-lock-operator">;</span> 390<span class="org-tuareg-font-lock-operator">;</span> 400<span class="org-tuareg-font-lock-operator">;</span> 410<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">#</span> 


<span class="org-doc">(** Using a operator defined inside the module </span>

<span class="org-doc">    16  = 10 * 1 + 3 * 2</span>
<span class="org-doc">*)</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">MyModule.</span><span class="org-tuareg-font-lock-operator">(</span> 1 <span class="org-tuareg-font-lock-operator">+</span> 2<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 16


<span class="org-doc">(** Open a module locally *)</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">MyModule</span> <span class="org-tuareg-font-lock-governing">in</span> f1 20 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 200

<span class="org-tuareg-font-lock-operator">#</span> f1 20 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Error</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-constructor">Unbound</span> value f1
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">MyModule</span> <span class="org-tuareg-font-lock-governing">in</span> <span class="org-tuareg-font-lock-module">List.</span>map f1 <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>100<span class="org-tuareg-font-lock-operator">;</span> 200<span class="org-tuareg-font-lock-operator">;</span> 300<span class="org-tuareg-font-lock-operator">;</span> 400<span class="org-tuareg-font-lock-operator">;</span> 500<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">MyModule</span> <span class="org-tuareg-font-lock-governing">in</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">List</span> <span class="org-tuareg-font-lock-governing">in</span> map f1 <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>100<span class="org-tuareg-font-lock-operator">;</span> 200<span class="org-tuareg-font-lock-operator">;</span> 300<span class="org-tuareg-font-lock-operator">;</span> 400<span class="org-tuareg-font-lock-operator">;</span> 500<span class="org-tuareg-font-lock-operator">]</span>    

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>map f1 <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Error</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-constructor">Unbound</span> value f1

<span class="org-doc">(** Show module signature *)</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>show <span class="org-tuareg-font-lock-constructor">MyModule</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">MyModule</span> <span class="org-tuareg-font-lock-operator">:</span>
  <span class="org-tuareg-font-lock-governing">sig</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f1</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">const1</span> <span class="org-tuareg-font-lock-operator">:</span> float
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">msg1</span> <span class="org-tuareg-font-lock-operator">:</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">+</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int
  <span class="org-tuareg-font-lock-governing">end</span>
<span class="org-tuareg-font-lock-operator">#</span>    

<span class="org-doc">(** Module Alias, give a short name to a module *)</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">M</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">MyModule</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">M</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">MyModule</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">M.</span>f 20 30 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 110
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">M.</span>f1 50 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 500
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">M.</span><span class="org-tuareg-font-lock-operator">(</span>1 <span class="org-tuareg-font-lock-operator">+</span> 2<span class="org-tuareg-font-lock-operator">)</span><span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 16
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">M</span> <span class="org-tuareg-font-lock-governing">in</span> 1 <span class="org-tuareg-font-lock-operator">+</span> 2 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">x</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 16

<span class="org-tuareg-font-lock-operator">#</span> 1 <span class="org-tuareg-font-lock-operator">+</span> 2 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 3
<span class="org-tuareg-font-lock-operator">#</span>    

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">M</span> <span class="org-tuareg-font-lock-governing">in</span> <span class="org-tuareg-font-lock-module">List.</span>map f1 <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>100<span class="org-tuareg-font-lock-operator">;</span> 200<span class="org-tuareg-font-lock-operator">;</span> 300<span class="org-tuareg-font-lock-operator">;</span> 400<span class="org-tuareg-font-lock-operator">;</span> 500<span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">xs</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">M</span> <span class="org-tuareg-font-lock-governing">in</span> <span class="org-tuareg-font-lock-module">List.</span>map f1 <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">xs</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>100<span class="org-tuareg-font-lock-operator">;</span> 200<span class="org-tuareg-font-lock-operator">;</span> 300<span class="org-tuareg-font-lock-operator">;</span> 400<span class="org-tuareg-font-lock-operator">;</span> 500<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">#</span> xs <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>100<span class="org-tuareg-font-lock-operator">;</span> 200<span class="org-tuareg-font-lock-operator">;</span> 300<span class="org-tuareg-font-lock-operator">;</span> 400<span class="org-tuareg-font-lock-operator">;</span> 500<span class="org-tuareg-font-lock-operator">]</span>


<span class="org-doc">(** Open a module inside a function *)</span>

<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">fun1</span><span class="org-variable-name"> x</span> <span class="org-tuareg-font-lock-operator">=</span> 
      <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">MyModule</span> <span class="org-tuareg-font-lock-governing">in</span>
      f 3 <span class="org-tuareg-font-lock-operator">(</span>f1 4 <span class="org-tuareg-font-lock-operator">+</span> f1 x<span class="org-tuareg-font-lock-operator">)</span>
  <span class="org-tuareg-font-double-colon">;;</span>

<span class="org-tuareg-font-lock-operator">#</span>  fun1 4 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 532

<span class="org-tuareg-font-lock-operator">#</span> fun1 8 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 652
<span class="org-tuareg-font-lock-operator">#</span> 


<span class="org-doc">(** Module Alias inside a Function *)</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">fun1</span><span class="org-variable-name"> x</span> <span class="org-tuareg-font-lock-operator">=</span> 
      <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">A</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">MyModule</span> <span class="org-tuareg-font-lock-governing">in</span>
      <span class="org-tuareg-font-lock-module">A.</span><span class="org-tuareg-font-lock-operator">(</span>f 3 <span class="org-tuareg-font-lock-operator">((</span>f1 4<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">+</span> <span class="org-tuareg-font-lock-operator">(</span>f1 x<span class="org-tuareg-font-lock-operator">)))</span>
  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fun1</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> fun1 3 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 502
<span class="org-tuareg-font-lock-operator">#</span> fun1 8 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 652
<span class="org-tuareg-font-lock-operator">#</span> 


<span class="org-doc">(** Open a Module Globally *)</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">MyModule</span> <span class="org-tuareg-font-double-colon">;;</span>    

<span class="org-tuareg-font-lock-operator">#</span> f1 3 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 30
<span class="org-tuareg-font-lock-operator">#</span> f1 10 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 100
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>map f1 <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>100<span class="org-tuareg-font-lock-operator">;</span> 200<span class="org-tuareg-font-lock-operator">;</span> 300<span class="org-tuareg-font-lock-operator">;</span> 400<span class="org-tuareg-font-lock-operator">;</span> 500<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> 1 <span class="org-tuareg-font-lock-operator">+</span> 2 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 16
<span class="org-tuareg-font-lock-operator">#</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-9-4" class="outline-4">
<h4 id="sec-1-9-4"><span class="section-number-4">1.9.4</span> Loading file as module in the toplevel</h4>
<div class="outline-text-4" id="text-1-9-4">
<p>
Let the file myModule.ml have the content:
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">f1</span><span class="org-variable-name"> x</span> <span class="org-tuareg-font-lock-operator">=</span> 10 <span class="org-tuareg-font-lock-operator">*</span> x 
<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">f</span><span class="org-variable-name"> x y</span> <span class="org-tuareg-font-lock-operator">=</span> 4 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">+</span> y 

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">const1</span> <span class="org-tuareg-font-lock-operator">=</span> 100.232
<span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">msg1</span>  <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"hello world"</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"Hello Ocaml FP"</span>
</pre>
</div>

<p>
Load file 
</p>

<pre class="example">
$ rlwrap ocaml

# #use "myModule.ml" ;;
val f1 : int -&gt; int = &lt;fun&gt;
val f : int -&gt; int -&gt; int = &lt;fun&gt;
val const1 : float = 100.232
val msg1 : string = "hello world"
Hello Ocaml FP# 

# f1 4 ;;
- : int = 40
# f1 3 ;;
- : int = 30
# 

# List.map (f 3) [4; 5; 6; 7; 8 ] ;;
- : int list = [16; 17; 18; 19; 20]
#
</pre>

<p>
Load file as module
</p>

<pre class="example">
$ rlwrap ocaml

# #mod_use "myModule.ml" ;;
Hello Ocaml FPmodule MyModule :
  sig
    val f1 : int -&gt; int
    val f : int -&gt; int -&gt; int
    val const1 : float
    val msg1 : string
  end
# 

# MyModule.f1 ;;
- : int -&gt; int = &lt;fun&gt;

# 
  MyModule.f ;;
- : int -&gt; int -&gt; int = &lt;fun&gt;

# MyModule.f 3 4 ;;
- : int = 16

#  List.map (MyModule.f 3) [4; 5; 6; 7; 8 ] ;;
- : int list = [16; 17; 18; 19; 20]
# 

# open MyModule ;;

# List.map (f 3) [4; 5; 6; 7; 8 ] ;;
- : int list = [16; 17; 18; 19; 20]
#
</pre>
</div>
</div>

<div id="outline-container-sec-1-9-5" class="outline-4">
<h4 id="sec-1-9-5"><span class="section-number-4">1.9.5</span> Loading Libraries Modules</h4>
<div class="outline-text-4" id="text-1-9-5">
<p>
It will load the library pcre, that can be installed with $ opam install pcre
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>use <span class="org-string">"topfind"</span> <span class="org-tuareg-font-double-colon">;;</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>require <span class="org-string">"pcre"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">/</span>home<span class="org-tuareg-font-lock-operator">/</span>tux<span class="org-tuareg-font-lock-operator">/.</span>opam<span class="org-tuareg-font-lock-operator">/</span>4.02.1<span class="org-tuareg-font-lock-operator">/</span>lib<span class="org-tuareg-font-lock-operator">/</span>bytes<span class="org-tuareg-font-lock-operator">:</span> added <span class="org-keyword">to</span> search path
<span class="org-tuareg-font-lock-operator">/</span>home<span class="org-tuareg-font-lock-operator">/</span>tux<span class="org-tuareg-font-lock-operator">/.</span>opam<span class="org-tuareg-font-lock-operator">/</span>4.02.1<span class="org-tuareg-font-lock-operator">/</span>lib<span class="org-tuareg-font-lock-operator">/</span>pcre<span class="org-tuareg-font-lock-operator">:</span> added <span class="org-keyword">to</span> search path
<span class="org-tuareg-font-lock-operator">/</span>home<span class="org-tuareg-font-lock-operator">/</span>tux<span class="org-tuareg-font-lock-operator">/.</span>opam<span class="org-tuareg-font-lock-operator">/</span>4.02.1<span class="org-tuareg-font-lock-operator">/</span>lib<span class="org-tuareg-font-lock-operator">/</span>pcre<span class="org-tuareg-font-lock-operator">/</span>pcre.cma<span class="org-tuareg-font-lock-operator">:</span> loaded
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>show <span class="org-tuareg-font-lock-constructor">Pcre</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">Pcre</span> <span class="org-tuareg-font-lock-operator">:</span>
  <span class="org-tuareg-font-lock-governing">sig</span>
    <span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">error</span> <span class="org-tuareg-font-lock-operator">=</span>
        <span class="org-tuareg-font-lock-constructor">Partial</span>
      <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">BadPartial</span>
      <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">BadPattern</span> <span class="org-keyword">of</span> string <span class="org-tuareg-font-lock-operator">*</span> int
      <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">BadUTF8</span>
      <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">BadUTF8Offset</span>
      <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">MatchLimit</span>
      <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">RecursionLimit</span>
      <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">InternalError</span> <span class="org-keyword">of</span> string
    <span class="org-keyword">exception</span> <span class="org-variable-name">Error</span> <span class="org-keyword">of</span> error
    <span class="org-keyword">exception</span> <span class="org-variable-name">Backtrack</span>
    <span class="org-keyword">exception</span> <span class="org-variable-name">Regexp_or</span> <span class="org-keyword">of</span> string <span class="org-tuareg-font-lock-operator">*</span> error
    <span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">icflag</span>

<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Pcre.</span>pmatch <span class="org-tuareg-font-lock-label">~pat</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-string">"\\d+,\\d+"</span> <span class="org-string">"1000,2323"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>
<span class="org-tuareg-font-lock-operator">#</span> 
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Pcre.</span>pmatch <span class="org-tuareg-font-lock-label">~pat</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-string">"\\d+,\\d+"</span> <span class="org-string">"sadasdas"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Pcre</span> <span class="org-tuareg-font-lock-governing">in</span>  pmatch <span class="org-tuareg-font-lock-label">~pat</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-string">"\\d+,\\d+"</span> <span class="org-string">"1000,2323"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>
<span class="org-tuareg-font-lock-operator">#</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Pcre</span> <span class="org-tuareg-font-lock-governing">in</span> extract_all <span class="org-tuareg-font-lock-label">~pat</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-string">"(\\d+),(\\d+)"</span> <span class="org-string">"10023,2323"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string array array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|[|</span><span class="org-string">"10023,2323"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"10023"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"2323"</span><span class="org-tuareg-font-lock-operator">|]|]</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Pcre</span> <span class="org-tuareg-font-lock-governing">in</span>
<span class="org-string">"23213,132345"</span>
<span class="org-tuareg-font-lock-operator">|&gt;</span>  extract_all <span class="org-tuareg-font-lock-label">~pat</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-string">"(\\d+),(\\d+)"</span>
<span class="org-tuareg-font-lock-operator">|&gt;</span>  <span class="org-keyword">fun</span> <span class="org-variable-name">c</span> <span class="org-tuareg-font-lock-operator">-&gt;</span>  c.<span class="org-tuareg-font-lock-operator">(</span>0<span class="org-tuareg-font-lock-operator">)</span>
<span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string array <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[|</span><span class="org-string">"23213,132345"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"23213"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"132345"</span><span class="org-tuareg-font-lock-operator">|]</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Pcre</span> <span class="org-tuareg-font-lock-governing">in</span>
<span class="org-string">"23213,132345"</span>
<span class="org-tuareg-font-lock-operator">|&gt;</span>  extract_all <span class="org-tuareg-font-lock-label">~pat</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-string">"(\\d+),(\\d+)"</span>
<span class="org-tuareg-font-lock-operator">|&gt;</span>  <span class="org-keyword">fun</span> <span class="org-variable-name">c</span> <span class="org-tuareg-font-lock-operator">-&gt;</span>  c.<span class="org-tuareg-font-lock-operator">(</span>0<span class="org-tuareg-font-lock-operator">)</span>
<span class="org-tuareg-font-lock-operator">|&gt;</span>  <span class="org-keyword">fun</span> <span class="org-variable-name">c</span> <span class="org-tuareg-font-lock-operator">-&gt;</span>  int_of_string c.<span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">),</span> int_of_string c.<span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">)</span>
<span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">*</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span>23213<span class="org-tuareg-font-lock-operator">,</span> 132345<span class="org-tuareg-font-lock-operator">)</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-9-6" class="outline-4">
<h4 id="sec-1-9-6"><span class="section-number-4">1.9.6</span> Including Modules</h4>
<div class="outline-text-4" id="text-1-9-6">
<p>
All functions of the native library module List will be included in the new module List that
defines the functions take, drop and range.
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">List</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-governing">struct</span> 

    <span class="org-tuareg-font-lock-governing">include</span> <span class="org-tuareg-font-lock-module">List</span>

    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">take</span><span class="org-variable-name"> n xs</span> <span class="org-tuareg-font-lock-operator">=</span>
            <span class="org-keyword">match</span> <span class="org-tuareg-font-lock-operator">(</span>n<span class="org-tuareg-font-lock-operator">,</span> xs<span class="org-tuareg-font-lock-operator">)</span> <span class="org-keyword">with</span>
            <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">(</span>0<span class="org-tuareg-font-lock-operator">,</span> _    <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">[]</span>
            <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">(</span>_<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-operator">[]</span>   <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">[]</span>
            <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">(</span>k<span class="org-tuareg-font-lock-operator">,</span> h<span class="org-tuareg-font-lock-operator">::</span>tl<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> k<span class="org-tuareg-font-lock-operator">::(</span>take <span class="org-tuareg-font-lock-operator">(</span>n<span class="org-tuareg-font-lock-operator">-</span>1<span class="org-tuareg-font-lock-operator">)</span> tl<span class="org-tuareg-font-lock-operator">)</span>

    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">drop</span><span class="org-variable-name"> n xs</span> <span class="org-tuareg-font-lock-operator">=</span>
            <span class="org-keyword">if</span> n <span class="org-tuareg-font-lock-operator">&lt;</span> 0 <span class="org-keyword">then</span> <span class="org-builtin">failwith</span> <span class="org-string">"n negative"</span>
            <span class="org-keyword">else</span>
                <span class="org-keyword">match</span> <span class="org-tuareg-font-lock-operator">(</span>n<span class="org-tuareg-font-lock-operator">,</span> xs<span class="org-tuareg-font-lock-operator">)</span> <span class="org-keyword">with</span>
                <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">(</span>0<span class="org-tuareg-font-lock-operator">,</span> _ <span class="org-tuareg-font-lock-operator">)</span>    <span class="org-tuareg-font-lock-operator">-&gt;</span>  xs
                <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">(</span>_<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-operator">[])</span>    <span class="org-tuareg-font-lock-operator">-&gt;</span>  <span class="org-tuareg-font-lock-operator">[]</span>
                <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-operator">(</span>k<span class="org-tuareg-font-lock-operator">,</span> h<span class="org-tuareg-font-lock-operator">::</span>tl<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span>  drop <span class="org-tuareg-font-lock-operator">(</span>k<span class="org-tuareg-font-lock-operator">-</span>1<span class="org-tuareg-font-lock-operator">)</span> tl

    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">range</span><span class="org-variable-name"> start stop step</span> <span class="org-tuareg-font-lock-operator">=</span>
            <span class="org-keyword">if</span> start <span class="org-tuareg-font-lock-operator">&gt;</span> stop
            <span class="org-keyword">then</span> <span class="org-tuareg-font-lock-operator">[]</span>
            <span class="org-keyword">else</span> start<span class="org-tuareg-font-lock-operator">::(</span>range  <span class="org-tuareg-font-lock-operator">(</span>start <span class="org-tuareg-font-lock-operator">+</span> step<span class="org-tuareg-font-lock-operator">)</span> stop step <span class="org-tuareg-font-lock-operator">)</span>                

    <span class="org-tuareg-font-lock-governing">end</span> 
      <span class="org-tuareg-font-double-colon">;;</span>        
<span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">List</span> <span class="org-tuareg-font-lock-operator">:</span>
  <span class="org-tuareg-font-lock-governing">sig</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">length</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> int
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">hd</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">tl</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">nth</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">rev</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">append</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">rev_append</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">concat</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">flatten</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">iter</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> unit<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">iteri</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> unit<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">map</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">mapi</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">rev_map</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fold_left</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fold_right</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">iter2</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> unit<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">map2</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'c<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'c list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">rev_map2</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'c<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'c list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fold_left2</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'c <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'c list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fold_right2</span> <span class="org-tuareg-font-lock-operator">:</span>
      <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'c <span class="org-tuareg-font-lock-operator">-&gt;</span> 'c<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'c <span class="org-tuareg-font-lock-operator">-&gt;</span> 'c
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">for_all</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">exists</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">for_all2</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">exists2</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">mem</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">memq</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">find</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">filter</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">find_all</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">partition</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">*</span> 'a list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">assoc</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">assq</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">mem_assoc</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">mem_assq</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">remove_assoc</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">remove_assq</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">split</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">*</span> 'b list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">combine</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">sort</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">stable_sort</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fast_sort</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">sort_uniq</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">merge</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">take</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> int list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">drop</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">range</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int list
  <span class="org-tuareg-font-lock-governing">end</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>range 100 500 10 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-tuareg-font-lock-operator">[</span>100<span class="org-tuareg-font-lock-operator">;</span> 110<span class="org-tuareg-font-lock-operator">;</span> 120<span class="org-tuareg-font-lock-operator">;</span> 130<span class="org-tuareg-font-lock-operator">;</span> 140<span class="org-tuareg-font-lock-operator">;</span> 150<span class="org-tuareg-font-lock-operator">;</span> 160<span class="org-tuareg-font-lock-operator">;</span> 170<span class="org-tuareg-font-lock-operator">;</span> 
180<span class="org-tuareg-font-lock-operator">;</span> 190<span class="org-tuareg-font-lock-operator">;</span> 200<span class="org-tuareg-font-lock-operator">;</span> 210<span class="org-tuareg-font-lock-operator">;</span> 220<span class="org-tuareg-font-lock-operator">;</span> 230<span class="org-tuareg-font-lock-operator">;</span> 240<span class="org-tuareg-font-lock-operator">;</span>
 250<span class="org-tuareg-font-lock-operator">;</span> 260<span class="org-tuareg-font-lock-operator">;</span> 270<span class="org-tuareg-font-lock-operator">;</span> 280<span class="org-tuareg-font-lock-operator">;</span> 290<span class="org-tuareg-font-lock-operator">;</span> 300<span class="org-tuareg-font-lock-operator">;</span> 310<span class="org-tuareg-font-lock-operator">;</span> 
 320<span class="org-tuareg-font-lock-operator">;</span> 330<span class="org-tuareg-font-lock-operator">;</span> 340<span class="org-tuareg-font-lock-operator">;</span> 350<span class="org-tuareg-font-lock-operator">;</span> 360<span class="org-tuareg-font-lock-operator">;</span> 370<span class="org-tuareg-font-lock-operator">;</span> 380<span class="org-tuareg-font-lock-operator">;</span> 390<span class="org-tuareg-font-lock-operator">;</span>
 400<span class="org-tuareg-font-lock-operator">;</span> 410<span class="org-tuareg-font-lock-operator">;</span> 420<span class="org-tuareg-font-lock-operator">;</span> 430<span class="org-tuareg-font-lock-operator">;</span> 440<span class="org-tuareg-font-lock-operator">;</span> 450<span class="org-tuareg-font-lock-operator">;</span> 460<span class="org-tuareg-font-lock-operator">;</span> 470<span class="org-tuareg-font-lock-operator">;</span> 
 480<span class="org-tuareg-font-lock-operator">;</span> 490<span class="org-tuareg-font-lock-operator">;</span> 500<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">#</span> 



<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>range 100 500 10 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>take 10 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>range 100 500 10 
<span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>filter <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">mod</span> 5 <span class="org-tuareg-font-lock-operator">=</span> 0  <span class="org-tuareg-font-lock-operator">&amp;&amp;</span> x <span class="org-tuareg-font-lock-operator">mod</span> 3 <span class="org-tuareg-font-lock-operator">=</span>  0<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-tuareg-font-lock-operator">[</span>120<span class="org-tuareg-font-lock-operator">;</span> 150<span class="org-tuareg-font-lock-operator">;</span> 180<span class="org-tuareg-font-lock-operator">;</span> 210<span class="org-tuareg-font-lock-operator">;</span> 240<span class="org-tuareg-font-lock-operator">;</span> 270<span class="org-tuareg-font-lock-operator">;</span> 300<span class="org-tuareg-font-lock-operator">;</span> 330<span class="org-tuareg-font-lock-operator">;</span> 360<span class="org-tuareg-font-lock-operator">;</span> 390<span class="org-tuareg-font-lock-operator">;</span> 420<span class="org-tuareg-font-lock-operator">;</span> 450<span class="org-tuareg-font-lock-operator">;</span> 480<span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">#</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-1-10" class="outline-3">
<h3 id="sec-1-10"><span class="section-number-3">1.10</span> Compiling</h3>
<div class="outline-text-3" id="text-1-10">
<p>
[Under Construction]
</p>

<p>
See also:
</p>

<ul class="org-ul">
<li><a href="https://ocaml.org/learn/tutorials/compiling_ocaml_projects.html">Compiling OCaml projects</a>
</li>
<li><a href="http://www2.lib.uchicago.edu/keith/ocaml-class/compiling.html">OCaml for the Skeptical</a>
</li>
<li><a href="https://nicolaspouillard.fr/ocamlbuild/ocamlbuild-user-guide.html">The ocamlbuild users manua</a>
</li>
<li><a href="http://www.ocamlpro.com/files/ocaml-tools.pdf">OCaml Pro - OCaml Standard Tools Cheat Sheet</a>
</li>
</ul>
</div>

<div id="outline-container-sec-1-10-1" class="outline-4">
<h4 id="sec-1-10-1"><span class="section-number-4">1.10.1</span> Compiling a single file</h4>
<div class="outline-text-4" id="text-1-10-1">
<p>
It requires the packages lwt and cohttp that can be installed with
</p>

<pre class="example">
$ opam instal lwt cohttp 
[NOTE] Package lwt is already installed (current version is 2.4.8).
[NOTE] Package cohttp is already installed (current version is 0.18.1).
</pre>

<p>
Let the file <i>curl.ml</i> have the content 
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">#</span>use <span class="org-string">"topfind"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">#</span>require <span class="org-string">"uri"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">#</span>require <span class="org-string">"cohttp.lwt"</span> <span class="org-tuareg-font-double-colon">;;</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">fetch</span><span class="org-variable-name"> uri</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Lwt</span> <span class="org-tuareg-font-lock-governing">in</span>
    <span class="org-tuareg-font-lock-module">Cohttp_lwt_unix.Client.</span>get uri <span class="org-tuareg-font-lock-operator">&gt;&gt;=</span> <span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">resp</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> body</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span>
        <span class="org-tuareg-font-lock-module">Cohttp_lwt_body.</span>to_string body <span class="org-tuareg-font-lock-operator">&gt;&gt;=</span> <span class="org-keyword">fun</span> <span class="org-variable-name">b</span> <span class="org-tuareg-font-lock-operator">-&gt;</span>
            <span class="org-tuareg-font-lock-module">Lwt_io.</span>printl b

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">fetch_string</span><span class="org-variable-name"> uri</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Lwt</span> <span class="org-tuareg-font-lock-governing">in</span>
    <span class="org-tuareg-font-lock-module">Cohttp_lwt_unix.Client.</span>get uri <span class="org-tuareg-font-lock-operator">&gt;&gt;=</span> <span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">resp</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> body</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span>
        <span class="org-tuareg-font-lock-module">Cohttp_lwt_body.</span>to_string body 


<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">url_content</span><span class="org-variable-name"> url</span> <span class="org-tuareg-font-lock-operator">=</span> 
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">uri</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Uri.</span>of_string url 
    <span class="org-tuareg-font-lock-governing">in</span> <span class="org-tuareg-font-lock-module">Lwt_main.</span>run <span class="org-tuareg-font-lock-operator">(</span>fetch_string uri<span class="org-tuareg-font-lock-operator">)</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">main</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">=</span> 
    url_content <span class="org-tuareg-font-lock-module">Sys.</span>argv.<span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">)</span>
    <span class="org-tuareg-font-lock-operator">|&gt;</span> print_endline

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">=</span> 
    <span class="org-keyword">if</span> <span class="org-tuareg-font-lock-operator">!</span><span class="org-tuareg-font-lock-module">Sys.</span>interactive 
    <span class="org-keyword">then</span> <span class="org-tuareg-font-lock-operator">()</span>
    <span class="org-keyword">else</span> main <span class="org-tuareg-font-lock-operator">()</span>
</pre>
</div>

<p>
Running as script
</p>

<div class="org-src-container">

<pre class="src src-ocaml">$ ocaml curl.ml http<span class="org-tuareg-font-lock-operator">://</span>httpbin.org<span class="org-tuareg-font-lock-operator">/</span>xml
<span class="org-tuareg-font-lock-operator">&lt;?</span>xml version<span class="org-tuareg-font-lock-operator">=</span>'1.0' encoding<span class="org-tuareg-font-lock-operator">=</span>'us<span class="org-tuareg-font-lock-operator">-</span>ascii'<span class="org-tuareg-font-lock-operator">?&gt;</span>



<span class="org-tuareg-font-lock-operator">&lt;</span>slideshow 
    title<span class="org-tuareg-font-lock-operator">=</span><span class="org-string">"Sample Slide Show"</span>
    date<span class="org-tuareg-font-lock-operator">=</span><span class="org-string">"Date of publication"</span>
    author<span class="org-tuareg-font-lock-operator">=</span><span class="org-string">"Yours Truly"</span>
    <span class="org-tuareg-font-lock-operator">&gt;</span>


    <span class="org-tuareg-font-lock-operator">&lt;</span>slide <span class="org-tuareg-font-lock-governing">type</span><span class="org-tuareg-font-lock-operator">=</span><span class="org-string">"all"</span><span class="org-tuareg-font-lock-operator">&gt;</span>
      <span class="org-tuareg-font-lock-operator">&lt;</span>title<span class="org-tuareg-font-lock-operator">&gt;</span><span class="org-tuareg-font-lock-constructor">Wake</span> up <span class="org-keyword">to</span> <span class="org-tuareg-font-lock-constructor">WonderWidgets</span><span class="org-tuareg-font-lock-operator">!&lt;/</span>title<span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">&lt;/</span>slide<span class="org-tuareg-font-lock-operator">&gt;</span>


    <span class="org-tuareg-font-lock-operator">&lt;</span>slide <span class="org-tuareg-font-lock-governing">type</span><span class="org-tuareg-font-lock-operator">=</span><span class="org-string">"all"</span><span class="org-tuareg-font-lock-operator">&gt;</span>
        <span class="org-tuareg-font-lock-operator">&lt;</span>title<span class="org-tuareg-font-lock-operator">&gt;</span><span class="org-tuareg-font-lock-constructor">Overview</span><span class="org-tuareg-font-lock-operator">&lt;/</span>title<span class="org-tuareg-font-lock-operator">&gt;</span>
        <span class="org-tuareg-font-lock-operator">&lt;</span>item<span class="org-tuareg-font-lock-operator">&gt;</span><span class="org-tuareg-font-lock-constructor">Why</span> <span class="org-tuareg-font-lock-operator">&lt;</span>em<span class="org-tuareg-font-lock-operator">&gt;</span><span class="org-tuareg-font-lock-constructor">WonderWidgets</span><span class="org-tuareg-font-lock-operator">&lt;/</span>em<span class="org-tuareg-font-lock-operator">&gt;</span> are great<span class="org-tuareg-font-lock-operator">&lt;/</span>item<span class="org-tuareg-font-lock-operator">&gt;</span>
        <span class="org-tuareg-font-lock-operator">&lt;</span>item<span class="org-tuareg-font-lock-operator">/&gt;</span>
        <span class="org-tuareg-font-lock-operator">&lt;</span>item<span class="org-tuareg-font-lock-operator">&gt;</span><span class="org-tuareg-font-lock-constructor">Who</span> <span class="org-tuareg-font-lock-operator">&lt;</span>em<span class="org-tuareg-font-lock-operator">&gt;</span>buys<span class="org-tuareg-font-lock-operator">&lt;/</span>em<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-constructor">WonderWidgets</span><span class="org-tuareg-font-lock-operator">&lt;/</span>item<span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">&lt;/</span>slide<span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&lt;/</span>slideshow<span class="org-tuareg-font-lock-operator">&gt;</span>
</pre>
</div>

<p>
<b>Compiling to bytecode</b>
</p>

<p>
To compile the file the toplevel directives #use, #mod_use, #load must be removed
</p>

<pre class="example">
$ ocamlfind ocamlc -o curl.byte curl.ml -package lwt,cohttp -linkpkg 
File "curl.ml", line 1:
Error: I/O error: curl.ml: No such file or directory
</pre>

<p>
It is possible to remove the directives without change the file by using the -pp option to invoke the preprocessor. To see the byte compiler messages use the option "-verbose".
</p>

<pre class="example">
$ ocamlfind ocamlc -o curl.byte curl.ml -package uri,lwt,lwt.unix,cohttp.lwt -linkpkg -pp 'sed "s/^#.*;;//"'

$ file curl.byte 
curl.byte: a /home/tux/.opam/4.02.1/bin/ocamlrun script executable (binary data)

$ ./curl.byte http://httpbin.org/status/418

    -=[ teapot ]=-

       _...._
     .'  _ _ `.
    | ."` ^ `". _,
    \_;`"---"`|//
      |       ;/
      \_     _/
        `"""`
</pre>

<p>
<b>Compiling to Native Code</b>
</p>

<div class="org-src-container">

<pre class="src src-ocaml">$ ocamlfind ocamlopt <span class="org-tuareg-font-lock-operator">-</span>o curl.bin curl.ml <span class="org-tuareg-font-lock-operator">-</span>package uri<span class="org-tuareg-font-lock-operator">,</span>lwt<span class="org-tuareg-font-lock-operator">,</span>lwt.unix<span class="org-tuareg-font-lock-operator">,</span>cohttp.lwt <span class="org-tuareg-font-lock-operator">-</span>linkpkg <span class="org-tuareg-font-lock-operator">-</span>pp 'sed <span class="org-string">"s/^#.*;;//"</span>'

$ file curl.bin
curl.bin<span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-constructor">ELF</span> 32<span class="org-tuareg-font-lock-operator">-</span>bit <span class="org-tuareg-font-lock-constructor">LSB</span> executable<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">Intel</span> 80386<span class="org-tuareg-font-lock-operator">,</span> version 1 <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">SYSV</span><span class="org-tuareg-font-lock-operator">),</span> dynamically linked <span class="org-tuareg-font-lock-operator">(</span>uses shared libs<span class="org-tuareg-font-lock-operator">),</span> <span class="org-keyword">for</span> <span class="org-tuareg-font-lock-constructor">GNU</span><span class="org-tuareg-font-lock-operator">/</span><span class="org-tuareg-font-lock-constructor">Linux</span> 2.6.32<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-constructor">BuildID</span><span class="org-tuareg-font-lock-operator">[</span>sha1<span class="org-tuareg-font-lock-operator">]=</span>6ee2b5087bb4f7e83a87216bd5078eea91c98661<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-operator">not</span> stripped

$ .<span class="org-tuareg-font-lock-operator">/</span>curl.bin http<span class="org-tuareg-font-lock-operator">://</span>httpbin.org<span class="org-tuareg-font-lock-operator">/</span>status<span class="org-tuareg-font-lock-operator">/</span>418

    <span class="org-tuareg-font-lock-operator">-=[</span> teapot <span class="org-tuareg-font-lock-operator">]=-</span>

       _<span class="org-tuareg-font-lock-operator">....</span>_
     .'  _ _ `.
    <span class="org-tuareg-font-lock-operator">|</span> .<span class="org-string">"` ^ `"</span>. _<span class="org-tuareg-font-lock-operator">,</span>
    \_<span class="org-tuareg-font-lock-operator">;</span>`<span class="org-string">"---"</span>`<span class="org-tuareg-font-lock-operator">|//</span>
      <span class="org-tuareg-font-lock-operator">|</span>       <span class="org-tuareg-font-lock-operator">;/</span>
      \_     _<span class="org-tuareg-font-lock-operator">/</span>
        `<span class="org-string">"""`</span>
</pre>
</div>

<p>
<b>Simple Makefile</b>
</p>


<p>
File: <i>Makefile</i>
</p>
<div class="org-src-container">

<pre class="src src-Makefile">all: curl.byte curl.bin

curl.byte:
    ocamlfind ocamlc -o curl.byte curl.ml -package uri,lwt,lwt.unix,cohttp.lwt -linkpkg -pp 'sed "s/^#.*;;//"'

curl.bin:
    ocamlfind ocamlopt -o curl.bin curl.ml -package uri,lwt,lwt.unix,cohttp.lwt -linkpkg -pp 'sed "s/^#.*;;//"'

test: test.byte test.bin

test.byte:
    @echo "Testing curl.byte"
    ./curl.byte http://httpbin.org/status/418

test.bin:
    @echo "Testing curl.bin"
    ./curl.byte http://httpbin.org/status/418

clean: 
    rm -rf *.cmo *.cmi *.o *.cmx *.bin *.byte
</pre>
</div>

<p>
Building and Testing 
</p>

<pre class="example">
$ make
ocamlfind ocamlc -o curl.byte curl.ml -package uri,lwt,lwt.unix,cohttp.lwt -linkpkg -pp 'sed "s/^#.*;;//"'
ocamlfind ocamlopt -o curl.bin curl.ml -package uri,lwt,lwt.unix,cohttp.lwt -linkpkg -pp 'sed "s/^#.*;;//"'

$ make test.byte
Testing curl.byte
./curl.byte http://httpbin.org/status/418

    -=[ teapot ]=-

       _...._
     .'  _ _ `.
    | ."` ^ `". _,
    \_;`"---"`|//
      |       ;/
      \_     _/
        `"""`
$ make test.bin
Testing curl.bin
./curl.byte http://httpbin.org/status/418

    -=[ teapot ]=-

       _...._
     .'  _ _ `.
    | ."` ^ `". _,
    \_;`"---"`|//
      |       ;/
      \_     _/
        `"""`

$ make test
Testing curl.byte
./curl.byte http://httpbin.org/status/418

    -=[ teapot ]=-

       _...._
     .'  _ _ `.
    | ."` ^ `". _,
    \_;`"---"`|//
      |       ;/
      \_     _/
        `"""`

Testing curl.bin
./curl.byte http://httpbin.org/status/418

    -=[ teapot ]=-

       _...._
     .'  _ _ `.
    | ."` ^ `". _,
    \_;`"---"`|//
      |       ;/
      \_     _/
        `"

$ make clean 
rm -rf *.cmo *.cmi *.o *.cmx *.bin *.byte
</pre>
</div>
</div>

<div id="outline-container-sec-1-10-2" class="outline-4">
<h4 id="sec-1-10-2"><span class="section-number-4">1.10.2</span> Compiling a single File and a single Module</h4>
<div class="outline-text-4" id="text-1-10-2">
<p>
Let the file tools.ml have the content:
</p>

<p>
file: <i>tools.ml</i>
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-doc">(** </span>
<span class="org-doc">    To a file be compiled all preprocessor directives like that below</span>
<span class="org-doc">    must be removed or commented like in this file.</span>

<span class="org-doc">    #require "unix" ;;</span>
<span class="org-doc">*)</span>


<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">read_channel</span><span class="org-variable-name"> ch</span> <span class="org-tuareg-font-lock-operator">=</span>
       <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">b</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Buffer.</span>create 0 <span class="org-tuareg-font-lock-governing">in</span>

       <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">reader</span><span class="org-variable-name"> chn</span> <span class="org-tuareg-font-lock-operator">=</span>
        <span class="org-keyword">try</span> <span class="org-tuareg-font-lock-constructor">Some</span> <span class="org-tuareg-font-lock-operator">(</span>input_line chn<span class="org-tuareg-font-lock-operator">)</span>
        <span class="org-keyword">with</span> <span class="org-builtin">End_of_file</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-constructor">None</span>

       <span class="org-tuareg-font-lock-governing">in</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">aux</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">=</span>
         <span class="org-keyword">match</span> reader ch <span class="org-keyword">with</span>
          <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">None</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">()</span>
          <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Some</span> line <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-module">Buffer.</span>add_string b <span class="org-tuareg-font-lock-operator">(</span>line <span class="org-tuareg-font-lock-operator">^</span> <span class="org-string">"\n"</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">;</span> aux <span class="org-tuareg-font-lock-operator">()</span>
       <span class="org-tuareg-font-lock-governing">in</span> aux <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">;</span>
       <span class="org-tuareg-font-lock-module">Buffer.</span>contents b 


<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">popen_in</span><span class="org-variable-name"> cmd</span> <span class="org-tuareg-font-lock-operator">=</span>
          <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">fd</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Unix.</span>open_process_in cmd <span class="org-tuareg-font-lock-governing">in</span>
          read_channel fd 

<span class="org-doc">(** Execute a command in a directory and return the command output and </span>
<span class="org-doc">    finally go back to the start directory</span>
<span class="org-doc">*)</span>
<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">execute_in_dir</span><span class="org-variable-name"> dir command</span> <span class="org-tuareg-font-lock-operator">=</span> 
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">this</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Sys.</span>getcwd <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-governing">in</span>
    <span class="org-tuareg-font-lock-module">Unix.</span>chdir dir <span class="org-tuareg-font-lock-operator">;</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">out</span> <span class="org-tuareg-font-lock-operator">=</span> popen_in command <span class="org-tuareg-font-lock-governing">in</span>
    <span class="org-tuareg-font-lock-module">Unix.</span>chdir this <span class="org-tuareg-font-lock-operator">;</span>
    out
</pre>
</div>

<p>
Let the file main.ml be
</p>

<p>
file: <i>main.ml</i>
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-comment-delimiter">(*</span>
<span class="org-comment"> #use "topfind" ;;</span>
<span class="org-comment"> #require "unix" ;;</span>
<span class="org-comment"> #load "tools.ml" ;;</span>
<span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">main</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-module">Tools.</span>execute_in_dir <span class="org-tuareg-font-lock-module">Sys.</span>argv.<span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-string">"ls"</span>
    <span class="org-tuareg-font-lock-operator">|&gt;</span> print_endline

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">=</span> main <span class="org-tuareg-font-lock-operator">()</span>
</pre>
</div>

<p>
Loading in the Toplevel
</p>

<pre class="example">
$ rlwrap ocaml -noinit
</pre>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>use <span class="org-string">"tools.ml"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">read_channel</span> <span class="org-tuareg-font-lock-operator">:</span> in_channel <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-constructor">File</span> <span class="org-string">"tools.ml"</span><span class="org-tuareg-font-lock-operator">,</span> line 1<span class="org-tuareg-font-lock-operator">:</span>
<span class="org-tuareg-font-lock-constructor">Error</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-constructor">Reference</span> <span class="org-keyword">to</span> undefined global <span class="org-tuareg-font-lock-constructor">`Unix'</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>use <span class="org-string">"topfind"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
<span class="org-tuareg-font-lock-constructor">Findlib</span> has been successfully loaded. <span class="org-tuareg-font-lock-constructor">Additional</span> directives<span class="org-tuareg-font-lock-operator">:</span>
  <span class="org-tuareg-font-lock-operator">#</span>require <span class="org-string">"package"</span><span class="org-tuareg-font-double-colon">;;</span>      <span class="org-keyword">to</span> load a package
  <span class="org-tuareg-font-lock-operator">#</span>list<span class="org-tuareg-font-double-colon">;;</span>                   <span class="org-keyword">to</span> list the available packages
  <span class="org-tuareg-font-lock-operator">#</span>camlp4o<span class="org-tuareg-font-double-colon">;;</span>                <span class="org-keyword">to</span> load camlp4 <span class="org-tuareg-font-lock-operator">(</span>standard syntax<span class="org-tuareg-font-lock-operator">)</span>
  <span class="org-tuareg-font-lock-operator">#</span>camlp4r<span class="org-tuareg-font-double-colon">;;</span>                <span class="org-keyword">to</span> load camlp4 <span class="org-tuareg-font-lock-operator">(</span>revised syntax<span class="org-tuareg-font-lock-operator">)</span>
  <span class="org-tuareg-font-lock-operator">#</span>predicates <span class="org-string">"p,q,..."</span><span class="org-tuareg-font-double-colon">;;</span>   <span class="org-keyword">to</span> set these predicates
  <span class="org-tuareg-font-lock-module">Topfind.</span>reset<span class="org-tuareg-font-lock-operator">()</span><span class="org-tuareg-font-double-colon">;;</span>         <span class="org-keyword">to</span> force that packages will be reloaded
  <span class="org-tuareg-font-lock-operator">#</span>thread<span class="org-tuareg-font-double-colon">;;</span>                 <span class="org-keyword">to</span> enable threads

<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>require <span class="org-string">"unix"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">/</span>home<span class="org-tuareg-font-lock-operator">/</span>tux<span class="org-tuareg-font-lock-operator">/.</span>opam<span class="org-tuareg-font-lock-operator">/</span>4.02.1<span class="org-tuareg-font-lock-operator">/</span>lib<span class="org-tuareg-font-lock-operator">/</span>ocaml<span class="org-tuareg-font-lock-operator">/</span>unix.cma<span class="org-tuareg-font-lock-operator">:</span> loaded
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>use <span class="org-string">"tools.ml"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">read_channel</span> <span class="org-tuareg-font-lock-operator">:</span> in_channel <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">popen_in</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">execute_in_dir</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> popen_in <span class="org-string">"uname -a"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-string">"Linux tuxhorse 3.19.0-21-generic #21-Ubuntu SMP Sun Jun 14 18:34:06 UTC 2015 i686 i686 i686 GNU/Linux\n"</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>mod_use <span class="org-string">"tools.ml"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">Tools</span> <span class="org-tuareg-font-lock-operator">:</span>
  <span class="org-tuareg-font-lock-governing">sig</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">read_channel</span> <span class="org-tuareg-font-lock-operator">:</span> in_channel <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">popen_in</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">execute_in_dir</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
  <span class="org-tuareg-font-lock-governing">end</span>
<span class="org-tuareg-font-lock-operator">#</span>
</pre>
</div>

<p>
Compiling to bytecode 
</p>

<pre class="example">
$ ocamlfind ocamlc -c tools.ml -package unix -linkpkg

$ file tools.cmi
tools.cmi: OCaml interface file (.cmi) (Version 017)

$ file tools.cmo
tools.cmo: OCaml object file (.cmo) (Version 010)
</pre>

<p>
Loading in the Toplevel
</p>

<div class="org-src-container">

<pre class="src src-ocaml">$ rlwrap ocaml <span class="org-tuareg-font-lock-operator">-</span>noinit 

            <span class="org-tuareg-font-lock-constructor">OCaml</span> version 4.02.1

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>load <span class="org-string">"tools.cmo"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-constructor">Error</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-constructor">Reference</span> <span class="org-keyword">to</span> undefined global <span class="org-tuareg-font-lock-constructor">`Unix'</span>
    <span class="org-tuareg-font-lock-operator">#</span> 
      <span class="org-tuareg-font-lock-operator">#</span>use <span class="org-string">"topfind"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
    <span class="org-tuareg-font-lock-constructor">Findlib</span> has been successfully loaded. <span class="org-tuareg-font-lock-constructor">Additional</span> directives<span class="org-tuareg-font-lock-operator">:</span>
      <span class="org-tuareg-font-lock-operator">#</span>require <span class="org-string">"package"</span><span class="org-tuareg-font-double-colon">;;</span>      <span class="org-keyword">to</span> load a package
      <span class="org-tuareg-font-lock-operator">#</span>list<span class="org-tuareg-font-double-colon">;;</span>                   <span class="org-keyword">to</span> list the available packages
      <span class="org-tuareg-font-lock-operator">#</span>camlp4o<span class="org-tuareg-font-double-colon">;;</span>                <span class="org-keyword">to</span> load camlp4 <span class="org-tuareg-font-lock-operator">(</span>standard syntax<span class="org-tuareg-font-lock-operator">)</span>
      <span class="org-tuareg-font-lock-operator">#</span>camlp4r<span class="org-tuareg-font-double-colon">;;</span>                <span class="org-keyword">to</span> load camlp4 <span class="org-tuareg-font-lock-operator">(</span>revised syntax<span class="org-tuareg-font-lock-operator">)</span>
      <span class="org-tuareg-font-lock-operator">#</span>predicates <span class="org-string">"p,q,..."</span><span class="org-tuareg-font-double-colon">;;</span>   <span class="org-keyword">to</span> set these predicates
      <span class="org-tuareg-font-lock-module">Topfind.</span>reset<span class="org-tuareg-font-lock-operator">()</span><span class="org-tuareg-font-double-colon">;;</span>         <span class="org-keyword">to</span> force that packages will be reloaded
      <span class="org-tuareg-font-lock-operator">#</span>thread<span class="org-tuareg-font-double-colon">;;</span>                 <span class="org-keyword">to</span> enable threads

    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>


    <span class="org-doc">(** All modules dependencies must be loaded </span>
<span class="org-doc">        before it is loaded in the REPL </span>

<span class="org-doc">        Instead of #load "unix.cma" it could be #require "unix" ;;</span>
<span class="org-doc">    *)</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>load <span class="org-string">"unix.cma"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>load <span class="org-string">"tools.cmo"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 
      <span class="org-tuareg-font-lock-operator">#</span>show <span class="org-tuareg-font-lock-constructor">Tools</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">Tools</span> <span class="org-tuareg-font-lock-operator">:</span>
      <span class="org-tuareg-font-lock-governing">sig</span>
        <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">read_channel</span> <span class="org-tuareg-font-lock-operator">:</span> in_channel <span class="org-tuareg-font-lock-operator">-&gt;</span> string
        <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">popen_in</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
        <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">execute_in_dir</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
      <span class="org-tuareg-font-lock-governing">end</span>

    <span class="org-tuareg-font-lock-operator">#</span> 
      <span class="org-tuareg-font-lock-module">Tools.</span>execute_in_dir <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> 
      <span class="org-tuareg-font-lock-module">Sys.</span>getcwd <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"/home/tux/PycharmProjects/Haskell/ocaml/src"</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Tools.</span>execute_in_dir <span class="org-string">"/etc/boot"</span> <span class="org-string">"ls"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-constructor">Exception</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">Unix.</span><span class="org-tuareg-font-lock-constructor">Unix_error</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Unix.</span><span class="org-tuareg-font-lock-constructor">ENOENT</span><span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"chdir"</span><span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"/etc/boot"</span><span class="org-tuareg-font-lock-operator">)</span>.
    <span class="org-tuareg-font-lock-operator">#</span> 
      <span class="org-tuareg-font-lock-module">Tools.</span>execute_in_dir <span class="org-string">"/boot"</span> <span class="org-string">"ls"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-string">"abi-3.19.0-15-generic\nabi-3.19.0-18-generic\n..."</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Sys.</span>getcwd <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"/home/tux/PycharmProjects/Haskell/ocaml/src"</span>
    <span class="org-tuareg-font-lock-operator">#</span>
</pre>
</div>

<p>
Compiling main.ml to bytecode executable and linking it to unix.cma and tools module
</p>

<pre class="example">
  # It will yield main.cmi and main.cmo

$ ocamlfind ocamlc -o main.byte tools.ml main.ml  -package unix -linkpkg -verbose
Effective set of compiler predicates: pkg_unix,autolink,byte
+ ocamlc.opt -o main.byte -verbose /home/tux/.opam/4.02.1/lib/ocaml/unix.cma tools.ml main.ml

$ file main.byte
main.byte: a /home/tux/.opam/4.02.1/bin/ocamlrun script executable (binary data)

$ ./main.byte /boot
abi-3.19.0-15-generic
abi-3.19.0-18-generic
abi-3.19.0-20-generic
abi-3.19.0-21-generic
config-3.19.0-15-generic
config-3.19.0-18-generic
config-3.19.0-20-generic
config-3.19.0-21-generic
grub
...
</pre>

<p>
Compiling main.ml to main.bin, elf executable (Unix executable)
</p>

<pre class="example">
$ ocamlfind ocamlopt -o main.bin tools.ml main.ml  -package unix -linkpkg -verbose
Effective set of compiler predicates: pkg_unix,autolink,native
+ ocamlopt.opt -o main.bin -verbose /home/tux/.opam/4.02.1/lib/ocaml/unix.cmxa tools.ml main.ml
+ as -o 'tools.o' '/tmp/camlasm78e933.s'
+ as -o 'main.o' '/tmp/camlasmb3767b.s'
+ as -o '/tmp/camlstartup24f721.o' '/tmp/camlstartup77e48a.s'
+ gcc -o 'main.bin'   '-L/home/tux/.opam/4.02.1/lib/ocaml'  '/tmp/camlstartup24f721.o' '/home/tux/.opam/4.02.1/lib/ocaml/std_exit.o' 'main.o' 'tools.o' '/home/tux/.opam/4.02.1/lib/ocaml/unix.a' '/home/tux/.opam/4.02.1/lib/ocaml/stdlib.a' '-lunix' '/home/tux/.opam/4.02.1/lib/ocaml/libasmrun.a' -lm  -ldl

$ du -h main.bin
600K    main.bin
600K    tota

$ file main.bin 
main.bin: ELF 32-bit LSB executable, Intel 80386, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.32, BuildID[sha1]=ab01870292ad80ccb6ec8b74dca2cd2f342bd96d, not stripped

$ ./main.bin /boot
abi-3.19.0-15-generic
abi-3.19.0-18-generic
abi-3.19.0-20-generic
abi-3.19.0-21-generic
config-3.19.0-15-generic
config-3.19.0-18-generic
config-3.19.0-20-generic
config-3.19.0-21-generic
grub
initr
</pre>

<p>
Simple Makefile
</p>

<p>
<i>Makefile</i>
</p>
<div class="org-src-container">

<pre class="src src-Makefile">main.byte:
    ocamlfind ocamlc -o main.byte tools.ml main.ml  -package unix -linkpkg -verbose

main.bin:
    ocamlfind ocamlopt -o main.bin tools.ml main.ml  -package unix -linkpkg -verbose

clean:
    rm -rf *.cmo *.cmi *.o *.cmx *.bin *.byte
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-10-3" class="outline-4">
<h4 id="sec-1-10-3"><span class="section-number-4">1.10.3</span> See also</h4>
<div class="outline-text-4" id="text-1-10-3">
<ul class="org-ul">
<li><a href="http://caml.inria.fr/pub/docs/u3-ocaml/ocaml-modules.html">OCaml User Manual - Chapter 4  The module language</a>
</li>
<li><a href="http://lambdafoo.com/blog/2015/05/15/unreliable-guide-to-ocaml-modules/">Unreliable Guide to OCaml Modules</a>
</li>
<li><a href="https://realworldocaml.org/v1/en/html/files-modules-and-programs.html">Real World OCaml - Chapter 4. Files, Modules, and Programs</a>
</li>
<li><a href="https://haifengl.wordpress.com/2014/07/15/ocaml-modules/">Haifeng's Random Walk - OCaml: Modules</a>
</li>
<li><a href="http://okmij.org/ftp/ML/first-class-modules/">First-class modules: hidden power and tantalizing promises</a>
</li>
<li><a href="http://cic.puj.edu.co/wiki/lib/exe/fetch.php?id=materias:leng2&cache=cache&media=materias:leng2:resources:lecture10-ocaml-adv.pdf">The OCaml Module System - Faculty of Engineering Pontificia Universidad Javeriana</a>
</li>
<li><a href="http://www.ocamlpro.com/blog/2011/08/10/ocaml-pack-functors.html">OCaml Pro - Packing and Functors</a>
</li>
<li><a href="http://www2.lib.uchicago.edu/keith/ocaml-class/modules.html">Caml for the Skeptical</a>
</li>
<li><a href="http://www.cs.cornell.edu/courses/cs3110/2011sp/lectures/lec09-functors/functors.htm">Lecture 9: Functors — Parameterized Modules</a>
</li>
<li><a href="http://cseweb.ucsd.edu/classes/sp00/cse231/tutorialeng/node3.html">How to use modules with ocaml</a>
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-1-11" class="outline-3">
<h3 id="sec-1-11"><span class="section-number-3">1.11</span> Creating Libraries, Modules and Compiling to Bytecode or Machine Code</h3>
<div class="outline-text-3" id="text-1-11">
</div><div id="outline-container-sec-1-11-1" class="outline-4">
<h4 id="sec-1-11-1"><span class="section-number-4">1.11.1</span> Loading Files in Interactive Shell</h4>
<div class="outline-text-4" id="text-1-11-1">
<p>
File: example.ml
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">pi</span> <span class="org-tuareg-font-lock-operator">=</span> 3.141515
<span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">byte_size</span> <span class="org-tuareg-font-lock-operator">=</span> 8
<span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">kbyte_size</span> <span class="org-tuareg-font-lock-operator">=</span> 8192


<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">avg</span><span class="org-variable-name"> x y</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span>x <span class="org-tuareg-font-lock-operator">+.</span> y<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">/.</span> 2.0

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">print_avg</span><span class="org-variable-name"> x y</span> <span class="org-tuareg-font-lock-operator">=</span> print_float <span class="org-tuareg-font-lock-operator">(</span>avg x y<span class="org-tuareg-font-lock-operator">)</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">say_hello</span> <span class="org-tuareg-font-lock-operator">=</span> print_string <span class="org-string">"Hello world OCaml"</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">inc_int</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">x</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-variable-name"> </span><span class="org-type">int</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-type">int</span> <span class="org-tuareg-font-lock-operator">=</span> x<span class="org-tuareg-font-lock-operator">+</span> 1 <span class="org-tuareg-font-double-colon">;;</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">is_zero</span><span class="org-variable-name"> x</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-keyword">match</span> x <span class="org-keyword">with</span>
    <span class="org-tuareg-font-lock-operator">|</span> 0 <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-constant">true</span>
    <span class="org-tuareg-font-lock-operator">|</span> _ <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-constant">false</span>


<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">is_one</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-keyword">function</span>
    <span class="org-tuareg-font-lock-operator">|</span> 1 <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-constant">true</span>
    <span class="org-tuareg-font-lock-operator">|</span> _ <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-constant">false</span>

<span class="org-comment-delimiter">(* </span><span class="org-comment">Recursive Function </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">factorial</span><span class="org-variable-name"> n</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-keyword">if</span> n <span class="org-tuareg-font-lock-operator">=</span> 0
        <span class="org-keyword">then</span> 1
        <span class="org-keyword">else</span> n<span class="org-tuareg-font-lock-operator">*</span>factorial <span class="org-tuareg-font-lock-operator">(</span>n<span class="org-tuareg-font-lock-operator">-</span>1<span class="org-tuareg-font-lock-operator">)</span>

<span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">Week</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-governing">struct</span>

    <span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">weekday</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Mon</span> <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Tues</span> <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Wed</span> <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Thurs</span> <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Fri</span> <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Sun</span>  <span class="org-tuareg-font-double-colon">;;</span>

    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">from_weekday_to_string</span><span class="org-variable-name"> week</span> <span class="org-tuareg-font-lock-operator">=</span>
        <span class="org-keyword">match</span> week <span class="org-keyword">with</span>
              <span class="org-tuareg-font-lock-constructor">Mon</span>   <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-string">"Monday"</span>
            <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Tues</span>  <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-string">"Tuesday"</span>
            <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Wed</span>   <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-string">"Wednesday"</span>
            <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Thurs</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-string">"Thursday"</span>
            <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Fri</span>   <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-string">"Friday"</span>
            <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">Sun</span>   <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-string">"Sunday"</span>
<span class="org-tuareg-font-lock-governing">end</span>

<span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">PhysicalConstants</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-governing">struct</span>
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">g</span> <span class="org-tuareg-font-lock-operator">=</span> 9.81
    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">gravity</span> <span class="org-tuareg-font-lock-operator">=</span> 6.67384e<span class="org-tuareg-font-lock-operator">-</span>11
<span class="org-tuareg-font-lock-governing">end</span>
</pre>
</div>

<p>
Loading File From interpreter/ toplevel.
</p>

<pre class="example">
$ ocaml # or $utop

# #use "example.ml" ;;
val pi : float = 3.141515
val byte_size : int = 8
val kbyte_size : int = 8192
val avg : float -&gt; float -&gt; float = &lt;fun&gt;
val print_avg : float -&gt; float -&gt; unit = &lt;fun&gt;
Hello world OCamlval say_hello : unit = ()
val inc_int : int -&gt; int = &lt;fun&gt;
val is_zero : int -&gt; bool = &lt;fun&gt;
val is_one : int -&gt; bool = &lt;fun&gt;
val factorial : int -&gt; int = &lt;fun&gt;
module Week :
  sig
    type weekday = Mon | Tues | Wed | Thurs | Fri | Sun
    val from_weekday_to_string : weekday -&gt; string
  end
module PhysicalConstants : sig val g : float val gravity : float end
#

# pi ;;
- : float = 3.141515
# is_zero 10 ;;
- : bool = false
# is_zero 0 ;;
- : bool = true
# factorial 5 ;;
- : int = 120
#


# PhysicalConstants.gravity ;;
- : float = 6.67384e-11
# PhysicalConstants.g ;;
- : float = 9.81
#


# Week.Mon ;;
- : Week.weekday = Week.Mon
# Week.Tues ;;
- : Week.weekday = Week.Tues

# Week.from_weekday_to_string ;;
- : Week.weekday -&gt; string = &lt;fun&gt;

# Week.from_weekday_to_string Week.Tues ;;
- : string = "Tuesday"
# Week.from_weekday_to_string Week.Mon ;;
- : string = "Monday"
#

# open Week ;;
# Mon ;;
- : Week.weekday = Mon

# Tues ;;
- : Week.weekday = Tues
#

# List.map from_weekday_to_string [Mon ; Sun; Tues ] ;;
- : string list = ["Monday"; "Sunday"; "Tuesday"]
#

# open PhysicalConstants ;;
#
# g ;;
- : float = 9.81
# gravity ;;
- : float = 6.67384e-11
#
</pre>
</div>
</div>

<div id="outline-container-sec-1-11-2" class="outline-4">
<h4 id="sec-1-11-2"><span class="section-number-4">1.11.2</span> Compile Module to Bytecode</h4>
<div class="outline-text-4" id="text-1-11-2">
<p>
After the compiling example.ml files: example.cmi and example.cmo will be created. The module "Example" can be loaded without the source code after compiled into the toplevel shell.
</p>

<div class="org-src-container">

<pre class="src src-bash">$ ocamlc -c  example.ml

$ # Test file types

$ file example.cmi
example.cmi: OCaml interface file (.cmi) (Version 015)

$ file example.cmo
example.cmo: OCaml object file (.cmo) (Version 007)

$ # Check Module Type signature
$ ocamlc -i -c example.ml
val pi : float
val byte_size : int
val kbyte_size : int
val avg : float -&gt; float -&gt; float
val print_avg : float -&gt; float -&gt; unit
val say_hello : unit
val inc_int : int -&gt; int
val is_zero : int -&gt; bool
val is_one : int -&gt; bool
val factorial : int -&gt; int
module Week :
  sig
    type weekday = Mon | Tues | Wed | Thurs | Fri | Sun
    val from_weekday_to_string : weekday -&gt; string
  end
module PhysicalConstants : sig val g : float val gravity : float end

$ Export Module signature
$ ocamlc -i -c example.ml &gt; example.mli
</pre>
</div>

<p>
Loading compiled bytecode into toplevel: $ ocaml
</p>

<pre class="example">
$ mv example.ml example2.ml
$ utop
utop # #load "example.cmo";;

utop # Example.avg 23.2 232.32
;;
- : float = 127.759999999999991

utop # Example.Week.from_weekday_to_string Example.Week.Sun ;;
- : string = "Sunday"

utop # Sun ;;
- : weekday = Sun

utop # Mon ;;
- : weekday = Mon

utop # List.map from_weekday_to_string [Mon ; Sun; Tues ] ;;
- : string list = ["Monday"; "Sunday"; "Tuesday"]

utop # Example.PhysicalConstants.g;;
- : float = 9.81

utop # Example.PhysicalConstants.gravity ;;
- : float = 6.67384e-11

utop # Example.factorial 5 ;;
- : int = 120

utop # Example.factorial 10 ;;
- : int = 3628800

utop # open Example ;;

utop # PhysicalConstants.g ;;
- : float = 9.81

utop # PhysicalConstants.gravity ;;
- : float = 6.67384e-11
</pre>

<p>
Compile to Library
</p>

<pre class="example">
$ ocamlc -c example.ml
$ ocamlc -a example.cmo -o example.cma

$ file example.cma
example.cma: OCaml library file (.cma) (Version 008)
</pre>

<p>
Loading example.cma
</p>

<pre class="example">
$ utop
utop # #load "example.cma" ;;
utop # Example.PhysicalConstants.g ;;
- : float = 9.81



$ file example.cmx
example.cmx: OCaml native object file (.cmx) (Version 011)
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-12" class="outline-3">
<h3 id="sec-1-12"><span class="section-number-3">1.12</span> Batteries Standard Library</h3>
<div class="outline-text-3" id="text-1-12">
<p>
<a href="http://ocaml-batteries-team.github.io/batteries-included/hdoc2/">Batteries Documentation Reference</a>
</p>


<p>
See also: 
</p>

<ul class="org-ul">
<li><a href="https://github.com/ocaml-batteries-team/batteries-included/wiki/Introduction-to-batEnum">Introduction to batEnum</a>
</li>
</ul>

<p>
Install
</p>

<pre class="example">
$ opam install batteries

$ utop
&gt; #require "batteries";;
&gt; open Batteries ;;
&gt;
</pre>
</div>

<div id="outline-container-sec-1-12-1" class="outline-4">
<h4 id="sec-1-12-1"><span class="section-number-4">1.12.1</span> Batteries Modules</h4>
<div class="outline-text-4" id="text-1-12-1">
</div><ol class="org-ol"><li><a id="sec-1-12-1-1" name="sec-1-12-1-1"></a>Batteries List<br  /><div class="outline-text-5" id="text-1-12-1-1">
<p>
<a href="http://ocaml-batteries-team.github.io/batteries-included/hdoc2/BatList.html">Documentation</a>
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>require <span class="org-string">"batteries"</span> <span class="org-tuareg-font-double-colon">;;</span>

<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Batteries</span> <span class="org-tuareg-font-double-colon">;;</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>show <span class="org-tuareg-font-lock-constructor">List</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">List</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">BatList</span>

<span class="org-doc">(** Function Signatures *)</span>
<span class="org-tuareg-font-lock-operator">#</span>show <span class="org-tuareg-font-lock-constructor">BatList</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">BatList</span> <span class="org-tuareg-font-lock-operator">:</span>
    <span class="org-tuareg-font-lock-governing">sig</span>
      <span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">'a t</span> <span class="org-tuareg-font-lock-operator">=</span> 'a list
      <span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">'a enumerable</span> <span class="org-tuareg-font-lock-operator">=</span> 'a t
      <span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">'a mappable</span> <span class="org-tuareg-font-lock-operator">=</span> 'a t
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">is_empty</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">cons</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">first</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">hd</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">tl</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">last</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">length</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> int
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">at</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">rev</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">append</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">rev_append</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">concat</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">flatten</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">singleton</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">make</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">range</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">[&lt;</span> <span class="org-tuareg-font-lock-constructor">`Downto</span> <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">`To</span> <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">init</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">unfold</span> <span class="org-tuareg-font-lock-operator">:</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'b <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> option<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">unfold_exc</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>unit <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">*</span> exn
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">iter</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> unit<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">iteri</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> unit<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">map</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">rev_map</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">mapi</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fold_left</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fold_lefti</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fold_right</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fold_righti</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">reduce</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">max</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">min</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">sum</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">-&gt;</span> int
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fsum</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-tuareg-font-lock-operator">-&gt;</span> float
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">kahan_sum</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-tuareg-font-lock-operator">-&gt;</span> float
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">min_max</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">?cmp</span><span class="org-tuareg-font-lock-operator">:(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">*</span> 'a
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">iter2</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> unit<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">map2</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'c<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'c list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">rev_map2</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'c<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'c list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fold_left2</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'c <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'c list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fold_right2</span> <span class="org-tuareg-font-lock-operator">:</span>
        <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'c <span class="org-tuareg-font-lock-operator">-&gt;</span> 'c<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'c <span class="org-tuareg-font-lock-operator">-&gt;</span> 'c
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">mem</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">mem_cmp</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">memq</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">for_all</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">exists</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">for_all2</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">exists2</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">subset</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">find</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">find_exn</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> exn <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">findi</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">*</span> 'a
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">find_map</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b option<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">rfind</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">filter</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">filteri</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">filter_map</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b option<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">filteri_map</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b option<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">find_all</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">partition</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">*</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">index_of</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> int option
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">index_ofq</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> int option
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">rindex_of</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> int option
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">rindex_ofq</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> int option
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">unique</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">?eq</span><span class="org-tuareg-font-lock-operator">:(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">unique_cmp</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">?cmp</span><span class="org-tuareg-font-lock-operator">:(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">unique_hash</span> <span class="org-tuareg-font-lock-operator">:</span>
        <span class="org-tuareg-font-lock-label">?hash</span><span class="org-tuareg-font-lock-operator">:(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-label">?eq</span><span class="org-tuareg-font-lock-operator">:(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">assoc</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">assoc_inv</span> <span class="org-tuareg-font-lock-operator">:</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">remove_assoc</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">mem_assoc</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">assq</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">assq_inv</span> <span class="org-tuareg-font-lock-operator">:</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">remove_assq</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">mem_assq</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">modify</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">modify_def</span> <span class="org-tuareg-font-lock-operator">:</span>
        'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'b <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">modify_opt</span> <span class="org-tuareg-font-lock-operator">:</span>
        'a <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'b option <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b option<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">modify_at</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">modify_opt_at</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a option<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">split_at</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">*</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">split_nth</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">*</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">remove</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">remove_if</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">remove_at</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">remove_all</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">take</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">ntake</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">drop</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">takedrop</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">*</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">take_while</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">drop_while</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">span</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">*</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">nsplit</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">group_consecutive</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">interleave</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">?first</span><span class="org-tuareg-font-lock-operator">:</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-label">?last</span><span class="org-tuareg-font-lock-operator">:</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">enum</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-module">BatEnum.</span>t
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">of_enum</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-module">BatEnum.</span>t <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">backwards</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-module">BatEnum.</span>t
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">of_backwards</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-module">BatEnum.</span>t <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">split</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">*</span> 'b list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">combine</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">sort</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">stable_sort</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fast_sort</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">merge</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">sort_uniq</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">sort_unique</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">group</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">cartesian_product</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">n_cartesian_product</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">transpose</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">print</span> <span class="org-tuareg-font-lock-operator">:</span>
        <span class="org-tuareg-font-lock-label">?first</span><span class="org-tuareg-font-lock-operator">:</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span>
        <span class="org-tuareg-font-lock-label">?last</span><span class="org-tuareg-font-lock-operator">:</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span>
        <span class="org-tuareg-font-lock-label">?sep</span><span class="org-tuareg-font-lock-operator">:</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span>
        <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-module">BatInnerIO.</span>output <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-operator">-&gt;</span> unit<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span>
        'a <span class="org-tuareg-font-lock-module">BatInnerIO.</span>output <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">eq</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-module">BatOrd.</span>eq <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-module">BatOrd.</span>eq
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">ord</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-module">BatOrd.</span>ord <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-module">BatOrd.</span>ord
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">compare</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-module">BatOrd.</span>comp <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-module">BatOrd.</span>comp
      <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">Eq</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-governing">functor</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">T</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">BatOrd.</span><span class="org-type">Eq</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-governing">sig</span>  <span class="org-tuareg-font-lock-governing">end</span>
      <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">Ord</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-governing">functor</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">T</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">BatOrd.</span><span class="org-type">Ord</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-governing">sig</span>  <span class="org-tuareg-font-lock-governing">end</span>
      <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">Comp</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-governing">functor</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">T</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-module">BatOrd.</span><span class="org-type">Comp</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-governing">sig</span>  <span class="org-tuareg-font-lock-governing">end</span>
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">nth</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">takewhile</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">dropwhile</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
      <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">Exceptionless</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-governing">sig</span>  <span class="org-tuareg-font-lock-governing">end</span>
      <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">Infix</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-governing">sig</span>  <span class="org-tuareg-font-lock-governing">end</span>
      <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">Labels</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-governing">sig</span>  <span class="org-tuareg-font-lock-governing">end</span>
      <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">@</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list
    <span class="org-tuareg-font-lock-governing">end</span>
  <span class="org-tuareg-font-lock-operator">#</span> 


  <span class="org-comment-delimiter">(* </span><span class="org-comment">Head, Tail and Last </span><span class="org-comment-delimiter">*)</span>

  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>hd <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1
  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>tl <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">]</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>first <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1
  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>last <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 10
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-comment-delimiter">(* </span><span class="org-comment">Nth Element </span><span class="org-comment-delimiter">*)</span>

  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>at <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">]</span> 0<span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1
  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>at <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">]</span> 1<span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 2
  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">List.</span>at <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">])</span> <span class="org-tuareg-font-lock-operator">[</span>0<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">]</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-comment-delimiter">(* </span><span class="org-comment">Min and Max </span><span class="org-comment-delimiter">*)</span>
  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>max  <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5 <span class="org-tuareg-font-lock-operator">;</span>6<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 6
  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>min  <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5 <span class="org-tuareg-font-lock-operator">;</span>6<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-comment-delimiter">(* </span><span class="org-comment">Remove an element </span><span class="org-comment-delimiter">*)</span>

  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">List.</span>remove  <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'x'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'d'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'i'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'o'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">]</span> <span class="org-string">'a'</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'x'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'d'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'i'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'o'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">]</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">List.</span>remove_all  <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'x'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'d'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'i'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'o'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">]</span> <span class="org-string">'a'</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'x'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'d'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'i'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'o'</span><span class="org-tuareg-font-lock-operator">]</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">List.</span>remove_at  0 <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'x'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'d'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'i'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'o'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">]</span>  <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'d'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'i'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'o'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">]</span>
  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>remove_at  2 <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'x'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'d'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'i'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'o'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">]</span>  <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'x'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'d'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'i'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'o'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">]</span>

     <span class="org-comment-delimiter">(* </span><span class="org-comment">Removes the first element that satisfies the predicate </span><span class="org-comment-delimiter">*)</span>
  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">List.</span>remove_if <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">mod</span> 2 <span class="org-tuareg-font-lock-operator">=</span> 0<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 11<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 11<span class="org-tuareg-font-lock-operator">]</span>
  <span class="org-tuareg-font-lock-operator">#</span> 


  <span class="org-comment-delimiter">(* </span><span class="org-comment">Sum </span><span class="org-comment-delimiter">*)</span>

  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>sum <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>sum  <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5 <span class="org-tuareg-font-lock-operator">;</span>6<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 21
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-comment-delimiter">(* </span><span class="org-comment">Sum of floats </span><span class="org-comment-delimiter">*)</span>

  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>fsum <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>fsum <span class="org-tuareg-font-lock-operator">[</span>1. <span class="org-tuareg-font-lock-operator">;</span> 2.3323<span class="org-tuareg-font-lock-operator">;</span> 3.1415<span class="org-tuareg-font-lock-operator">;</span> 10.<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 16.4738
  <span class="org-tuareg-font-lock-operator">#</span> 


  <span class="org-comment-delimiter">(* </span><span class="org-comment">Map / Iter </span><span class="org-comment-delimiter">*)</span>
  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>


  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">List.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 10 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">+</span> 3<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>13<span class="org-tuareg-font-lock-operator">;</span> 23<span class="org-tuareg-font-lock-operator">;</span> 33<span class="org-tuareg-font-lock-operator">;</span> 43<span class="org-tuareg-font-lock-operator">;</span> 53<span class="org-tuareg-font-lock-operator">]</span>
  <span class="org-tuareg-font-lock-operator">#</span>    

  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">List.</span>iter <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> unit<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">List.</span>iter <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"= %d\n"</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">=</span> 1
  <span class="org-tuareg-font-lock-operator">=</span> 2
  <span class="org-tuareg-font-lock-operator">=</span> 3
  <span class="org-tuareg-font-lock-operator">=</span> 4
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
  <span class="org-tuareg-font-lock-operator">#</span> 


  <span class="org-comment-delimiter">(* </span><span class="org-comment">Take and Drop </span><span class="org-comment-delimiter">*)</span>

  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>take 3 <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">]</span>
  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>take 13 <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">]</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>drop 4 <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">]</span>
  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>drop 14 <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[]</span>
  <span class="org-tuareg-font-lock-operator">#</span> 


  <span class="org-comment-delimiter">(* </span><span class="org-comment">Take While </span><span class="org-comment-delimiter">*)</span>

  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">List.</span>takewhile <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&lt;</span> 5<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">]</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-doc">(** Drop While *)</span>

  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>dropwhile <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&lt;</span> 5<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">]</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-comment-delimiter">(* </span><span class="org-comment">Partition </span><span class="org-comment-delimiter">*)</span>

  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">List.</span>partition <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&lt;</span> 5<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">*</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">([</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">],</span> <span class="org-tuareg-font-lock-operator">[</span>5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">])</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">List.</span>split_nth 3 <span class="org-tuareg-font-lock-operator">[</span>0<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">*</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">([</span>0<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">],</span> <span class="org-tuareg-font-lock-operator">[</span>3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">])</span>
  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>split_nth 4 <span class="org-tuareg-font-lock-operator">[</span>0<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">*</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">([</span>0<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">],</span> <span class="org-tuareg-font-lock-operator">[</span>4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">])</span>

  <span class="org-comment-delimiter">(* </span><span class="org-comment">Combine/ Split Lists </span><span class="org-comment-delimiter">*)</span>

  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">List.</span>combine <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">*</span> char<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">)]</span>
  <span class="org-tuareg-font-lock-operator">#</span> 
    <span class="org-tuareg-font-lock-module">List.</span>combine <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'d'</span><span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-constructor">Exception</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-builtin">Invalid_argument</span> <span class="org-string">"combine: Different_list_size"</span>.
  <span class="org-tuareg-font-lock-operator">#</span> 


  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">List.</span>split <span class="org-tuareg-font-lock-operator">[(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">)]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">*</span> char list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">([</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">],</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">])</span>
  <span class="org-tuareg-font-lock-operator">#</span> 


  <span class="org-comment-delimiter">(* </span><span class="org-comment">Range </span><span class="org-comment-delimiter">*)</span>

  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">List.</span>range <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">[&lt;</span> <span class="org-tuareg-font-lock-constructor">`Downto</span> <span class="org-tuareg-font-lock-operator">|</span> <span class="org-tuareg-font-lock-constructor">`To</span> <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">List.</span>range 1 <span class="org-tuareg-font-lock-constructor">`To</span> 10 <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">]</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">List.</span>range 100 <span class="org-tuareg-font-lock-constructor">`Downto</span> 90 <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>100<span class="org-tuareg-font-lock-operator">;</span> 99<span class="org-tuareg-font-lock-operator">;</span> 98<span class="org-tuareg-font-lock-operator">;</span> 97<span class="org-tuareg-font-lock-operator">;</span> 96<span class="org-tuareg-font-lock-operator">;</span> 95<span class="org-tuareg-font-lock-operator">;</span> 94<span class="org-tuareg-font-lock-operator">;</span> 93<span class="org-tuareg-font-lock-operator">;</span> 92<span class="org-tuareg-font-lock-operator">;</span> 91<span class="org-tuareg-font-lock-operator">;</span> 90<span class="org-tuareg-font-lock-operator">]</span>
  <span class="org-tuareg-font-lock-operator">#</span> 


  <span class="org-comment-delimiter">(* </span><span class="org-comment">Reverse a List </span><span class="org-comment-delimiter">*)</span>
  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">List.</span>rev <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">]</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-comment-delimiter">(* </span><span class="org-comment">Lenght </span><span class="org-comment-delimiter">*)</span>
  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>length <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 10
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-doc">(** Wrap a Value to a list *)</span>
  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>singleton 10 <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">]</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-comment-delimiter">(* </span><span class="org-comment">Append Two Lists </span><span class="org-comment-delimiter">*)</span>
  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>append <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5 <span class="org-tuareg-font-lock-operator">;</span>6<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">[</span>100<span class="org-tuareg-font-lock-operator">;</span> 32<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">;</span> 32<span class="org-tuareg-font-lock-operator">]</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-comment-delimiter">(* </span><span class="org-comment">Concat Lists </span><span class="org-comment-delimiter">*)</span>

  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>concat <span class="org-tuareg-font-lock-operator">[[</span>1<span class="org-tuareg-font-lock-operator">];</span> <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">];</span> <span class="org-tuareg-font-lock-operator">[</span>13<span class="org-tuareg-font-lock-operator">];</span> <span class="org-tuareg-font-lock-operator">[]]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 13<span class="org-tuareg-font-lock-operator">]</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>flatten <span class="org-tuareg-font-lock-operator">[[</span>1<span class="org-tuareg-font-lock-operator">];</span> <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">];</span> <span class="org-tuareg-font-lock-operator">[</span>13<span class="org-tuareg-font-lock-operator">];</span> <span class="org-tuareg-font-lock-operator">[]]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 13<span class="org-tuareg-font-lock-operator">]</span>
  <span class="org-tuareg-font-lock-operator">#</span> 


  <span class="org-comment-delimiter">(* </span><span class="org-comment">Index of ELement </span><span class="org-comment-delimiter">*)</span>

  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>index_of <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> int option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">List.</span>index_of <span class="org-string">"a"</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"i"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"o"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"b"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"a"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"d"</span> <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Some</span> 3
  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>index_of <span class="org-string">"x"</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"i"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"o"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"b"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"a"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"d"</span> <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">None</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-comment-delimiter">(* </span><span class="org-comment">Cartesian Product </span><span class="org-comment-delimiter">*)</span>

  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">List.</span>cartesian_product <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'d'</span><span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">*</span> char<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">=</span>
  <span class="org-tuareg-font-lock-operator">[(</span>10<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>10<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>10<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>10<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'d'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>20<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>20<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>20<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">);</span>
   <span class="org-tuareg-font-lock-operator">(</span>20<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'d'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>30<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>30<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>30<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>30<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'d'</span><span class="org-tuareg-font-lock-operator">)]</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-doc">(** Transpose, similar to transpose a matrix *)</span>
  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">List.</span>transpose <span class="org-tuareg-font-lock-operator">[[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">];</span> <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">]]</span><span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[[</span>1<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">];</span> <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">];</span> <span class="org-tuareg-font-lock-operator">[</span>3<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">];</span> <span class="org-tuareg-font-lock-operator">[</span>4<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">]]</span>
  <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">List.</span>group_consecutive <span class="org-tuareg-font-double-colon">;;</span>
  <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
  <span class="org-tuareg-font-lock-operator">#</span>
</pre>
</div>
</div>
</li>

<li><a id="sec-1-12-1-2" name="sec-1-12-1-2"></a>Lazy List<br  /><div class="outline-text-5" id="text-1-12-1-2">
<p>
<a href="http://ocaml-batteries-team.github.io/batteries-included/hdoc2/BatLazyList.html">Documentation</a>
</p>

<p>
Lazy lists are similar to Haskell Lists that uses lazy evaluation.
</p>

<div class="org-src-container">

<pre class="src src-ocaml">    <span class="org-tuareg-font-lock-operator">#</span>require <span class="org-string">"batteries"</span> <span class="org-tuareg-font-double-colon">;;</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">Lz</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">BatLazyList</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">Lz</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">BatLazyList</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-doc">(** List to Lazy List*)</span>

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Lz.</span>of_list <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-module">Lz.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 
    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Lz.</span>of_list <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Lz.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">lazy</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">s</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Lz.</span>of_list <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">s</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Lz.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">lazy</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 


    <span class="org-doc">(** Lazy list to List *)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Lz.</span>to_list s <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 


    <span class="org-comment-delimiter">(* </span><span class="org-comment">Range  </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">st</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Lz.</span>range 2 15 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">st</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Lz.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">lazy</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Lz.</span>to_list st <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 11<span class="org-tuareg-font-lock-operator">;</span> 12<span class="org-tuareg-font-lock-operator">;</span> 13<span class="org-tuareg-font-lock-operator">;</span> 14<span class="org-tuareg-font-lock-operator">;</span> 15<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-comment-delimiter">(* </span><span class="org-comment">Lazy Operations </span><span class="org-comment-delimiter">*)</span>

    <span class="org-comment-delimiter">(* </span><span class="org-comment">Take </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Lz.</span>range 2 15000 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>take 5 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Lz.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-keyword">lazy</span> <span class="org-tuareg-font-lock-operator">&lt;</span>cycle<span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span>   

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Lz.</span>range 2 15000 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>take 5 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>to_list <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">]</span>



    <span class="org-doc">(** Hd - Head, Tl tail and last *)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Lz.</span>range 2 15000 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>hd <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 2
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Lz.</span>range 2 15000 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>tl <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Lz.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">lazy</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Lz.</span>range 2 15000 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>tl <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>take 4 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>to_list <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span>     

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Lz.</span>range 2 15000 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>tl <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>take 4 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>last <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 6
    <span class="org-tuareg-font-lock-operator">#</span> 


    <span class="org-comment-delimiter">(* </span><span class="org-comment">Take While </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Lz.</span>take_while <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-module">Lz.</span>t <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-module">Lz.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Lz.</span>range 2 15000 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>take_while <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&lt;</span> 10<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Lz.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-keyword">lazy</span> <span class="org-tuareg-font-lock-operator">&lt;</span>cycle<span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 
      <span class="org-tuareg-font-lock-module">Lz.</span>range 2 15000 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>take_while <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&lt;</span> 10<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>to_list <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 


    <span class="org-doc">(** Drop While *)</span>

    <span class="org-tuareg-font-lock-module">Lz.</span>of_list <span class="org-tuareg-font-lock-operator">[</span>2 <span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 230<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">]</span> 
    <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>drop_while <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&lt;</span> 10<span class="org-tuareg-font-lock-operator">)</span> 
    <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>to_list <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 230<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span>     

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">[</span>2 <span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 230<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">]</span> 
      <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>of_list
      <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>drop_while <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&lt;</span> 10<span class="org-tuareg-font-lock-operator">)</span>
      <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>to_list <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 230<span class="org-tuareg-font-lock-operator">;</span> 100<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 


    <span class="org-comment-delimiter">(* </span><span class="org-comment">Map </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Lz.</span>range 2 15000 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 3 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">-</span> 5<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>take 10 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>to_list <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 13<span class="org-tuareg-font-lock-operator">;</span> 16<span class="org-tuareg-font-lock-operator">;</span> 19<span class="org-tuareg-font-lock-operator">;</span> 22<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">;</span> 28<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-comment-delimiter">(* </span><span class="org-comment">Iter </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">z</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Lz.</span>range 2 15000 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 3 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">-</span> 5<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>take 10 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">z</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Lz.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-keyword">lazy</span> <span class="org-tuareg-font-lock-operator">&lt;</span>cycle<span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 
      <span class="org-tuareg-font-lock-module">Lz.</span>iter <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"x = %d\n"</span> x<span class="org-tuareg-font-lock-operator">)</span> z <span class="org-tuareg-font-double-colon">;;</span>
    x <span class="org-tuareg-font-lock-operator">=</span> 1
    x <span class="org-tuareg-font-lock-operator">=</span> 4
    x <span class="org-tuareg-font-lock-operator">=</span> 7
    x <span class="org-tuareg-font-lock-operator">=</span> 10
    x <span class="org-tuareg-font-lock-operator">=</span> 13
    x <span class="org-tuareg-font-lock-operator">=</span> 16
    x <span class="org-tuareg-font-lock-operator">=</span> 19
    x <span class="org-tuareg-font-lock-operator">=</span> 22
    x <span class="org-tuareg-font-lock-operator">=</span> 25
    x <span class="org-tuareg-font-lock-operator">=</span> 28
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-comment-delimiter">(* </span><span class="org-comment">Filter </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Lz.</span>range 2 15000 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>filter <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&lt;</span> 15<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>to_list <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 11<span class="org-tuareg-font-lock-operator">;</span> 12<span class="org-tuareg-font-lock-operator">;</span> 13<span class="org-tuareg-font-lock-operator">;</span> 14<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Lz.</span>range 2 15000 
      <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>filter <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">mod</span> 2 <span class="org-tuareg-font-lock-operator">=</span> 0 <span class="org-tuareg-font-lock-operator">)</span> 
      <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>take 10 
      <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>to_list <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 12<span class="org-tuareg-font-lock-operator">;</span> 14<span class="org-tuareg-font-lock-operator">;</span> 16<span class="org-tuareg-font-lock-operator">;</span> 18<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span>     

    <span class="org-doc">(** checks if at least one element of the list satisfies the predicate p.  *)</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Lz.</span>range 2 15000 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>exists <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">=</span> 10<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-doc">(** for_all p [^ a0; a1; ... ^] checks if all elements of the </span>
<span class="org-doc">        list satisfy the predicate p. </span>
<span class="org-doc">        That is, it returns (p a0) &amp;&amp; (p a1) &amp;&amp; ... .</span>
<span class="org-doc">    *)</span>

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Lz.</span>range 2 15000 
      <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>take 10 
      <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>for_all <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">mod</span> 2  <span class="org-tuareg-font-lock-operator">=</span> 0<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">xs</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Lz.</span>range 2 15000 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>take 10 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>filter <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">mod</span> 2 <span class="org-tuareg-font-lock-operator">=</span> 0<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">xs</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Lz.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">lazy</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Lz.</span>to_list xs <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

      xs <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>for_all <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">mod</span> 2  <span class="org-tuareg-font-lock-operator">=</span> 0<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>
    <span class="org-tuareg-font-lock-operator">#</span> 


    <span class="org-doc">(** Filter Map </span>

<span class="org-doc">    Lazily eliminate some elements and transform others.</span>
<span class="org-doc">    filter_map f [^ a0; a1; ... ^] applies lazily f to each a0, a1... </span>
<span class="org-doc">    If f ai evaluates to None, the element is not included in the result. </span>
<span class="org-doc">    Otherwise, if f ai evaluates to Some x, element x is included </span>
<span class="org-doc">    in the result.</span>

<span class="org-doc">    **)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">f</span><span class="org-variable-name"> x</span> <span class="org-tuareg-font-lock-operator">=</span> 
        <span class="org-keyword">if</span> x <span class="org-tuareg-font-lock-operator">&gt;</span> 10 <span class="org-keyword">then</span> <span class="org-tuareg-font-lock-constructor">None</span> <span class="org-keyword">else</span> <span class="org-tuareg-font-lock-constructor">Some</span> x 
      <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span>   

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Lz.</span>filter_map f <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Lz.</span>of_list <span class="org-tuareg-font-lock-operator">[-</span>20<span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">-</span>10<span class="org-tuareg-font-lock-operator">;</span> 0<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 60<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">])</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Lz.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">lazy</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Lz.</span>filter_map f <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Lz.</span>of_list <span class="org-tuareg-font-lock-operator">[-</span>20<span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">-</span>10<span class="org-tuareg-font-lock-operator">;</span> 0<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 60<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">])</span> 
    <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>to_list <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[-</span>20<span class="org-tuareg-font-lock-operator">;</span> <span class="org-tuareg-font-lock-operator">-</span>10<span class="org-tuareg-font-lock-operator">;</span> 0<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-comment-delimiter">(* </span><span class="org-comment">Combine/ Zip </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Lz.</span>combine <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Lz.</span>of_list <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">])</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Lz.</span>of_list <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">])</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>to_list<span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">*</span> char<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">)]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Lz.</span>of_list <span class="org-tuareg-font-lock-operator">[(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">)]</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>uncombine <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Lz.</span>t <span class="org-tuareg-font-lock-operator">*</span> char <span class="org-tuareg-font-lock-module">Lz.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(&lt;</span><span class="org-keyword">lazy</span><span class="org-tuareg-font-lock-operator">&gt;,</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">lazy</span><span class="org-tuareg-font-lock-operator">&gt;)</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Lz.</span>of_list <span class="org-tuareg-font-lock-operator">[(</span>1<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">)]</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>uncombine 
      <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">a</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> b</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Lz.</span>to_list a<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-module">Lz.</span>to_list b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">*</span> char list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">([</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">],</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">])</span>
    <span class="org-tuareg-font-lock-operator">#</span> 


<span class="org-doc">(** Cons and Nils / Creating Lazy Lists *)</span>

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">empty_lazy_list</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Lz</span> <span class="org-tuareg-font-lock-governing">in</span> <span class="org-tuareg-font-lock-module">Lazy.</span>from_val <span class="org-tuareg-font-lock-constructor">Nil</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">empty_lazy_list</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-module">Lz.</span>node_t <span class="org-tuareg-font-lock-module">Lazy.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-keyword">lazy</span> <span class="org-tuareg-font-lock-module">Lz.</span><span class="org-tuareg-font-lock-constructor">Nil</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Lz.</span>to_list empty_lazy_list <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Lz</span> <span class="org-tuareg-font-lock-governing">in</span>  <span class="org-keyword">lazy</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-keyword">lazy</span> <span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">))</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Lz.</span>node_t lazy_t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">lazy</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 


    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Lz</span> <span class="org-tuareg-font-lock-governing">in</span>  <span class="org-keyword">lazy</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-keyword">lazy</span> <span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">))</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> to_list <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 


    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Lz.</span>to_list xs <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">xs2</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Lz</span> <span class="org-tuareg-font-lock-governing">in</span> <span class="org-tuareg-font-lock-module">Lazy.</span>from_val 
        <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>2<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-module">Lazy.</span>from_val <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>3<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-module">Lazy.</span>from_val <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>5<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-module">Lazy.</span>from_val <span class="org-tuareg-font-lock-constructor">Nil</span><span class="org-tuareg-font-lock-operator">))))))</span>  <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">xs2</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Lz.</span>node_t <span class="org-tuareg-font-lock-module">Lazy.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-keyword">lazy</span> <span class="org-tuareg-font-lock-operator">&lt;</span>cycle<span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Lz.</span>to_list xs2 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span>


    <span class="org-doc">(** Generating Infinite Lists *)</span>

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">ones</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">=</span>
          <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Lz</span> <span class="org-tuareg-font-lock-governing">in</span> 
          <span class="org-keyword">lazy</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">,</span>  ones <span class="org-tuareg-font-lock-operator">()))</span>
      <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">ones</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-module">Lz.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span>  ones <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Lz.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">lazy</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span>     

    <span class="org-tuareg-font-lock-operator">#</span>  ones <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>take 5 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>to_list <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">]</span>

    <span class="org-tuareg-font-lock-operator">#</span> ones <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>take 10 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>to_list <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 


    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-function-name">naturals</span><span class="org-variable-name"> n </span><span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">=</span>
          <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Lz</span> <span class="org-tuareg-font-lock-governing">in</span> 
          <span class="org-keyword">lazy</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">Cons</span> <span class="org-tuareg-font-lock-operator">(</span>n<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-operator">(</span>naturals  <span class="org-tuareg-font-lock-operator">(</span>n<span class="org-tuareg-font-lock-operator">+</span>1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">())</span> <span class="org-tuareg-font-lock-operator">))</span>
      <span class="org-tuareg-font-double-colon">;;</span>    

    <span class="org-tuareg-font-lock-operator">#</span>  naturals 0 <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>take 10 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>to_list <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>0<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">]</span>

    <span class="org-tuareg-font-lock-operator">#</span>  naturals 0 <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>take 6 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Lz.</span>to_list <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>0<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span>
</pre>
</div>
</div>
</li>


<li><a id="sec-1-12-1-3" name="sec-1-12-1-3"></a>Bat Enum<br  /><div class="outline-text-5" id="text-1-12-1-3">
<p>
<a href="http://ocaml-batteries-team.github.io/batteries-included/hdoc2/BatEnum.html">Documentation</a>
</p>


<p>
Enumeration over abstract collection of elements. Enumerations are a representation of finite or infinite sequences of elements. In Batteries Included, enumerations are used pervasively, both as a uniform manner of reading and manipulating the contents of a data structure, or as a simple manner of reading or writing sequences of characters, numbers, strings, etc. from/to files, network connections or other inputs/outputs.
</p>

<p>
Note Enumerations are not thread-safe. You should not attempt to access one enumeration from different threads.
Author(s): Nicolas Cannasse, David Rajchenbach-Teller
</p>


<div class="org-src-container">

<pre class="src src-ocaml">    <span class="org-tuareg-font-lock-operator">#</span>require <span class="org-string">"batteries"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">Enum</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">BatEnum</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-doc">(** List to Enum *)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>enum <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">;</span> 60<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">BatEnum.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span>abstr<span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">en</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">List.</span>enum <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">;</span> 60<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">en</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">BatEnum.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span>abstr<span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-doc">(** Enum to List *)</span>

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">List.</span>of_enum en <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">;</span> 60<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 


    <span class="org-doc">(** </span>
<span class="org-doc">        init n f creates a new enumeration over elements </span>
<span class="org-doc">        f 0, f 1, ..., f (n-1)</span>
<span class="org-doc">    *)</span>
      <span class="org-tuareg-font-lock-module">Enum.</span>init 10 <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 5 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">-</span> 4 <span class="org-tuareg-font-lock-operator">)</span><span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span>abstr<span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Enum.</span>init 10 <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 5 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">-</span> 4 <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>of_enum <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[-</span>4<span class="org-tuareg-font-lock-operator">;</span> 1<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 11<span class="org-tuareg-font-lock-operator">;</span> 16<span class="org-tuareg-font-lock-operator">;</span> 21<span class="org-tuareg-font-lock-operator">;</span> 26<span class="org-tuareg-font-lock-operator">;</span> 31<span class="org-tuareg-font-lock-operator">;</span> 36<span class="org-tuareg-font-lock-operator">;</span> 41<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-doc">(** repeat ~times:n x </span>
<span class="org-doc">        creates a enum sequence filled with n times </span>
<span class="org-doc">        of x. It return infinite enum when ~times is absent. </span>
<span class="org-doc">        It returns empty enum when times &lt;= 0</span>
<span class="org-doc">    *)</span>

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Enum.</span>repeat <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">?times</span><span class="org-tuareg-font-lock-operator">:</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Enum.</span>repeat 10 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Enum.</span>take 10 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span>abstr<span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Enum.</span>repeat 10 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Enum.</span>take 10 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>of_enum <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-doc">(** Count the number of elements in the enum *)</span>

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Enum.</span>repeat 10 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Enum.</span>take 10 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Enum.</span>count <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 10
    <span class="org-tuareg-font-lock-operator">#</span> 


    <span class="org-doc">(** val seq : 'a -&gt; ('a -&gt; 'a) -&gt; ('a -&gt; bool) -&gt; 'a t</span>
<span class="org-doc">        seq init step cond </span>

<span class="org-doc">        creates a sequence of data, which starts </span>
<span class="org-doc">        from init, extends by step, until the condition cond fails. </span>
<span class="org-doc">        E.g. seq 1 ((+) 1) ((&gt;) 100) returns 1, 2, ... 99. </span>
<span class="org-doc">        If cond init is false, the result is empty.</span>
<span class="org-doc">    *)</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Enum.</span>seq <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">en</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Enum.</span>seq 2.3 <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 10.0 <span class="org-tuareg-font-lock-operator">*.</span> x <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&lt;</span> 100.<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">en</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span>abstr<span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">List.</span>of_enum en <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>2.3<span class="org-tuareg-font-lock-operator">;</span> 23.<span class="org-tuareg-font-lock-operator">]</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">en</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Enum.</span>seq 2.3 <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 10.0 <span class="org-tuareg-font-lock-operator">*.</span> x <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-constant">true</span><span class="org-tuareg-font-lock-operator">)</span> 
    <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Enum.</span>take 10 
    <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>of_enum <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">en</span> <span class="org-tuareg-font-lock-operator">:</span> float list <span class="org-tuareg-font-lock-operator">=</span>
      <span class="org-tuareg-font-lock-operator">[</span>2.3<span class="org-tuareg-font-lock-operator">;</span> 23.<span class="org-tuareg-font-lock-operator">;</span> 230.<span class="org-tuareg-font-lock-operator">;</span> 2300.<span class="org-tuareg-font-lock-operator">;</span> 23000.<span class="org-tuareg-font-lock-operator">;</span> 230000.<span class="org-tuareg-font-lock-operator">;</span> 2300000.<span class="org-tuareg-font-lock-operator">;</span> 
      23000000.<span class="org-tuareg-font-lock-operator">;</span> 230000000.<span class="org-tuareg-font-lock-operator">;</span> 2300000000.<span class="org-tuareg-font-lock-operator">]</span>


    <span class="org-comment-delimiter">(* </span><span class="org-comment">Cycle </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Enum.</span>cycle <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">List.</span>enum <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">])</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Enum.</span>take 3 <span class="org-tuareg-font-lock-operator">|&gt;</span>  <span class="org-tuareg-font-lock-module">List.</span>of_enum <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Enum.</span>cycle <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">List.</span>enum <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">])</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Enum.</span>take 5 <span class="org-tuareg-font-lock-operator">|&gt;</span>  <span class="org-tuareg-font-lock-module">List.</span>of_enum <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Enum.</span>cycle <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">List.</span>enum <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">])</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Enum.</span>take 7 <span class="org-tuareg-font-lock-operator">|&gt;</span>  <span class="org-tuareg-font-lock-module">List.</span>of_enum <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-comment-delimiter">(* </span><span class="org-comment">Combine </span><span class="org-comment-delimiter">*)</span>

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Enum.</span>combine <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">*</span> 'b <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Enum.</span>combine <span class="org-tuareg-font-lock-operator">((</span><span class="org-tuareg-font-lock-module">List.</span>enum <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">]),</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">List.</span>enum <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">;</span> 40<span class="org-tuareg-font-lock-operator">;</span> 50<span class="org-tuareg-font-lock-operator">]))</span> 
    <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>of_enum <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>char <span class="org-tuareg-font-lock-operator">*</span> int<span class="org-tuareg-font-lock-operator">)</span> list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[(</span><span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">,</span> 10<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">,</span> 20<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">,</span> 30<span class="org-tuareg-font-lock-operator">)]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Enum.</span>uncombine <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">*</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">*</span> 'b <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>enum <span class="org-tuareg-font-lock-operator">[(</span><span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">,</span> 10<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">,</span> 20<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">,</span> 30<span class="org-tuareg-font-lock-operator">)]</span> 
    <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Enum.</span>uncombine <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">*</span> int <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(&lt;</span>abstr<span class="org-tuareg-font-lock-operator">&gt;,</span> <span class="org-tuareg-font-lock-operator">&lt;</span>abstr<span class="org-tuareg-font-lock-operator">&gt;)</span>
    <span class="org-tuareg-font-lock-operator">#</span> 


    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>enum <span class="org-tuareg-font-lock-operator">[(</span><span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">,</span> 10<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">,</span> 20<span class="org-tuareg-font-lock-operator">);</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">,</span> 30<span class="org-tuareg-font-lock-operator">)]</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Enum.</span>uncombine 
      <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-variable-name">a</span><span class="org-tuareg-font-lock-operator">,</span><span class="org-variable-name"> b</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">List.</span>of_enum a<span class="org-tuareg-font-lock-operator">,</span> <span class="org-tuareg-font-lock-module">List.</span>of_enum b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char list <span class="org-tuareg-font-lock-operator">*</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">([</span><span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'c'</span><span class="org-tuareg-font-lock-operator">],</span> <span class="org-tuareg-font-lock-operator">[</span>10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">])</span>
    <span class="org-tuareg-font-lock-operator">#</span> 


    <span class="org-doc">(** From While </span>

<span class="org-doc">        val from_while : (unit -&gt; 'a option) -&gt; 'a t</span>

<span class="org-doc">        from_while next creates an enumeration from the next function. </span>
<span class="org-doc">        next shall return Some x where x is the next element of the </span>
<span class="org-doc">        enumeration or None when no more elements can be enumerated. </span>
<span class="org-doc">        Since the enumeration definition is incomplete, a call to clone </span>
<span class="org-doc">        or count will result in a call to force that will enumerate all </span>
<span class="org-doc">        elements in order to return a correct value.        </span>
<span class="org-doc">    **)</span>

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Enum.</span>from_while <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>unit <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a option<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">generator</span><span class="org-variable-name"> start step stop</span> <span class="org-tuareg-font-lock-operator">=</span>
      <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-builtin">ref</span> start <span class="org-tuareg-font-lock-governing">in</span>
      <span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">-&gt;</span>
        x <span class="org-tuareg-font-lock-operator">:=</span> <span class="org-tuareg-font-lock-operator">!</span>x <span class="org-tuareg-font-lock-operator">+</span> step <span class="org-tuareg-font-lock-operator">;</span>
        <span class="org-keyword">if</span> <span class="org-tuareg-font-lock-operator">!</span>x <span class="org-tuareg-font-lock-operator">&lt;</span> stop
        <span class="org-keyword">then</span>  <span class="org-tuareg-font-lock-constructor">Some</span> <span class="org-tuareg-font-lock-operator">(!</span>x<span class="org-tuareg-font-lock-operator">)</span>
        <span class="org-keyword">else</span>  <span class="org-tuareg-font-lock-constructor">None</span>
      <span class="org-tuareg-font-double-colon">;;</span>        
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">generator</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> int option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span>       

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">g</span> <span class="org-tuareg-font-lock-operator">=</span> generator 2 3 20  <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">g</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> int option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 
      g <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Some</span> 5
    <span class="org-tuareg-font-lock-operator">#</span> g <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Some</span> 8
    <span class="org-tuareg-font-lock-operator">#</span> g <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Some</span> 11
    <span class="org-tuareg-font-lock-operator">#</span> g <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Some</span> 14
    <span class="org-tuareg-font-lock-operator">#</span> g <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Some</span> 17
    <span class="org-tuareg-font-lock-operator">#</span> g <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">None</span>
    <span class="org-tuareg-font-lock-operator">#</span> g <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">None</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Enum.</span>from_while <span class="org-tuareg-font-lock-operator">(</span>generator 2 3 20<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>of_enum <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>5<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 11<span class="org-tuareg-font-lock-operator">;</span> 14<span class="org-tuareg-font-lock-operator">;</span> 17<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">read_line_gen</span><span class="org-variable-name"> chin </span><span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">=</span> 
          <span class="org-keyword">try</span> <span class="org-tuareg-font-lock-constructor">Some</span> <span class="org-tuareg-font-lock-operator">(</span> input_line chin<span class="org-tuareg-font-lock-operator">)</span>
              <span class="org-keyword">with</span> <span class="org-builtin">End_of_file</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-constructor">None</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">read_line_gen</span> <span class="org-tuareg-font-lock-operator">:</span> in_channel <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> string option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">g</span> <span class="org-tuareg-font-lock-operator">=</span> read_line_gen <span class="org-tuareg-font-lock-operator">(</span>open_in <span class="org-string">"/etc/fstab"</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">g</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> string option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">g</span> <span class="org-tuareg-font-lock-operator">=</span> read_line_gen <span class="org-tuareg-font-lock-operator">(</span>open_in <span class="org-string">"/tmp/data.txt"</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">g</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">-&gt;</span> string option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Enum.</span>from_while g <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>of_enum  <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"character \\n as a line break, instead of recognizing </span>
<span class="org-string">    all line break characters from the Unicode standard. Whether they </span>
<span class="org-string">    match or don't match (at) line breaks depends on (?s) and (?m)."</span><span class="org-tuareg-font-lock-operator">;</span>
     <span class="org-string">"(?b) makes Tcl interpret the regex as a POSIX BRE."</span><span class="org-tuareg-font-lock-operator">;</span>
     <span class="org-string">"(?e) makes Tcl interpret the regex as a POSIX ERE."</span><span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-doc">(** </span>
<span class="org-doc">    val unfold : 'b -&gt; ('b -&gt; ('a * 'b) option) -&gt; 'a t</span>

<span class="org-doc">    unfold : state -&gt; (state -&gt; (output, state) option) -&gt; output enum </span>
<span class="org-doc">               |       ------------------------         |</span>
<span class="org-doc">               |                |                       |</span>
<span class="org-doc">               |                |--- State Function     Output </span>
<span class="org-doc">               |                                        of every state</span>
<span class="org-doc">               |</span>
<span class="org-doc">               |----&gt; Start state</span>


<span class="org-doc">    As from_loop, except uses option type to signal the end of </span>
<span class="org-doc">    the enumeration. The enumeration ends whenever the function </span>
<span class="org-doc">    returns None</span>

<span class="org-doc">    State Function:          </span>
<span class="org-doc">          state -&gt; (output, state) option</span>

<span class="org-doc">        &gt; (output, new_sate) option = state_function current_state</span>

<span class="org-doc">    ---------------------------------------------------------------</span>
<span class="org-doc">    *)</span>


    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">state_iterator</span><span class="org-variable-name"> a</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Some</span> <span class="org-tuareg-font-lock-operator">(</span>2 <span class="org-tuareg-font-lock-operator">*</span> a<span class="org-tuareg-font-lock-operator">,</span> a <span class="org-tuareg-font-lock-operator">+</span> 1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">state_iterator</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">*</span> int<span class="org-tuareg-font-lock-operator">)</span> option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-comment-delimiter">(*</span>
<span class="org-comment">        state_iterator a = Some (2 * a, a + 1)</span>
<span class="org-comment">        state_iterator 3 = (Some (2 * a, a + 1)) 3 = Some (6, 4)</span>
<span class="org-comment">                                                              |</span>
<span class="org-comment">                                                           Next State</span>

<span class="org-comment">        state_iterator 4 = (Some (2 * a, a + 1)) 4 = Some (8, 5)</span>

<span class="org-comment">        state_iterator 5 = (Some (2 * a, a + 1)) 5 = Some (10, 6)</span>

<span class="org-comment">        state_iterator 5 = (Some (2 * a, a + 1)) 5 = Some (14, 7)</span>

<span class="org-comment">        output:  [6; 8; 10; 14; ...]</span>
<span class="org-comment">    </span><span class="org-comment-delimiter">*)</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Enum.</span>unfold 3 state_iterator <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Enum.</span>take 10 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>of_enum <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>6<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 12<span class="org-tuareg-font-lock-operator">;</span> 14<span class="org-tuareg-font-lock-operator">;</span> 16<span class="org-tuareg-font-lock-operator">;</span> 18<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 22<span class="org-tuareg-font-lock-operator">;</span> 24<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">state_iter</span><span class="org-variable-name"> x</span> <span class="org-tuareg-font-lock-operator">=</span> 
          <span class="org-keyword">if</span> x <span class="org-tuareg-font-lock-operator">&lt;</span> 30 <span class="org-keyword">then</span> <span class="org-tuareg-font-lock-constructor">Some</span> <span class="org-tuareg-font-lock-operator">(</span>x <span class="org-tuareg-font-lock-operator">*</span> 3<span class="org-tuareg-font-lock-operator">,</span> x <span class="org-tuareg-font-lock-operator">+</span> 3<span class="org-tuareg-font-lock-operator">)</span> <span class="org-keyword">else</span> <span class="org-tuareg-font-lock-constructor">None</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">state_iter</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">*</span> int<span class="org-tuareg-font-lock-operator">)</span> option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span>     

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Enum.</span>unfold 3 state_iter <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>of_enum <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>9<span class="org-tuareg-font-lock-operator">;</span> 18<span class="org-tuareg-font-lock-operator">;</span> 27<span class="org-tuareg-font-lock-operator">;</span> 36<span class="org-tuareg-font-lock-operator">;</span> 45<span class="org-tuareg-font-lock-operator">;</span> 54<span class="org-tuareg-font-lock-operator">;</span> 63<span class="org-tuareg-font-lock-operator">;</span> 72<span class="org-tuareg-font-lock-operator">;</span> 81<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Enum.</span>while_do<span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-module">Enum.</span>t<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

  <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Enum.</span>while_do 
    <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&lt;</span> 10<span class="org-tuareg-font-lock-operator">)</span> 
    <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Enum.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 3 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">+</span> 2<span class="org-tuareg-font-lock-operator">))</span> 
    <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">List.</span>enum <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">])</span> 
    <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>of_enum<span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>5<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 14<span class="org-tuareg-font-lock-operator">;</span> 23<span class="org-tuareg-font-lock-operator">;</span> 29<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">]</span>

    <span class="org-tuareg-font-lock-operator">#</span> 
      <span class="org-tuareg-font-lock-module">Enum.</span>while_do <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&lt;</span> 20<span class="org-tuareg-font-lock-operator">)</span> 
      <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Enum.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 3 <span class="org-tuareg-font-lock-operator">*</span> x <span class="org-tuareg-font-lock-operator">+</span> 2<span class="org-tuareg-font-lock-operator">))</span> 
      <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">List.</span>enum <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">])</span> 
      <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>of_enum<span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>5<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 14<span class="org-tuareg-font-lock-operator">;</span> 23<span class="org-tuareg-font-lock-operator">;</span> 29<span class="org-tuareg-font-lock-operator">;</span> 32<span class="org-tuareg-font-lock-operator">;</span> 20<span class="org-tuareg-font-lock-operator">;</span> 30<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 


<span class="org-doc">(** Infix Operators *)</span>

      <span class="org-tuareg-font-lock-operator">#</span>show <span class="org-tuareg-font-lock-module">Enum.</span><span class="org-tuareg-font-lock-constructor">Infix</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">Infix</span> <span class="org-tuareg-font-lock-operator">:</span>
      <span class="org-tuareg-font-lock-governing">sig</span>
        <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">--</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-module">Enum.</span>t
        <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">--^</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-module">Enum.</span>t
        <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">--.</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">*</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> float <span class="org-tuareg-font-lock-module">Enum.</span>t
        <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">---</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-module">Enum.</span>t
        <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">--~</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-module">Enum.</span>t
        <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">//</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-module">Enum.</span>t
        <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">/@</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-module">Enum.</span>t
        <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">@/</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-module">Enum.</span>t
        <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">//@</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b option<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-module">Enum.</span>t
        <span class="org-tuareg-font-lock-governing">val</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">@//</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b option<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b <span class="org-tuareg-font-lock-module">Enum.</span>t
      <span class="org-tuareg-font-lock-governing">end</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-doc">(** Range Operator *)</span>
    <span class="org-tuareg-font-lock-operator">#</span>  4 <span class="org-tuareg-font-lock-operator">--</span> 10 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span>abstr<span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 
    <span class="org-tuareg-font-lock-operator">#</span>  4 <span class="org-tuareg-font-lock-operator">--</span> 10 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>of_enum <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">;</span> 10<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-doc">(** Range Operator without the end *)</span>
    <span class="org-tuareg-font-lock-operator">#</span>  4 <span class="org-tuareg-font-lock-operator">--^</span> 10  <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Enum.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span>abstr<span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span>  4 <span class="org-tuareg-font-lock-operator">--^</span> 10 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>of_enum <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>4<span class="org-tuareg-font-lock-operator">;</span> 5<span class="org-tuareg-font-lock-operator">;</span> 6<span class="org-tuareg-font-lock-operator">;</span> 7<span class="org-tuareg-font-lock-operator">;</span> 8<span class="org-tuareg-font-lock-operator">;</span> 9<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span>
</pre>
</div>
</div>
</li>

<li><a id="sec-1-12-1-4" name="sec-1-12-1-4"></a>String<br  /><div class="outline-text-5" id="text-1-12-1-4">
<p>
<a href="http://ocaml-batteries-team.github.io/batteries-included/hdoc2/BatString.html">Documentation</a>
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>require <span class="org-string">"batteries"</span> <span class="org-tuareg-font-double-colon">;;</span>


<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">String</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">BatString</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">String</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">BatString</span>
<span class="org-tuareg-font-lock-operator">#</span> 


    <span class="org-tuareg-font-lock-operator">#</span>show <span class="org-tuareg-font-lock-constructor">BatString</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">BatString</span> <span class="org-tuareg-font-lock-operator">:</span>
  <span class="org-tuareg-font-lock-governing">sig</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">init</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> char<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">is_empty</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">external</span> <span class="org-function-name">length</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"%string_length"</span>
    <span class="org-tuareg-font-lock-governing">external</span> <span class="org-function-name">get</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"%string_safe_get"</span>
    <span class="org-tuareg-font-lock-governing">external</span> <span class="org-function-name">set</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"%string_safe_set"</span>
    <span class="org-tuareg-font-lock-governing">external</span> <span class="org-function-name">create</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"caml_create_string"</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">make</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">copy</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">sub</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fill</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">blit</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">concat</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string list <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">iter</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>char <span class="org-tuareg-font-lock-operator">-&gt;</span> unit<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">mapi</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> char<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">escaped</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">index</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> int
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">rindex</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> int
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">index_from</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> int
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">rindex_from</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> int
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">contains</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">contains_from</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">rcontains_from</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">uppercase</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">lowercase</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">capitalize</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">uncapitalize</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">t</span> <span class="org-tuareg-font-lock-operator">=</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">enum</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-module">BatEnum.</span>t
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">of_enum</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-module">BatEnum.</span>t <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">backwards</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-module">BatEnum.</span>t
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">of_backwards</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-module">BatEnum.</span>t <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">of_list</span> <span class="org-tuareg-font-lock-operator">:</span> char list <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">to_list</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> char list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">of_int</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">of_float</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">of_char</span> <span class="org-tuareg-font-lock-operator">:</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">to_int</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">to_float</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> float
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">map</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>char <span class="org-tuareg-font-lock-operator">-&gt;</span> char<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fold_left</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fold_lefti</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fold_right</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>char <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fold_righti</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">filter</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>char <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">filter_map</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>char <span class="org-tuareg-font-lock-operator">-&gt;</span> char option<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">iteri</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> unit<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">find</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">find_from</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">rfind</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">rfind_from</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">find_all</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-module">BatEnum.</span>t
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">ends_with</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">starts_with</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">exists</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">lchop</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">?n</span><span class="org-tuareg-font-lock-operator">:</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">rchop</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">?n</span><span class="org-tuareg-font-lock-operator">:</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">trim</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">quote</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">left</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">right</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">head</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">tail</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">strip</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">?chars</span><span class="org-tuareg-font-lock-operator">:</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">replace_chars</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>char <span class="org-tuareg-font-lock-operator">-&gt;</span> string<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">replace</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">str</span><span class="org-tuareg-font-lock-operator">:</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-label">sub</span><span class="org-tuareg-font-lock-operator">:</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-label">by</span><span class="org-tuareg-font-lock-operator">:</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span> bool <span class="org-tuareg-font-lock-operator">*</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">nreplace</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">str</span><span class="org-tuareg-font-lock-operator">:</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-label">sub</span><span class="org-tuareg-font-lock-operator">:</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-label">by</span><span class="org-tuareg-font-lock-operator">:</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">repeat</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">rev</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">rev_in_place</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">in_place_mirror</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">split</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-label">by</span><span class="org-tuareg-font-lock-operator">:</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">*</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">rsplit</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-label">by</span><span class="org-tuareg-font-lock-operator">:</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">*</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">nsplit</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-label">by</span><span class="org-tuareg-font-lock-operator">:</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span> string list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">join</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string list <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">slice</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-label">?first</span><span class="org-tuareg-font-lock-operator">:</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-label">?last</span><span class="org-tuareg-font-lock-operator">:</span>int <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">splice</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">explode</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> char list
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">implode</span> <span class="org-tuareg-font-lock-operator">:</span> char list <span class="org-tuareg-font-lock-operator">-&gt;</span> string
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">equal</span> <span class="org-tuareg-font-lock-operator">:</span> t <span class="org-tuareg-font-lock-operator">-&gt;</span> t <span class="org-tuareg-font-lock-operator">-&gt;</span> bool
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">ord</span> <span class="org-tuareg-font-lock-operator">:</span> t <span class="org-tuareg-font-lock-operator">-&gt;</span> t <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-module">BatOrd.</span>order
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">compare</span> <span class="org-tuareg-font-lock-operator">:</span> t <span class="org-tuareg-font-lock-operator">-&gt;</span> t <span class="org-tuareg-font-lock-operator">-&gt;</span> int
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">icompare</span> <span class="org-tuareg-font-lock-operator">:</span> t <span class="org-tuareg-font-lock-operator">-&gt;</span> t <span class="org-tuareg-font-lock-operator">-&gt;</span> int
    <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">IString</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-governing">sig</span>  <span class="org-tuareg-font-lock-governing">end</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">numeric_compare</span> <span class="org-tuareg-font-lock-operator">:</span> t <span class="org-tuareg-font-lock-operator">-&gt;</span> t <span class="org-tuareg-font-lock-operator">-&gt;</span> int
    <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">NumString</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-governing">sig</span>  <span class="org-tuareg-font-lock-governing">end</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">edit_distance</span> <span class="org-tuareg-font-lock-operator">:</span> t <span class="org-tuareg-font-lock-operator">-&gt;</span> t <span class="org-tuareg-font-lock-operator">-&gt;</span> int
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">print</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-module">BatInnerIO.</span>output <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">println</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-module">BatInnerIO.</span>output <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">print_quoted</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-module">BatInnerIO.</span>output <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
    <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">Exceptionless</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-governing">sig</span>  <span class="org-tuareg-font-lock-governing">end</span>
    <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">Cap</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-governing">sig</span>  <span class="org-tuareg-font-lock-governing">end</span>
    <span class="org-tuareg-font-lock-governing">external</span> <span class="org-function-name">unsafe_get</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"%string_unsafe_get"</span>
    <span class="org-tuareg-font-lock-governing">external</span> <span class="org-function-name">unsafe_set</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
      <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"%string_unsafe_set"</span>
    <span class="org-tuareg-font-lock-governing">external</span> <span class="org-function-name">unsafe_blit</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
      <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"caml_blit_string"</span> <span class="org-string">"noalloc"</span>
    <span class="org-tuareg-font-lock-governing">external</span> <span class="org-function-name">unsafe_fill</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> char <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
      <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"caml_fill_string"</span> <span class="org-string">"noalloc"</span>
  <span class="org-tuareg-font-lock-governing">end</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-doc">(** Strip and Chop *)</span>

<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">String.</span>rchop <span class="org-tuareg-font-lock-label">~n</span><span class="org-tuareg-font-lock-operator">:</span>3 <span class="org-string">"hello world ocaml ml F#"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"hello world ocaml ml"</span>
<span class="org-tuareg-font-lock-operator">#</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>rchop <span class="org-tuareg-font-lock-label">~n</span><span class="org-tuareg-font-lock-operator">:</span>13 <span class="org-string">"hello world ocaml ml F#"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"hello worl"</span>
<span class="org-tuareg-font-lock-operator">#</span>

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>lchop <span class="org-tuareg-font-lock-label">~n</span><span class="org-tuareg-font-lock-operator">:</span>3 <span class="org-string">"hello world ocaml ml F#"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"lo world ocaml ml F#"</span>
<span class="org-tuareg-font-lock-operator">#</span> 
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>lchop <span class="org-tuareg-font-lock-label">~n</span><span class="org-tuareg-font-lock-operator">:</span>13 <span class="org-string">"hello world ocaml ml F#"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"caml ml F#"</span>    


<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>right <span class="org-string">"hello world ocaml ml F#"</span> 0 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">""</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>right <span class="org-string">"hello world ocaml ml F#"</span> 1 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"#"</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>right <span class="org-string">"hello world ocaml ml F#"</span> 5 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"ml F#"</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>right <span class="org-string">"hello world ocaml ml F#"</span> 10 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"caml ml F#"</span>
<span class="org-tuareg-font-lock-operator">#</span>       

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>left <span class="org-string">"hello world ocaml ml F#"</span> 0 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">""</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>left <span class="org-string">"hello world ocaml ml F#"</span> 1 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"h"</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>left <span class="org-string">"hello world ocaml ml F#"</span> 10 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"hello worl"</span>
<span class="org-tuareg-font-lock-operator">#</span>       

<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">String.</span>trim <span class="org-string">"    helllo world     "</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"helllo world"</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>strip <span class="org-tuareg-font-lock-label">~chars</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-string">".-?; "</span>  <span class="org-string">" .-....helllo world   ...;;;???  "</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"helllo world"</span>
<span class="org-tuareg-font-lock-operator">#</span> 


<span class="org-doc">(** Join, Concat, Repeat *)</span>
<span class="org-comment-delimiter">(******************************)</span>          

<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">String.</span>join <span class="org-string">", "</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"Mexico"</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"Honduras"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"Guatemala"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"Colombia"</span><span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Mexico, Honduras, Guatemala, Colombia"</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">String.</span>concat <span class="org-string">", "</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"Mexico"</span> <span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"Honduras"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"Guatemala"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"Colombia"</span><span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Mexico, Honduras, Guatemala, Colombia"</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>repeat <span class="org-string">"foobar"</span> 4 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"foobarfoobarfoobarfoobar"</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>repeat <span class="org-string">"foobar"</span> 4 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">String.</span>rev <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"raboofraboofraboofraboof"</span>
<span class="org-tuareg-font-lock-operator">#</span> 


<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">String.</span>split  <span class="org-string">"hello????world???ocaml"</span> <span class="org-tuareg-font-lock-label">~by</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-string">"?"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">*</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">"hello"</span><span class="org-tuareg-font-lock-operator">,</span> <span class="org-string">"???world???ocaml"</span><span class="org-tuareg-font-lock-operator">)</span>

<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">String.</span>nsplit  <span class="org-string">"hello????world???ocaml"</span> <span class="org-tuareg-font-lock-label">~by</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-string">"?"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"hello"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">""</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">""</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">""</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"world"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">""</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">""</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"ocaml"</span><span class="org-tuareg-font-lock-operator">]</span>

<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-doc">(** String X Characters         *)</span>
<span class="org-comment-delimiter">(******************************)</span>    

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>explode <span class="org-string">"foobar"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> char list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'f'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'o'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'o'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'b'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'r'</span><span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">#</span> 
  <span class="org-tuareg-font-lock-module">String.</span>implode <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'P'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'o'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'r'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'t'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'u'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'g'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'l'</span> <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Portugal"</span>
<span class="org-tuareg-font-lock-operator">#</span>     


<span class="org-doc">(** Lowercase / Uppercase  conversion *)</span>
<span class="org-comment-delimiter">(************************************)</span>        

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>uppercase <span class="org-string">"mexico"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"MEXICO"</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>lowercase <span class="org-string">"MEXICO"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"mexico"</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">String.</span>capitalize <span class="org-string">"mexico"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Mexico"</span>
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>capitalize <span class="org-string">"MEXICO"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"MEXICO"</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>uncapitalize <span class="org-string">"MEXICO"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"mEXICO"</span>
<span class="org-tuareg-font-lock-operator">#</span> 
  <span class="org-tuareg-font-lock-module">String.</span>uncapitalize <span class="org-string">"Mexico"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"mexico"</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-doc">(** Replace string              *)</span>
<span class="org-comment-delimiter">(******************************)</span>   

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>nreplace <span class="org-tuareg-font-lock-label">~str</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-string">"On the long highway to Mexico"</span> <span class="org-tuareg-font-lock-label">~sub</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-string">"Mexico"</span> <span class="org-tuareg-font-lock-label">~by</span><span class="org-tuareg-font-lock-operator">:</span><span class="org-string">"Guatemala"</span> <span class="org-tuareg-font-double-colon">;;</span> 
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"On the long highway to Guatemala"</span>
<span class="org-tuareg-font-lock-operator">#</span> 


<span class="org-doc">(** Predicates                  *)</span>
<span class="org-comment-delimiter">(******************************)</span>


<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">String.</span>starts_with  <span class="org-string">"prefix something else"</span> <span class="org-string">"prefix"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>
<span class="org-tuareg-font-lock-operator">#</span> 
  <span class="org-tuareg-font-lock-module">String.</span>starts_with <span class="org-string">"prefix"</span> <span class="org-string">"prefix something else"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span>


<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">String.</span>ends_with  <span class="org-string">"something else suffix"</span> <span class="org-string">"suffix"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>ends_with  <span class="org-string">"something else suff"</span> <span class="org-string">"suffix"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span>
<span class="org-tuareg-font-lock-operator">#</span>   

<span class="org-doc">(** Type Casting *)</span>
<span class="org-comment-delimiter">(******************************)</span>

<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">String.</span>of_char <span class="org-string">'x'</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"x"</span>
<span class="org-tuareg-font-lock-operator">#</span>     
<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">String.</span>of_int 10023 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"10023"</span>
<span class="org-tuareg-font-lock-operator">#</span> 
  <span class="org-tuareg-font-lock-module">String.</span>of_float 203.23 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"203.23"</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">String.</span>of_list <span class="org-tuareg-font-lock-operator">[</span><span class="org-string">'T'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'e'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'x'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'a'</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">'s'</span><span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"Texas"</span>
</pre>
</div>
</div>
</li>

<li><a id="sec-1-12-1-5" name="sec-1-12-1-5"></a>BatOption<br  /><div class="outline-text-5" id="text-1-12-1-5">
<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">#</span>require <span class="org-string">"batteries"</span><span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">Option</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">BatOption</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">Option</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">BatOption</span>                                                         <span class="org-tuareg-font-lock-operator">&gt;</span> 
<span class="org-tuareg-font-lock-module">Option.</span>some 100 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Some</span> 100                                                         <span class="org-tuareg-font-lock-operator">&gt;</span> 

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Option.</span>map <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a option <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>                                  <span class="org-tuareg-font-lock-operator">&gt;</span> 

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Option.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 2 <span class="org-tuareg-font-lock-operator">*</span> x<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">Some</span> 20<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Some</span> 40                                                          <span class="org-tuareg-font-lock-operator">&gt;</span> 

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Option.</span>map <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 2 <span class="org-tuareg-font-lock-operator">*</span> x<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-constructor">None</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">None</span>                                                             <span class="org-tuareg-font-lock-operator">&gt;</span> 

<span class="org-doc">(** Similar to Maybe from Haskell Maybe monad *)</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">Option.</span>bind <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a option <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b option<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>  

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>find <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&gt;</span> 10<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-constructor">Exception</span><span class="org-tuareg-font-lock-operator">:</span> <span class="org-builtin">Not_found</span>.                                                             <span class="org-tuareg-font-lock-operator">&gt;</span> 

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-module">List.</span>find <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&gt;</span> 3<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 4                                                                       <span class="org-tuareg-font-lock-operator">&gt;</span>                         

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">safe_find</span><span class="org-variable-name"> p xs</span>  <span class="org-tuareg-font-lock-operator">=</span> 
    <span class="org-keyword">try</span> <span class="org-tuareg-font-lock-constructor">Some</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">List.</span>find p xs<span class="org-tuareg-font-lock-operator">)</span>
    <span class="org-keyword">with</span> <span class="org-builtin">Not_found</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-constructor">None</span>
<span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">safe_find</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> bool<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a list <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span> 


<span class="org-tuareg-font-lock-operator">&gt;</span> safe_find <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&gt;</span> 3<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">Some</span> 4                                                           <span class="org-tuareg-font-lock-operator">&gt;</span> 

<span class="org-tuareg-font-lock-operator">&gt;</span> safe_find <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">&gt;</span> 30<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 2<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 4<span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int option <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-constructor">None</span>                                                             <span class="org-tuareg-font-lock-operator">&gt;</span>
</pre>
</div>
</div>
</li>

<li><a id="sec-1-12-1-6" name="sec-1-12-1-6"></a>BatRef<br  /><div class="outline-text-5" id="text-1-12-1-6">
<p>
It provide combinators to manipulate mutable references.
</p>

<div class="org-src-container">

<pre class="src src-ocaml"> <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>require <span class="org-string">"batteries"</span> <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">open </span><span class="org-tuareg-font-lock-module">Batteries</span> <span class="org-tuareg-font-double-colon">;;</span>

 <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>show <span class="org-tuareg-font-lock-constructor">BatRef</span> <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">BatRef</span> <span class="org-tuareg-font-lock-operator">:</span>
   <span class="org-tuareg-font-lock-governing">sig</span>
     <span class="org-tuareg-font-lock-governing">type</span> <span class="org-type">'a t</span> <span class="org-tuareg-font-lock-operator">=</span> 'a <span class="org-builtin">ref</span>
     <span class="org-tuareg-font-lock-governing">external</span> <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"%makemutable"</span>
     <span class="org-tuareg-font-lock-governing">external</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">!</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"%field0"</span>
     <span class="org-tuareg-font-lock-governing">external</span> <span class="org-tuareg-font-lock-operator">(</span> <span class="org-tuareg-font-lock-operator">:=</span> <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"%setfield0"</span>
     <span class="org-tuareg-font-lock-governing">external</span> <span class="org-function-name">set</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"%setfield0"</span>
     <span class="org-tuareg-font-lock-governing">external</span> <span class="org-function-name">get</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">=</span> <span class="org-string">"%field0"</span>
     <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">copy</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-builtin">ref</span>
     <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">pre</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
     <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">post</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
     <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">swap</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
     <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">post_incr</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> int
     <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">post_decr</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> int
     <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">pre_incr</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> int
     <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">pre_decr</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> int
     <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">protect</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>unit <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'b
     <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">toggle</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
     <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">oset</span> <span class="org-tuareg-font-lock-operator">:</span> 'a option <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
     <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">oget_exn</span> <span class="org-tuareg-font-lock-operator">:</span> 'a option <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a
     <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">print</span> <span class="org-tuareg-font-lock-operator">:</span>
       <span class="org-tuareg-font-lock-operator">(</span>'b <span class="org-tuareg-font-lock-module">BatInnerIO.</span>output <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> unit<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span>
       'b <span class="org-tuareg-font-lock-module">BatInnerIO.</span>output <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a t <span class="org-tuareg-font-lock-operator">-&gt;</span> unit
     <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">compare</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-module">BatOrd.</span>comp <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-module">BatOrd.</span>comp
     <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">ord</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-module">BatOrd.</span>ord <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-module">BatOrd.</span>ord
     <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">eq</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-tuareg-font-lock-module">BatOrd.</span>eq <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-module">BatOrd.</span>eq
   <span class="org-tuareg-font-lock-governing">end</span>
 <span class="org-tuareg-font-lock-operator">#</span> 

 <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-builtin">ref</span> 10.223 <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">x</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-module">Batteries.</span><span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 10.223<span class="org-tuareg-font-lock-operator">}</span>
 <span class="org-tuareg-font-lock-operator">#</span> 

 <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Ref.</span>set x 100.23 <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

 <span class="org-tuareg-font-lock-operator">#</span> x <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-module">Batteries.</span><span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 100.23<span class="org-tuareg-font-lock-operator">}</span>
 <span class="org-tuareg-font-lock-operator">#</span> 

 <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Ref.</span>get x <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> float <span class="org-tuareg-font-lock-operator">=</span> 100.23
 <span class="org-tuareg-font-lock-operator">#</span> 

 <span class="org-comment-delimiter">(**************************************)</span>

 <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">a</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-builtin">ref</span> 1000 <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">a</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Batteries.</span><span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 1000<span class="org-tuareg-font-lock-operator">}</span>
 <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">b</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-builtin">ref</span> 200 <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">b</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Batteries.</span><span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 200<span class="org-tuareg-font-lock-operator">}</span>
 <span class="org-tuareg-font-lock-operator">#</span> 
   <span class="org-tuareg-font-lock-module">Ref.</span>swap a b <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
 <span class="org-tuareg-font-lock-operator">#</span> a <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Batteries.</span><span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 200<span class="org-tuareg-font-lock-operator">}</span>
 <span class="org-tuareg-font-lock-operator">#</span> b <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Batteries.</span><span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 1000<span class="org-tuareg-font-lock-operator">}</span>
 <span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-comment-delimiter">(**************************************)</span>    

 <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">myflag</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-builtin">ref</span> <span class="org-constant">false</span> <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">myflag</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-module">Batteries.</span><span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span><span class="org-tuareg-font-lock-operator">}</span>
 <span class="org-tuareg-font-lock-operator">#</span> 
   <span class="org-tuareg-font-lock-module">Ref.</span>toggle myflag <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

 <span class="org-tuareg-font-lock-operator">#</span> myflag <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-module">Batteries.</span><span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span><span class="org-tuareg-font-lock-operator">}</span>
 <span class="org-tuareg-font-lock-operator">#</span> 

 <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Ref.</span>toggle myflag <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
 <span class="org-tuareg-font-lock-operator">#</span> myflag <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-module">Batteries.</span><span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">false</span><span class="org-tuareg-font-lock-operator">}</span>
 <span class="org-tuareg-font-lock-operator">#</span> 


 <span class="org-comment-delimiter">(***************************************)</span>

 <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-builtin">ref</span>  100 <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">x</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Batteries.</span><span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 100<span class="org-tuareg-font-lock-operator">}</span>
 <span class="org-tuareg-font-lock-operator">#</span> 

 <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Ref.</span>pre <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> 'a <span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
 <span class="org-tuareg-font-lock-operator">#</span> 

 <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Ref.</span>pre x <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">+</span> 30<span class="org-tuareg-font-lock-operator">)</span>  <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 130

 <span class="org-tuareg-font-lock-operator">#</span> x <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Batteries.</span><span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 130<span class="org-tuareg-font-lock-operator">}</span>
 <span class="org-tuareg-font-lock-operator">#</span> 


 <span class="org-comment-delimiter">(***************************************)</span>

 <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-builtin">ref</span> 100 <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">x</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Batteries.</span><span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 100<span class="org-tuareg-font-lock-operator">}</span>
 <span class="org-tuareg-font-lock-operator">#</span> 
   <span class="org-tuareg-font-lock-module">Ref.</span>post x <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">+</span> 30<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 100
 <span class="org-tuareg-font-lock-operator">#</span> x <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Batteries.</span><span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 130<span class="org-tuareg-font-lock-operator">}</span>
 <span class="org-tuareg-font-lock-operator">#</span> 

 <span class="org-comment-delimiter">(***************************************)</span>

 <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">idx</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-builtin">ref</span> 0 <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">idx</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Batteries.</span><span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 0<span class="org-tuareg-font-lock-operator">}</span>
 <span class="org-tuareg-font-lock-operator">#</span> 

 <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Ref.</span>post_incr idx <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 0

 <span class="org-tuareg-font-lock-operator">#</span> idx <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Batteries.</span><span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 1<span class="org-tuareg-font-lock-operator">}</span>
 <span class="org-tuareg-font-lock-operator">#</span> 

 <span class="org-comment-delimiter">(***************************************)</span>

 <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">idx</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-builtin">ref</span> 0 <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">idx</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-module">Batteries.</span><span class="org-builtin">ref</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">{</span>contents <span class="org-tuareg-font-lock-operator">=</span> 0<span class="org-tuareg-font-lock-operator">}</span>
 <span class="org-tuareg-font-lock-operator">#</span> 

 <span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">Ref.</span>pre_incr idx <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1
 <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">!</span>idx <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1
 <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Ref.</span>pre_incr idx <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 2
 <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">!</span>idx <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 2
 <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Ref.</span>pre_incr idx <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 3
 <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">!</span>idx <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 3
 <span class="org-tuareg-font-lock-operator">#</span>
</pre>
</div>
</div>
</li>

<li><a id="sec-1-12-1-7" name="sec-1-12-1-7"></a>BatFiles<br  /><div class="outline-text-5" id="text-1-12-1-7">
<p>
The module BatFile defines combinators for file manipulation.
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-doc">(** Documentation: line_of name reads the contents of file name as </span>
<span class="org-doc">an enumeration of lines. The file is automatically closed once the </span>
<span class="org-doc">last line has been reached or the enumeration is garbage-collected.</span>
<span class="org-doc">*)</span>
<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">BatFile.</span>lines_of <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string <span class="org-tuareg-font-lock-module">BatEnum.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">BatFile.</span>lines_of <span class="org-string">"/etc/protocols"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-module">BatEnum.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span>abstr<span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">lines_enum</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">BatFile.</span>lines_of <span class="org-string">"/etc/protocols"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">lines_enum</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-module">BatEnum.</span>t <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span>abstr<span class="org-tuareg-font-lock-operator">&gt;</span>
<span class="org-tuareg-font-lock-operator">#</span> 


<span class="org-tuareg-font-lock-operator">#</span> lines_enum <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">BatEnum.</span>take 5 
  <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">BatList.</span>of_enum 
  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"# Internet (IP) protocols"</span><span class="org-tuareg-font-lock-operator">;</span> <span class="org-string">"#"</span><span class="org-tuareg-font-lock-operator">;</span>
 <span class="org-string">"# Updated from http://www.iana.org/assignments/protocol-numbers and other"</span><span class="org-tuareg-font-lock-operator">;</span>
 <span class="org-string">"# sources."</span><span class="org-tuareg-font-lock-operator">;</span>
 <span class="org-string">"# New protocols will be added on request if they have been officially"</span><span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> lines_enum <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">BatEnum.</span>take 5 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">BatList.</span>of_enum <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> string list <span class="org-tuareg-font-lock-operator">=</span>
<span class="org-tuareg-font-lock-operator">[</span><span class="org-string">"icmp\t1\tICMP\t\t# internet control message protocol"</span><span class="org-tuareg-font-lock-operator">;</span>
 <span class="org-string">"igmp\t2\tIGMP\t\t# Internet Group Management"</span><span class="org-tuareg-font-lock-operator">;</span>
 <span class="org-string">"ggp\t3\tGGP\t\t# gateway-gateway protocol"</span><span class="org-tuareg-font-lock-operator">;</span>
 <span class="org-string">"ipencap\t4\tIP-ENCAP\t# IP encapsulated in IP (officially ``IP'')"</span><span class="org-tuareg-font-lock-operator">;</span>
 <span class="org-string">"st\t5\tST\t\t# ST datagram mode"</span><span class="org-tuareg-font-lock-operator">]</span>
<span class="org-tuareg-font-lock-operator">#</span> 

<span class="org-tuareg-font-lock-operator">#</span> lines_enum <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">BatEnum.</span>take 4 <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">BatEnum.</span>iter print_endline <span class="org-tuareg-font-double-colon">;;</span>
tcp 6   <span class="org-tuareg-font-lock-constructor">TCP</span>     <span class="org-tuareg-font-lock-operator">#</span> transmission control protocol
egp 8   <span class="org-tuareg-font-lock-constructor">EGP</span>     <span class="org-tuareg-font-lock-operator">#</span> exterior gateway protocol
igp 9   <span class="org-tuareg-font-lock-constructor">IGP</span>     <span class="org-tuareg-font-lock-operator">#</span> any <span class="org-keyword">private</span> interior gateway <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">Cisco</span><span class="org-tuareg-font-lock-operator">)</span>
pup 12  <span class="org-tuareg-font-lock-constructor">PUP</span>     <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-constructor">PARC</span> universal packet protocol
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
<span class="org-tuareg-font-lock-operator">#</span> 


<span class="org-doc">(** size_of name returns the size of file name in bytes. *)</span>
<span class="org-tuareg-font-lock-operator">#</span>  <span class="org-tuareg-font-lock-module">BatFile.</span>size_of <span class="org-string">"/etc/magic"</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 111
</pre>
</div>
</div>
</li></ol>
</div>
</div>

<div id="outline-container-sec-1-13" class="outline-3">
<h3 id="sec-1-13"><span class="section-number-3">1.13</span> Miscellaneous</h3>
<div class="outline-text-3" id="text-1-13">
</div><div id="outline-container-sec-1-13-1" class="outline-4">
<h4 id="sec-1-13-1"><span class="section-number-4">1.13.1</span> Changing Toploop Prompt</h4>
<div class="outline-text-4" id="text-1-13-1">
<p>
It is possible to change the Toploop default prompt # to &gt; for example:
</p>

<p>
From: <a href="http://stackoverflow.com/questions/6158596/setting-the-prompt-in-an-ocaml-custom-toplevel">Setting the prompt in an OCaml custom toplevel</a>
</p>

<pre class="example">
# Toploop.read_interactive_input := 
        let old = !Toploop.read_interactive_input 
          in fun prompt buffer len -&gt; old "&gt; " buffer len ;;
- : unit = ()
&gt; 
&gt; 
&gt; 
&gt; let f x = 10.23 *. x ;;
val f : float -&gt; float = &lt;fun&gt;
&gt;
</pre>
</div>
</div>

<div id="outline-container-sec-1-13-2" class="outline-4">
<h4 id="sec-1-13-2"><span class="section-number-4">1.13.2</span> Adding Directives to Toploop Shell</h4>
<div class="outline-text-4" id="text-1-13-2">
<p>
The toploop, interpreter directives can be defined by the user to create customized commands. The code below can be put in thhe Ocaml startup file: ~/.ocamlinit.
</p>

<div class="org-src-container">

<pre class="src src-ocaml">    <span class="org-doc">(** [use_file mlfile]</span>

<span class="org-doc">        Equivalent to the directive:  </span>

<span class="org-doc">        # #use "myfile.ml"  ;;</span>

<span class="org-doc">        or</span>

<span class="org-doc">        # use_file "myfile.ml" ;;</span>

<span class="org-doc">        It can programatically load a file.</span>

<span class="org-doc">    *)</span>
    <span class="org-tuareg-font-lock-operator">#</span><span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">use_file</span><span class="org-variable-name"> mlfile</span> <span class="org-tuareg-font-lock-operator">=</span>
        <span class="org-tuareg-font-lock-module">Topdirs.</span>dir_use <span class="org-tuareg-font-lock-module">Format.</span>std_formatter  mlfile
    <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">use_file</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>


    <span class="org-doc">(** [use_module mlfile]</span>

<span class="org-doc">        Equivalent to directive </span>

<span class="org-doc">        # #mod_use "afile.ml" ;;</span>

<span class="org-doc">        # use_module "afile.ml" ;; </span>

<span class="org-doc">        Load the file as module, it will load the file as a module named,</span>
<span class="org-doc">        Afile</span>
<span class="org-doc">     *)</span>                  
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">use_module</span><span class="org-variable-name"> mlfile</span> <span class="org-tuareg-font-lock-operator">=</span>
            <span class="org-tuareg-font-lock-module">Toploop.</span>mod_use_file <span class="org-tuareg-font-lock-module">Format.</span>std_formatter mlfile <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">use_module</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>    

    <span class="org-doc">(**  Example, let the file dummy.ml have the content:</span>


<span class="org-doc">        let f x = 10 * x </span>

<span class="org-doc">        let add_functions f1 f2 x =</span>
<span class="org-doc">            (f1 x) + (f2 x) </span>


<span class="org-doc">        let listdir path = </span>
<span class="org-doc">            path</span>
<span class="org-doc">            |&gt; Sys.readdir</span>
<span class="org-doc">            |&gt; Array.to_list        </span>
<span class="org-doc">    *)</span>

    <span class="org-tuareg-font-lock-operator">#</span> use_file <span class="org-string">"dummy.ml"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">add_functions</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">listdir</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

    <span class="org-tuareg-font-lock-operator">#</span> f 3 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 30

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">g</span> <span class="org-tuareg-font-lock-operator">=</span> add_functions <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">*</span> 3<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">+</span> 5<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">g</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>map g <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 5 <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>9<span class="org-tuareg-font-lock-operator">;</span> 17<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 


    <span class="org-tuareg-font-lock-operator">#</span>  use_module <span class="org-string">"dummy.ml"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">module</span> <span class="org-tuareg-font-lock-module">Dummy</span> <span class="org-tuareg-font-lock-operator">:</span>
      <span class="org-tuareg-font-lock-governing">sig</span>
        <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int
        <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">add_functions</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int
        <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">listdir</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string list
      <span class="org-tuareg-font-lock-governing">end</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> bool <span class="org-tuareg-font-lock-operator">=</span> <span class="org-constant">true</span>
    <span class="org-tuareg-font-lock-operator">#</span>     

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">Dummy.</span>f 3 <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 30

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">f</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Dummy.</span>add_functions <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">*</span> 3<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">x</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> x <span class="org-tuareg-font-lock-operator">+</span> 5<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-module">List.</span>map f <span class="org-tuareg-font-lock-operator">[</span>1<span class="org-tuareg-font-lock-operator">;</span> 3<span class="org-tuareg-font-lock-operator">;</span> 5 <span class="org-tuareg-font-lock-operator">]</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">[</span>9<span class="org-tuareg-font-lock-operator">;</span> 17<span class="org-tuareg-font-lock-operator">;</span> 25<span class="org-tuareg-font-lock-operator">]</span>
    <span class="org-tuareg-font-lock-operator">#</span> 


    <span class="org-comment-delimiter">(*******************************************************)</span>

    <span class="org-doc">(** Execute System Commands  *)</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">run_cmd</span><span class="org-variable-name"> cmd</span> <span class="org-tuareg-font-lock-operator">=</span>
        <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">_</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Sys.</span>command cmd <span class="org-tuareg-font-lock-governing">in</span> <span class="org-tuareg-font-lock-operator">()</span>
      <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">run_cmd</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span>

    <span class="org-tuareg-font-lock-operator">#</span>  run_cmd <span class="org-string">"uname -r"</span> <span class="org-tuareg-font-double-colon">;;</span>
    3.19.0<span class="org-tuareg-font-lock-operator">-</span>21<span class="org-tuareg-font-lock-operator">-</span>generic
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-doc">(** Add directive that doesn't require argument, like</span>
<span class="org-doc">        #pwd ;;</span>
<span class="org-doc">        #version ;;</span>
<span class="org-doc">    *)</span>   
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">add_directive_none</span><span class="org-variable-name"> command_name func</span> <span class="org-tuareg-font-lock-operator">=</span>
      <span class="org-tuareg-font-lock-module">Hashtbl.</span>add
        <span class="org-tuareg-font-lock-module">Toploop.</span>directive_table
        command_name
          <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Toploop.</span><span class="org-tuareg-font-lock-constructor">Directive_none</span> func<span class="org-tuareg-font-lock-operator">)</span>  <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">add_directive_none</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>unit <span class="org-tuareg-font-lock-operator">-&gt;</span> unit<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>



    <span class="org-doc">(** Add directive that requires a string argument, like</span>

<span class="org-doc">      #cat "string_utils.ml" ;;</span>
<span class="org-doc">      #use "something.ml" ;;</span>

<span class="org-doc">    *)</span> 
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">add_directive_str</span><span class="org-variable-name"> command_name func</span> <span class="org-tuareg-font-lock-operator">=</span> 
          <span class="org-tuareg-font-lock-module">Hashtbl.</span>add
            <span class="org-tuareg-font-lock-module">Toploop.</span>directive_table
            command_name
              <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Toploop.</span><span class="org-tuareg-font-lock-constructor">Directive_string</span>  func<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>  
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">add_directive_str</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>string <span class="org-tuareg-font-lock-operator">-&gt;</span> unit<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>


    <span class="org-doc">(** Show Current Directories *)</span> 
    add_directive_none <span class="org-string">"pwd"</span>
          <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> print_endline  <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Sys.</span>getcwd <span class="org-tuareg-font-lock-operator">())</span> <span class="org-tuareg-font-lock-operator">)</span><span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>pwd <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">/</span>home<span class="org-tuareg-font-lock-operator">/</span>tux
    <span class="org-tuareg-font-lock-operator">#</span> 


    <span class="org-doc">(** List all files in current directory *)</span>
    <span class="org-tuareg-font-lock-operator">#</span> add_directive_none <span class="org-string">"ls"</span>
          <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-module">Sys.</span>readdir <span class="org-string">"."</span> <span class="org-tuareg-font-lock-operator">|&gt;</span> <span class="org-tuareg-font-lock-module">Array.</span>iter print_endline <span class="org-tuareg-font-lock-operator">)</span><span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
    <span class="org-tuareg-font-lock-operator">#</span> 

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>ls <span class="org-tuareg-font-double-colon">;;</span>
    connect.sh<span class="org-tuareg-font-lock-operator">~</span>
    .utop<span class="org-tuareg-font-lock-operator">-</span>history
    .davfs2
    .emacs.d
    hsk.hs<span class="org-tuareg-font-lock-operator">~</span>
    .atftp_history
    <span class="org-tuareg-font-lock-operator">...</span>

    <span class="org-doc">(** Execute Shell Command *)</span>

    <span class="org-tuareg-font-lock-operator">#</span> add_directive_str  <span class="org-string">"sh"</span>
       <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-variable-name">command</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> run_cmd command  <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

    <span class="org-tuareg-font-lock-operator">#</span>sh <span class="org-string">"pwd"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">/</span>home<span class="org-tuareg-font-lock-operator">/</span>tux

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>sh <span class="org-string">"cat /etc/protocols"</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-constructor">Internet</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-constructor">IP</span><span class="org-tuareg-font-lock-operator">)</span> protocols
    <span class="org-tuareg-font-lock-operator">#</span>
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-constructor">Updated</span> from http<span class="org-tuareg-font-lock-operator">://</span>www.iana.org<span class="org-tuareg-font-lock-operator">/</span>assignments<span class="org-tuareg-font-lock-operator">/</span>protocol<span class="org-tuareg-font-lock-operator">-</span>numbers <span class="org-tuareg-font-lock-governing">and</span> <span class="org-function-name">other</span>
    <span class="org-tuareg-font-lock-operator">#</span> sources.
    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-constructor">New</span> protocols will be added on request <span class="org-keyword">if</span> they have been officially
    <span class="org-tuareg-font-lock-operator">#</span> assigned by <span class="org-tuareg-font-lock-constructor">IANA</span> <span class="org-tuareg-font-lock-governing">and</span> <span class="org-function-name">are</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">not</span><span class="org-variable-name"> historical</span>.    
    <span class="org-tuareg-font-lock-operator">...</span>

    <span class="org-doc">(** Open Current Directory in File Manager</span>

<span class="org-doc">        It uses the pcmanfm file manager in Linux, but it can be customized</span>
<span class="org-doc">        to run any file manager.</span>
<span class="org-doc">    *)</span>
    add_directive_none <span class="org-string">"open_dir"</span>
         <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> run_cmd <span class="org-string">"pcmanfm"</span><span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>open_dir <span class="org-tuareg-font-double-colon">;;</span>


    <span class="org-doc">(** </span>
<span class="org-doc">       &gt;&gt; Summary run the code in the clipboard.</span>

<span class="org-doc">       Write the content of clipboard to the file /tmp/tmp.ml and execute</span>
<span class="org-doc">       it. It uses the Linux app xclip to get content of clipboard.</span>

<span class="org-doc">       The advantage of this directive is that the user doesn't need to</span>
<span class="org-doc">       paste the code manually clicking.</span>

<span class="org-doc">       It only needs a simple paste: #paste ;; to run the code </span>
<span class="org-doc">       from clipboard.    </span>

<span class="org-doc">    *)</span>

    <span class="org-tuareg-font-lock-operator">#</span> add_directive_none <span class="org-string">"paste"</span>
        <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">-&gt;</span>
          run_cmd <span class="org-string">"xclip -o -clipboard &gt; /tmp/tmp.ml"</span> <span class="org-tuareg-font-lock-operator">;</span>
          use_file <span class="org-string">"/tmp/tmp.ml"</span>         
          <span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>

    <span class="org-tuareg-font-lock-operator">#</span> <span class="org-tuareg-font-lock-operator">#</span>paste <span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">f</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">add_functions</span> <span class="org-tuareg-font-lock-operator">:</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-operator">(</span>'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> 'a <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">listdir</span> <span class="org-tuareg-font-lock-operator">:</span> string <span class="org-tuareg-font-lock-operator">-&gt;</span> string list <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>
    <span class="org-tuareg-font-lock-operator">#</span> 


    <span class="org-doc">(** Load the file _local.ml in current directory </span>
<span class="org-doc">        that can install pretty printers, load projects files ...</span>

<span class="org-doc">        It can be executed with the command: #local ;;</span>
<span class="org-doc">    *)</span>

    <span class="org-tuareg-font-lock-operator">#</span> add_directive_none <span class="org-string">"local"</span>
      <span class="org-tuareg-font-lock-operator">(</span><span class="org-keyword">fun</span> <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">-&gt;</span> use_file <span class="org-string">"_local.ml"</span> <span class="org-tuareg-font-lock-operator">)</span><span class="org-tuareg-font-double-colon">;;</span>
    <span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> unit <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">()</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-13-3" class="outline-4">
<h4 id="sec-1-13-3"><span class="section-number-4">1.13.3</span> Shell Script in Ocaml</h4>
<div class="outline-text-4" id="text-1-13-3">
<p>
Ocaml can be a great script language with a high level composability, modularity and composability thanks to first class functions, currying (partial application of a function), higher order functions and the module system. Ocaml scripts can be executed in batch mode, be compiled to bytecode or machine code and also cross compiled.   
</p>

<p>
Script Template:
</p>

<p>
File: <i>script.ml</i>
</p>

<div class="org-src-container">

<pre class="src src-ocaml"> <span class="org-tuareg-font-lock-operator">#!/</span>usr<span class="org-tuareg-font-lock-operator">/</span>bin<span class="org-tuareg-font-lock-operator">/</span>env ocaml 
<span class="org-doc">(**</span>

<span class="org-doc">    Note that: there is no main function, entry point in Ocaml lang, </span>
<span class="org-doc">    a function can run at any point of a program.</span>
<span class="org-doc">*)</span>

 <span class="org-tuareg-font-lock-operator">#</span>load <span class="org-string">"unix.cma"</span> <span class="org-tuareg-font-double-colon">;;</span>
 <span class="org-tuareg-font-lock-operator">#</span>load <span class="org-string">"str.cma"</span> <span class="org-tuareg-font-double-colon">;;</span>

<span class="org-tuareg-font-lock-governing">let</span> <span class="org-function-name">main</span><span class="org-variable-name"> </span><span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">=</span>        
    <span class="org-keyword">if</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Array.</span>length <span class="org-tuareg-font-lock-module">Sys.</span>argv<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> 1 
    <span class="org-keyword">then</span> print_endline <span class="org-string">"No arguments given"</span>
    <span class="org-keyword">else</span> <span class="org-tuareg-font-lock-operator">(</span>
        print_endline <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">"The argument is : "</span> <span class="org-tuareg-font-lock-operator">^</span> <span class="org-tuareg-font-lock-module">Sys.</span>argv.<span class="org-tuareg-font-lock-operator">(</span>1<span class="org-tuareg-font-lock-operator">))</span> <span class="org-tuareg-font-lock-operator">;</span>
        print_endline <span class="org-tuareg-font-lock-operator">(</span><span class="org-string">"All parameter : "</span> <span class="org-tuareg-font-lock-operator">^</span> <span class="org-tuareg-font-lock-module">String.</span>concat <span class="org-string">" "</span> <span class="org-tuareg-font-lock-operator">(</span><span class="org-tuareg-font-lock-module">Array.</span>to_list <span class="org-tuareg-font-lock-module">Sys.</span>argv<span class="org-tuareg-font-lock-operator">))</span>
    <span class="org-tuareg-font-lock-operator">)</span>


<span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">=</span>
    <span class="org-keyword">if</span> <span class="org-tuareg-font-lock-operator">not</span> <span class="org-tuareg-font-lock-operator">!</span><span class="org-tuareg-font-lock-module">Sys.</span>interactive 
    <span class="org-keyword">then</span> main <span class="org-tuareg-font-lock-operator">()</span>   <span class="org-doc">(** If it is being run in batch mode, run main *)</span>
    <span class="org-keyword">else</span> <span class="org-tuareg-font-lock-operator">()</span>        <span class="org-doc">(** If ocaml is being run in interactive mode, It doesn't run main *)</span>
</pre>
</div>

<p>
Running the script:
</p>

<div class="org-src-container">

<pre class="src src-bash">$ ocaml script.ml 
No arguments given

$ ocaml script.ml run
The argument is : run
All parameter : script.ml run

$ ocaml script.ml run make install
The argument is : run
All parameter : script.ml run make install

 ## Or

$ chmod +x script.ml 

$ ./script.ml run
The argument is : run
All parameter : ./script.ml run

$ ./script.ml make
The argument is : make
All parameter : ./script.ml make
</pre>
</div>

<p>
Loading the Script in the Toplevel for debugging, testing and interactively development:
</p>

<pre class="example">
$ rlwrap ocaml
        OCaml version 4.02.1

# #use "script.ml" ;;
val main : unit -&gt; unit = &lt;fun&gt;

# main () ;;
No arguments given
- : unit = ()
# 

#  Sys.argv ;;
- : string array = [|"/home/tux/.opam/4.02.1/bin/ocaml"|]
#
</pre>

<p>
See also:
</p>

<ul class="org-ul">
<li><a href="https://blogs.janestreet.com/ocaml-as-a-scripting-language/">OCaml as a scripting language - by Yaron Minsky</a>
</li>

<li><a href="https://github.com/realworldocaml/scripts">Command-line utilities for Real World OCaml</a>
</li>

<li><a href="http://blog.enfranchisedmind.com/2006/05/ocaml-the-scripting-language/">Ocaml the scripting language - blog Enfranchised Mind</a>
</li>

<li><a href="https://www.youtube.com/watch?v=hXiz2_VlwMU">Video  - OCAML Tutorial 32/33: OCAML Scripting (OCAML Shell Scripts) by Dr Noureddin Sadawi</a>
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-1-13-4" class="outline-4">
<h4 id="sec-1-13-4"><span class="section-number-4">1.13.4</span> Debugging</h4>
<div class="outline-text-4" id="text-1-13-4">
<p>
Ocaml has many features that makes debugging easier like:
</p>

<ul class="org-ul">
<li>Toplevel debugging: Just type the functions in the toplevel and see what they return.
</li>
<li>Print inside functions
</li>
<li>Trace function calls
</li>
</ul>

<p>
<b>Print Inside Function</b>
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-variable-name">fibonacci</span> <span class="org-tuareg-font-lock-operator">=</span> 
      <span class="org-keyword">function</span>
      <span class="org-tuareg-font-lock-operator">|</span> 0 <span class="org-tuareg-font-lock-operator">-&gt;</span> 1
      <span class="org-tuareg-font-lock-operator">|</span> 1 <span class="org-tuareg-font-lock-operator">-&gt;</span> 1
      <span class="org-tuareg-font-lock-operator">|</span> n <span class="org-tuareg-font-lock-operator">-&gt;</span> fibonacci <span class="org-tuareg-font-lock-operator">(</span>n<span class="org-tuareg-font-lock-operator">-</span>1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">+</span> fibonacci <span class="org-tuareg-font-lock-operator">(</span>n<span class="org-tuareg-font-lock-operator">-</span>2<span class="org-tuareg-font-lock-operator">)</span>
    <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fibonacci</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> fibonacci 0 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1
<span class="org-tuareg-font-lock-operator">&gt;</span> 
  fibonacci 3 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 3
<span class="org-tuareg-font-lock-operator">&gt;</span> fibonacci 13 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 377
<span class="org-tuareg-font-lock-operator">&gt;</span> 

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-variable-name">fibonacci</span> <span class="org-tuareg-font-lock-operator">=</span> 
      <span class="org-keyword">function</span>
      <span class="org-tuareg-font-lock-operator">|</span> 0 <span class="org-tuareg-font-lock-operator">-&gt;</span> 1
      <span class="org-tuareg-font-lock-operator">|</span> 1 <span class="org-tuareg-font-lock-operator">-&gt;</span> 1
      <span class="org-tuareg-font-lock-operator">|</span> n <span class="org-tuareg-font-lock-operator">-&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">fibn1</span> <span class="org-tuareg-font-lock-operator">=</span> fibonacci <span class="org-tuareg-font-lock-operator">(</span>n<span class="org-tuareg-font-lock-operator">-</span>1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-governing">in</span>
             <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">fibn2</span>  <span class="org-tuareg-font-lock-operator">=</span> fibonacci <span class="org-tuareg-font-lock-operator">(</span>n<span class="org-tuareg-font-lock-operator">-</span>2<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-governing">in</span>
             <span class="org-tuareg-font-lock-governing">let</span> <span class="org-variable-name">fibn</span> <span class="org-tuareg-font-lock-operator">=</span> fibn1 <span class="org-tuareg-font-lock-operator">+</span> fibn2 <span class="org-tuareg-font-lock-governing">in</span>
             <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-operator">()</span> <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-module">Printf.</span>printf <span class="org-string">"n = %d ; fib(n - 1) = %d ; fib (n - 2) = %d ; fib n = %d \n"</span> n fibn1 fibn2 fibn <span class="org-tuareg-font-lock-governing">in</span>
             fibn

  <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fibonacci</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>


<span class="org-tuareg-font-lock-operator">&gt;</span> fibonacci 0 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1
<span class="org-tuareg-font-lock-operator">&gt;</span> 
  fibonacci 1 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1


<span class="org-tuareg-font-lock-operator">&gt;</span> fibonacci 3 <span class="org-tuareg-font-double-colon">;;</span>
n <span class="org-tuareg-font-lock-operator">=</span> 2 <span class="org-tuareg-font-lock-operator">;</span> fib<span class="org-tuareg-font-lock-operator">(</span>n <span class="org-tuareg-font-lock-operator">-</span> 1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> 1 <span class="org-tuareg-font-lock-operator">;</span> fib <span class="org-tuareg-font-lock-operator">(</span>n <span class="org-tuareg-font-lock-operator">-</span> 2<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> 1 <span class="org-tuareg-font-lock-operator">;</span> fib n <span class="org-tuareg-font-lock-operator">=</span> 2 
n <span class="org-tuareg-font-lock-operator">=</span> 3 <span class="org-tuareg-font-lock-operator">;</span> fib<span class="org-tuareg-font-lock-operator">(</span>n <span class="org-tuareg-font-lock-operator">-</span> 1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> 2 <span class="org-tuareg-font-lock-operator">;</span> fib <span class="org-tuareg-font-lock-operator">(</span>n <span class="org-tuareg-font-lock-operator">-</span> 2<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> 1 <span class="org-tuareg-font-lock-operator">;</span> fib n <span class="org-tuareg-font-lock-operator">=</span> 3 
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 3
<span class="org-tuareg-font-lock-operator">&gt;</span>    

<span class="org-tuareg-font-lock-operator">&gt;</span> fibonacci 5 <span class="org-tuareg-font-double-colon">;;</span>
n <span class="org-tuareg-font-lock-operator">=</span> 2 <span class="org-tuareg-font-lock-operator">;</span> fib<span class="org-tuareg-font-lock-operator">(</span>n <span class="org-tuareg-font-lock-operator">-</span> 1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> 1 <span class="org-tuareg-font-lock-operator">;</span> fib <span class="org-tuareg-font-lock-operator">(</span>n <span class="org-tuareg-font-lock-operator">-</span> 2<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> 1 <span class="org-tuareg-font-lock-operator">;</span> fib n <span class="org-tuareg-font-lock-operator">=</span> 2 
n <span class="org-tuareg-font-lock-operator">=</span> 3 <span class="org-tuareg-font-lock-operator">;</span> fib<span class="org-tuareg-font-lock-operator">(</span>n <span class="org-tuareg-font-lock-operator">-</span> 1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> 2 <span class="org-tuareg-font-lock-operator">;</span> fib <span class="org-tuareg-font-lock-operator">(</span>n <span class="org-tuareg-font-lock-operator">-</span> 2<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> 1 <span class="org-tuareg-font-lock-operator">;</span> fib n <span class="org-tuareg-font-lock-operator">=</span> 3 
n <span class="org-tuareg-font-lock-operator">=</span> 2 <span class="org-tuareg-font-lock-operator">;</span> fib<span class="org-tuareg-font-lock-operator">(</span>n <span class="org-tuareg-font-lock-operator">-</span> 1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> 1 <span class="org-tuareg-font-lock-operator">;</span> fib <span class="org-tuareg-font-lock-operator">(</span>n <span class="org-tuareg-font-lock-operator">-</span> 2<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> 1 <span class="org-tuareg-font-lock-operator">;</span> fib n <span class="org-tuareg-font-lock-operator">=</span> 2 
n <span class="org-tuareg-font-lock-operator">=</span> 4 <span class="org-tuareg-font-lock-operator">;</span> fib<span class="org-tuareg-font-lock-operator">(</span>n <span class="org-tuareg-font-lock-operator">-</span> 1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> 3 <span class="org-tuareg-font-lock-operator">;</span> fib <span class="org-tuareg-font-lock-operator">(</span>n <span class="org-tuareg-font-lock-operator">-</span> 2<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> 2 <span class="org-tuareg-font-lock-operator">;</span> fib n <span class="org-tuareg-font-lock-operator">=</span> 5 
n <span class="org-tuareg-font-lock-operator">=</span> 2 <span class="org-tuareg-font-lock-operator">;</span> fib<span class="org-tuareg-font-lock-operator">(</span>n <span class="org-tuareg-font-lock-operator">-</span> 1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> 1 <span class="org-tuareg-font-lock-operator">;</span> fib <span class="org-tuareg-font-lock-operator">(</span>n <span class="org-tuareg-font-lock-operator">-</span> 2<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> 1 <span class="org-tuareg-font-lock-operator">;</span> fib n <span class="org-tuareg-font-lock-operator">=</span> 2 
n <span class="org-tuareg-font-lock-operator">=</span> 3 <span class="org-tuareg-font-lock-operator">;</span> fib<span class="org-tuareg-font-lock-operator">(</span>n <span class="org-tuareg-font-lock-operator">-</span> 1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> 2 <span class="org-tuareg-font-lock-operator">;</span> fib <span class="org-tuareg-font-lock-operator">(</span>n <span class="org-tuareg-font-lock-operator">-</span> 2<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> 1 <span class="org-tuareg-font-lock-operator">;</span> fib n <span class="org-tuareg-font-lock-operator">=</span> 3 
n <span class="org-tuareg-font-lock-operator">=</span> 5 <span class="org-tuareg-font-lock-operator">;</span> fib<span class="org-tuareg-font-lock-operator">(</span>n <span class="org-tuareg-font-lock-operator">-</span> 1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> 5 <span class="org-tuareg-font-lock-operator">;</span> fib <span class="org-tuareg-font-lock-operator">(</span>n <span class="org-tuareg-font-lock-operator">-</span> 2<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">=</span> 3 <span class="org-tuareg-font-lock-operator">;</span> fib n <span class="org-tuareg-font-lock-operator">=</span> 8 
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 8
<span class="org-tuareg-font-lock-operator">&gt;</span>
</pre>
</div>

<p>
<b>Tracing function calls</b>
</p>

<div class="org-src-container">

<pre class="src src-ocaml"><span class="org-comment-delimiter">(* </span><span class="org-comment">Generates the nth term of fibonnaci sequence </span><span class="org-comment-delimiter">*)</span>
<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-governing">let</span> <span class="org-tuareg-font-lock-governing">rec</span> <span class="org-variable-name">fibonacci</span> <span class="org-tuareg-font-lock-operator">=</span> 
      <span class="org-keyword">function</span>
      <span class="org-tuareg-font-lock-operator">|</span> 0 <span class="org-tuareg-font-lock-operator">-&gt;</span> 1
      <span class="org-tuareg-font-lock-operator">|</span> 1 <span class="org-tuareg-font-lock-operator">-&gt;</span> 1
      <span class="org-tuareg-font-lock-operator">|</span> n <span class="org-tuareg-font-lock-operator">-&gt;</span> fibonacci <span class="org-tuareg-font-lock-operator">(</span>n<span class="org-tuareg-font-lock-operator">-</span>1<span class="org-tuareg-font-lock-operator">)</span> <span class="org-tuareg-font-lock-operator">+</span> fibonacci <span class="org-tuareg-font-lock-operator">(</span>n<span class="org-tuareg-font-lock-operator">-</span>2<span class="org-tuareg-font-lock-operator">)</span>
    <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-governing">val</span> <span class="org-function-name">fibonacci</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">-&gt;</span> int <span class="org-tuareg-font-lock-operator">=</span> <span class="org-tuareg-font-lock-operator">&lt;</span><span class="org-keyword">fun</span><span class="org-tuareg-font-lock-operator">&gt;</span>

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">#</span>trace fibonacci <span class="org-tuareg-font-double-colon">;;</span>
fibonacci is now traced.
<span class="org-tuareg-font-lock-operator">&gt;</span> 

<span class="org-tuareg-font-lock-operator">&gt;</span> fibonacci 0 <span class="org-tuareg-font-double-colon">;;</span>
fibonacci <span class="org-tuareg-font-lock-operator">&lt;--</span> 0
fibonacci <span class="org-tuareg-font-lock-operator">--&gt;</span> 1
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 1

<span class="org-tuareg-font-lock-operator">&gt;</span> fibonacci 2 <span class="org-tuareg-font-double-colon">;;</span>
fibonacci <span class="org-tuareg-font-lock-operator">&lt;--</span> 2
fibonacci <span class="org-tuareg-font-lock-operator">&lt;--</span> 0
fibonacci <span class="org-tuareg-font-lock-operator">--&gt;</span> 1
fibonacci <span class="org-tuareg-font-lock-operator">&lt;--</span> 1
fibonacci <span class="org-tuareg-font-lock-operator">--&gt;</span> 1
fibonacci <span class="org-tuareg-font-lock-operator">--&gt;</span> 2
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 2

<span class="org-tuareg-font-lock-operator">&gt;</span> fibonacci 3 <span class="org-tuareg-font-double-colon">;;</span>
fibonacci <span class="org-tuareg-font-lock-operator">&lt;--</span> 3
fibonacci <span class="org-tuareg-font-lock-operator">&lt;--</span> 1
fibonacci <span class="org-tuareg-font-lock-operator">--&gt;</span> 1
fibonacci <span class="org-tuareg-font-lock-operator">&lt;--</span> 2
fibonacci <span class="org-tuareg-font-lock-operator">&lt;--</span> 0
fibonacci <span class="org-tuareg-font-lock-operator">--&gt;</span> 1
fibonacci <span class="org-tuareg-font-lock-operator">&lt;--</span> 1
fibonacci <span class="org-tuareg-font-lock-operator">--&gt;</span> 1
fibonacci <span class="org-tuareg-font-lock-operator">--&gt;</span> 2
fibonacci <span class="org-tuareg-font-lock-operator">--&gt;</span> 3
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 3
<span class="org-tuareg-font-lock-operator">&gt;</span> 

<span class="org-tuareg-font-lock-operator">&gt;</span> <span class="org-tuareg-font-lock-operator">#</span>untrace fibonacci <span class="org-tuareg-font-double-colon">;;</span>
fibonacci is no longer traced.
<span class="org-tuareg-font-lock-operator">&gt;</span> 

<span class="org-tuareg-font-lock-operator">&gt;</span> fibonacci 3 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 3
<span class="org-tuareg-font-lock-operator">&gt;</span> fibonacci 13 <span class="org-tuareg-font-double-colon">;;</span>
<span class="org-tuareg-font-lock-operator">-</span> <span class="org-tuareg-font-lock-operator">:</span> int <span class="org-tuareg-font-lock-operator">=</span> 377
<span class="org-tuareg-font-lock-operator">&gt;</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-13-5" class="outline-4">
<h4 id="sec-1-13-5"><span class="section-number-4">1.13.5</span> Generating OCaml html API Doc</h4>
<div class="outline-text-4" id="text-1-13-5">
<p>
It is very handy to have the documentation of installed packages locally available. The script provided here, that is written in Ocaml has only one dependency the PCRE library. It is a wrapper to ocamldoc that builds the html documentation of almost any package installed.
</p>

<p>
<a href="[[src/docgen.ml][docgen.ml">[[src/docgen.ml][docgen.ml</a>]]
</p>


<p>
List Installed Packages
</p>

<div class="org-src-container">

<pre class="src src-bash"> # List installed packages
 #  
$ opam list
 # Installed packages for 4.02.1:
async                  112.24.00  Monadic concurrency library
async_extra            112.24.00  Monadic concurrency library
async_kernel           112.24.00  Monadic concurrency library
async_unix             112.24.00  Monadic concurrency library
atd                        1.1.2  Parser for the ATD data format description langu
atdgen                     1.6.1  Generates efficient JSON serializers, deserializ
base-bigarray               base  Bigarray library distributed with the OCaml comp
base-bytes                  base  Bytes library distributed with the OCaml compile
base-threads                base  Threads library distributed with the OCaml compi
base-unix                   base  Unix library distributed with the OCaml compiler
base64                     2.0.0  Base64 encoding and decoding library
...


 ## Or

$ ocamlfind list
async               (version: 112.24.00)
async_extra         (version: 112.24.00)
async_kernel        (version: 112.24.00)
async_unix          (version: 112.24.00)
atd                 (version: 1.1.2)
atdgen              (version: 1.6.1)
base64              (version: 2.0.0)
batteries           (version: 2.3)
...
</pre>
</div>

<p>
Installation and Usage:
</p>

<pre class="example">
$ opam install pcre # or install pcre manually 

 # Put the script at any directory you want
$ mkdir ocamlapidoc
$ cd ocamlapidoc

 # Download the script
$ https://raw.githubusercontent.com/caiorss/Functional-Programming/master/ocaml/src/docgen.ml
$ chmod +x docgen.ml


$ ./docgen.ml 

Ocaml docgen wrapper to ocamlfind 
                  
        Usage:                                   
                                                 
        List all packages               
        $ ./docgen.ml -list                      
                                                 
        Generate package documentation           
        $ ./docgen.ml -doc &lt;name of package&gt;    

        Generate the documentation of all packages
        $ ./docgen.ml -doc all

        Get Package Directory
        $ ./docgen.ml -dir &lt;name of package&gt; 

        Generate package documentation and open index.html in the browser.
        $ ./docgen.ml -browser &lt;name of package&gt;
</pre>

<p>
Generating html documentation of Batteries package:
</p>

<pre class="example">
 ## Get the directory of the package batteries

$ ./docgen.ml -dir batteries
/home/tux/.opam/4.02.1/lib/batteries

 ## Generate the docs

$ pwd
/home/tux/windows/ocamlapidoc
 
$ ./docgen.ml -doc batteries

 # It will put the documentation inside the directory
 # ./batteries  

$ ls
batteries/  docgen.ml*

$ ls batteries/

BatInterfaces.Monad.html
BatInterfaces.OrderedType.html
BatInt.html
BatInt.Infix.html
BatInt.Safe_int.Compare.html
BatInt.Safe_int.html
BatInt.Safe_int.Infix.ht
...

 ## Open the documentation in the browser

$ chromium-browser batteries/index.html 

 ### Or use
 #
 #  Docgen uses chromium-browser hardcoded, but you can 
 #  change to whatever browser you wish
 $ ./docgen.ml -browser batteries
</pre>

<p>
<b>Generated Documentation Screenshots</b>
</p>

<p>
Documentation Directory
</p>


<div class="figure">
<p><img src="images/apidoc_directory.png" alt="apidoc_directory.png" />
</p>
</div>

<p>
Batteries modules:
</p>


<div class="figure">
<p><img src="images/apidoc1.png" alt="apidoc1.png" />
</p>
</div>

<p>
Batteries BattList module:
</p>


<div class="figure">
<p><img src="images/apidoc2.png" alt="apidoc2.png" />
</p>
</div>

<p>
Batteries BattList Functions Signatures and Descriptions:
</p>


<div class="figure">
<p><img src="images/apidoc3.png" alt="apidoc3.png" />
</p>
</div>

<p>
Generated Files
</p>


<div class="figure">
<p><img src="images/apidoc_generated_files.png" alt="apidoc_generated_files.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-1-14" class="outline-3">
<h3 id="sec-1-14"><span class="section-number-3">1.14</span> Resources</h3>
<div class="outline-text-3" id="text-1-14">
</div><div id="outline-container-sec-1-14-1" class="outline-4">
<h4 id="sec-1-14-1"><span class="section-number-4">1.14.1</span> Articles</h4>
<div class="outline-text-4" id="text-1-14-1">
<ul class="org-ul">
<li><a href="http://cacm.acm.org/magazines/2011/11/138203-ocaml-for-the-masses/fulltext">Ocaml for the masses - by Yaron Minks, Jane Stree Capital</a>
</li>

<li>[ocamlscript: natively-compiled OCaml scripts]
</li>
</ul>
</div>
</div>


<div id="outline-container-sec-1-14-2" class="outline-4">
<h4 id="sec-1-14-2"><span class="section-number-4">1.14.2</span> Links</h4>
<div class="outline-text-4" id="text-1-14-2">
<ul class="org-ul">
<li><a href="http://wiki.xen.org/wiki/OCaml_Best_Practices_for_Developers#OCaml_Best_Practices_Guide">OCaml Best Practices for Developers / Xen</a>
</li>

<li><a href="http://pleac.sourceforge.net/pleac_ocaml/packagesetc.html">http://pleac.sourceforge.net/pleac_ocaml/packagesetc.html</a>
</li>

<li><a href="http://projects.camlcity.org/projects/dl/findlib-1.2.6/doc/guide-html/quickstart.html">http://projects.camlcity.org/projects/dl/findlib-1.2.6/doc/guide-html/quickstart.html</a>
</li>

<li><a href="http://caml.inria.fr/pub/docs/manual-ocaml/extn.html">http://caml.inria.fr/pub/docs/manual-ocaml/extn.html</a>
</li>

<li><a href="http://www.loria.fr/~shornus/ocaml/slides-ocaml-3.pdf">http://www.loria.fr/~shornus/ocaml/slides-ocaml-3.pdf</a>
</li>

<li><a href="http://blog.enfranchisedmind.com/2007/01/ocaml-lazy-lists-an-introduction/">http://blog.enfranchisedmind.com/2007/01/ocaml-lazy-lists-an-introduction/</a>
</li>
</ul>
</div>
</div>




<div id="outline-container-sec-1-14-3" class="outline-4">
<h4 id="sec-1-14-3"><span class="section-number-4">1.14.3</span> Books</h4>
<div class="outline-text-4" id="text-1-14-3">
</div><ol class="org-ol"><li><a id="sec-1-14-3-1" name="sec-1-14-3-1"></a>Online Books<br  /><div class="outline-text-5" id="text-1-14-3-1">
<p>
<b>Real World OCaml: Functional Programming for the Masses</b>
</p>
<ul class="org-ul">
<li><a href="https://realworldocaml.org/v1/en/html/index.html">Link</a>
<ul class="org-ul">
<li>Authors: Jason Hickey, Anil Madhavapeddy and Yaron Minsky
</li>
<li>Publisher: O'Reilly
</li>
</ul>
</li>
</ul>

<p>
<b>Developing Applications With Objective OCaml</b>
</p>
<ul class="org-ul">
<li><a href="http://caml.inria.fr/pub/docs/oreilly-book/">Link</a>
<ul class="org-ul">
<li>Authors: Emmanuel Chailloux, Pascal Manoury and Bruno Pagano
</li>
<li>Publisher: O'Reilly France.
</li>
<li><a href="http://caml.inria.fr/pub/docs/oreilly-book/html/index.html">http://caml.inria.fr/pub/docs/oreilly-book/html/index.html</a>
</li>
</ul>
</li>
</ul>

<p>
<b>Introduction to Objective Caml</b>
</p>
<ul class="org-ul">
<li><a href="http://files.metaprl.org/doc/ocaml-book.pdf">Link</a>
<ul class="org-ul">
<li>Authors: Jason Hickey
</li>
<li>Url2: <a href="http://main.metaprl.org/jyh/classes/cs134/cs134b/2007/public_html/assets/hickey.pdf">Introduction to the Objective Caml Programming Language</a>
</li>
</ul>
</li>
</ul>

<p>
<b>Unix system programming in OCaml</b>
</p>
<ul class="org-ul">
<li><a href="http://ocaml.github.io/ocamlunix/">Link</a>
<ul class="org-ul">
<li>Authors: Xavier Leroy and Didier Rémy
</li>
</ul>
</li>
</ul>

<p>
<b>Using, Understanding, and Unraveling - The OCaml Language From Practice to Theory and vice versa</b>
</p>
<ul class="org-ul">
<li><a href="http://caml.inria.fr/pub/docs/u3-ocaml/index.html">Link</a>, Didier Rémy
</li>
</ul>


<p>
<b>Think Ocaml - How to Think Like a (Functional) Programmer</b>
</p>
<ul class="org-ul">
<li><a href="http://www.greenteapress.com/thinkocaml/index.html">Link</a>
<ul class="org-ul">
<li>Authors: Allen Downey, Nicholas Monje 
</li>
<li>Pùblisher: Green Tea Press
</li>
</ul>
</li>
</ul>

<p>
<b>OCaml Inria Manual v4.02</b>
</p>
<ul class="org-ul">
<li><a href="http://caml.inria.fr/pub/docs/manual-ocaml-4.02-1/">Link</a>
</li>
</ul>
</div>
</li></ol>
</div>

<div id="outline-container-sec-1-14-4" class="outline-4">
<h4 id="sec-1-14-4"><span class="section-number-4">1.14.4</span> Community</h4>
<div class="outline-text-4" id="text-1-14-4">
</div><ol class="org-ol"><li><a id="sec-1-14-4-1" name="sec-1-14-4-1"></a>Online Resources<br  /><div class="outline-text-5" id="text-1-14-4-1">
<ul class="org-ul">
<li>Reddit:           <a href="http://reddit.com/r/ocaml">http://reddit.com/r/ocaml</a>
</li>
<li>Usenet:           comp.lang.ocaml
</li>
<li>StackOverflow
<ul class="org-ul">
<li><a href="http://stackoverflow.com/tags/ocaml/info">http://stackoverflow.com/tags/ocaml/info</a>
</li>
<li><a href="http://stackoverflow.com/questions/tagged/ocaml">http://stackoverflow.com/questions/tagged/ocaml</a>
</li>
</ul>
</li>
<li>Email List (lists.ocaml.org): <a href="http://lists.ocaml.org/listinfo">http://lists.ocaml.org/listinfo</a>
</li>

<li><a href="https://ocaml.org/learn/">https://ocaml.org/learn/</a>
</li>

<li><a href="http://caml.inria.fr/resources/index.en.html">Resources for Caml users - Inria</a>
</li>

<li><a href="http://langref.org/ocaml">Lang Ref / Ocaml</a>
</li>

<li><a href="http://rosettacode.org/wiki/Category:OCaml">Rosetta Wiki Code Ocaml</a>
</li>

<li><a href="http://pleac.sourceforge.net/pleac_ocaml/">PLEAC-Objective CAML</a>
</li>

<li id="[[<a href="http://www.cs.cornell.edu/Courses/cs3110/2011sp/lecturenotes.asp][Cornell">http://www.cs.cornell.edu/Courses/cs3110/2011sp/lecturenotes.asp][Cornell</a> University - CS3110 Spring 11">Data Structures and Functional Programming]]
</li>
</ul>


<ul class="org-ul">
<li>[Universytet Wroclawiski | Lukaz Stafiniak / Functional Lectures] (<a href="http://www.ii.uni.wroc.pl/~lukstafi/pmwiki/index.php?n=Functional.Functional">http://www.ii.uni.wroc.pl/~lukstafi/pmwiki/index.php?n=Functional.Functional</a>)
</li>

<li><a href="http://www.southampton.ac.uk/~fangohr/software/ocamltutorial/">University of Southampton | Tutorial: OCaml for scientific computation - Dr. Thomas Fischbacher, Hans Fangohr</a>
</li>

<li><a href="https://github.com/jimenezrick/ocaml-backpack/blob/master/src/backpackString.ml">String Pattern Matching Examples</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="http://www.martani.net/2009/04/ocaml-exceptions-small-tutorial.html">OCAML exceptions, a small tutorial</a>
</li>

<li><a href="http://www.crmarsh.com/intro_to_ocaml/">First Thoughts on OCaml</a>
</li>

<li><a href="http://www2.lib.uchicago.edu/keith/ocaml-class/compiling.html">OCaml for the Skeptical - Compiling and Running Programs</a>
</li>
</ul>
</div>
</li>

<li><a id="sec-1-14-4-2" name="sec-1-14-4-2"></a>Blogs<br  /><div class="outline-text-5" id="text-1-14-4-2">
<ul class="org-ul">
<li><a href="https://blogs.janestreet.com">Jane Street Capital - Blog</a>
</li>

<li><a href="http://www.ocamlpro.com/blog">Ocamlpro Blog</a>
</li>

<li><i>The MirageOS Blog on building functional operating systems</i>
</li>

<li><a href="https://www.lexifi.com/blogs/ocaml">OCaml at LexiFi | LexiFi</a>
</li>

<li><a href="http://roscidus.com/blog/">Rosciuds Blog</a>
</li>

<li><i>Alaska Ataca a Kamtchatka</i>
</li>

<li><a href="http://okmij.org/ftp/ML/">Oleg Kiselyov</a>
</li>

<li><a href="http://ambassadortothecomputers.blogspot.com/2009/05/lwt-and-concurrent-ml.html">Ambassador to the Computers Mostly OCaml.</a>
</li>

<li><a href="http://functional-orbitz.blogspot.com">Functional Orbitz</a>
</li>

<li><a href="http://simongrondin.name/?p=330#more-330">An Overview of Ocaml - Simon Grondin - An Adventure in Software Industry</a>
</li>

<li><a href="http://www.mega-nerd.com/erikd/Blog/CodeHacking/Ocaml/index.html">Mega Nerd blog / Ocaml</a>
</li>

<li><a href="http://www.matt-mcdonnell.com/blog/blog_ocaml/blog_ocaml.html">Matt Mcdonnel - Ocaml</a>
</li>

<li><a href="http://aubedesheros.blogspot.com/search/label/ocaml">http://aubedesheros.blogspot.com/search/label/ocaml</a>  (In French)
</li>

<li><a href="http://takeisamemo.blogspot.com.br/search/label/OCaml">Ruby,Lisp,Emacs,Clojure.OCaml,Haskell,Raspberry Piのメモ</a> (In Japanese)
</li>
</ul>
</div>
</li>

<li><a id="sec-1-14-4-3" name="sec-1-14-4-3"></a>Hacker News Threads<br  /><div class="outline-text-5" id="text-1-14-4-3">
<ul class="org-ul">
<li><a href="https://news.ycombinator.com/item?id=8002188">OCaml for the Masses (2011)</a>
</li>

<li><a href="https://news.ycombinator.com/item?id=7858276">Python to OCaml: Retrospective (roscidus.com)</a>
</li>

<li><a href="https://news.ycombinator.com/item?id=7416203">Why OCaml, Why Now? (spyder.wordpress.com)</a>
</li>

<li><a href="https://news.ycombinator.com/item?id=112129">Ask Hackers: Opinions on OCaml?</a>
</li>

<li><a href="https://news.ycombinator.com/item?id=9582980">OCaml 4.03 will, “if all goes well”, support multicore (inria.fr)</a>
</li>

<li><a href="https://news.ycombinator.com/item?id=3740173">Code iOS Apps in OCaml</a>
</li>

<li><a href="https://news.ycombinator.com/item?id=8653207">OCaml Briefly (mads379.github.io)</a>
</li>

<li><a href="https://news.ycombinator.com/item?id=8226139">The fundamental problem of programming language package management</a>
</li>

<li><a href="https://news.ycombinator.com/item?id=9463254">Four MLs (and a Python) (thebreakfastpost.com)</a>
</li>

<li><a href="https://news.ycombinator.com/item?id=3438084">Jane Street releases open source alternative to OCaml's stdlib</a>
</li>

<li><a href="https://news.ycombinator.com/item?id=1883679">Why did Microsoft invest so much in F#?</a>
</li>
</ul>
</div>
</li>

<li><a id="sec-1-14-4-4" name="sec-1-14-4-4"></a>Slides and Presentations<br  /><div class="outline-text-5" id="text-1-14-4-4">
<ul class="org-ul">
<li><a href="http://www.cs.columbia.edu/~sedwards/classes/2012/w4115-spring/ocaml.pdf">An Introduction to Objective Caml - Stephen A. Edwards - Columbia University</a>
</li>

<li><a href="http://www.slideshare.net/pramode_ce/fp-29715231?next_slideshow=1">Slideshare - Introduction to functional programming using Ocaml</a>
</li>

<li><a href="http://www.slideshare.net/yoriyuki/camomile-a-unicode-library-for-ocaml?related=4">Camomile : A Unicode library for OCaml</a>
</li>

<li><a href="http://www.slideshare.net/AnilMadhavapeddy/ocaml-labs-introduction-at-ocaml-consortium-2012?related=1">OCaml Labs introduction at OCaml Consortium 2012</a>
</li>
</ul>


<ul class="org-ul">
<li>[Abstractions and Types for Concurrent Programming - Yaron Minsky
</li>
</ul>
<p>
Jane Street](<a href="http://www.cs.princeton.edu/~dpw/courses/cos326-12/lec/asynch-and-rpc.pdf">http://www.cs.princeton.edu/~dpw/courses/cos326-12/lec/asynch-and-rpc.pdf</a>)
</p>

<ul class="org-ul">
<li><a href="http://www.slideshare.net/cyber_jso/ocaml-13036522?related=3">Ocaml - Objective Caml</a>
</li>

<li><a href="http://www.slideshare.net/dsyme/fp-successv4redist?related=5s">Succeeding with Functional-first Programming in Enterprise - by Dr. Don Syme - Microsoft Research</a>
</li>

<li><a href="https://ocaml.org/meetings/ocaml/2014/ocaml2014_13.pdf">LibreS3: design, challenges, and steps toward reusable libraries</a>
</li>

<li><a href="http://files.meetup.com/1887771/2013-07-11%20Js_of_ocaml%20The%20OCaml%20to%20Javascript%20Compiler.pdf">NYC OCaml Meetup: Js_of_ocaml</a>
</li>

<li><a href="http://ashishagarwal.org/wp-content/uploads/2012/06/IBM_PL_Day_2012.pdf">Managing and Analyzing Big-Data in Genomics</a>
</li>

<li><a href="http://www.loria.fr/~shornus/ocaml/slides-ocaml-3.pdf">Programmation fonctionnelle avec OCaml</a>
</li>
</ul>
</div>
</li>

<li><a id="sec-1-14-4-5" name="sec-1-14-4-5"></a>Stack Overflow Highlighted Questions<br  /><div class="outline-text-5" id="text-1-14-4-5">
<p>
<b>Syntax / Implementation</b>
</p>

<ul class="org-ul">
<li><a href="http://stackoverflow.com/questions/7524487/what-does-let-mean-in-ocaml">What does “let () = ” mean in Ocaml?</a>
</li>

<li><a href="http://stackoverflow.com/questions/1604270/what-is-the-different-between-fun-and-function-keywords">What is the different between `fun` and `function` keywords?</a>
</li>

<li><a href="http://stackoverflow.com/questions/8017172/why-is-ocamls-not-polymorphic">Why is OCaml's (+) not polymorphic?</a>
</li>

<li><a href="http://stackoverflow.com/questions/19498928/what-are-in-ocaml">What are “`” in OCaml?</a>
</li>

<li><a href="http://stackoverflow.com/questions/199918/explaining-pattern-matching-vs-switch">Explaining pattern matching vs switch</a>
</li>

<li><a href="http://stackoverflow.com/questions/4777744/ocaml-variant-types">Ocaml Variant Types</a>
</li>

<li><a href="http://stackoverflow.com/questions/3773985/why-is-an-int-in-ocaml-only-31-bits">Why is an int in OCaml only 31 bits?</a>
</li>

<li><a href="http://stackoverflow.com/questions/9498746/ocaml-insert-an-element-in-list">OCaml insert an element in list</a>
</li>

<li><a href="http://stackoverflow.com/questions/14001569/ocaml-accessing-components-in-an-array-of-records">Ocaml - Accessing components in an array of records</a>
</li>

<li><a href="http://stackoverflow.com/questions/13590307/whats-the-difference-between-equal-and-identical-in-ocaml/13590433#13590433">What's the difference between “equal (<code>)” and “identical (=</code>)” in ocaml?</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="http://stackoverflow.com/questions/25878382/why-is-1-0-1-0-false-in-ocaml">Why is “1.0 == 1.0” false in Ocaml?</a>
</li>

<li><a href="http://stackoverflow.com/questions/9647307/how-to-curry-a-function-w-r-t-its-optional-arguments-in-ocaml">How to curry a function w.r.t. its optional arguments in OCaml</a>
</li>

<li><a href="http://stackoverflow.com/questions/11515240/whats-the-difference-between-let-and-let">What's the difference between “let ()=” and “let _=” ;</a>
</li>

<li><a href="http://stackoverflow.com/questions/23323032/in-ocaml-what-type-definition-is-this-a-unit-a?rq=1">In OCaml, what type definition is this: 'a. unit -&gt; 'a</a>
</li>

<li><a href="http://stackoverflow.com/questions/8962895/hashtables-in-ocaml/8963057#8963057">Hashtables in ocaml - Is it possible to store different types in the same hashtable (Hashtbl) in Ocaml? Are hashtables really restricted to just one type?</a>
</li>

<li><a href="http://stackoverflow.com/questions/8326926/how-do-you-append-a-char-to-a-string-in-ocaml/8329852#8329852">How do you append a char to a string in OCaml?</a>
</li>

<li><a href="http://stackoverflow.com/questions/9776245/ocaml-int-to-binary-string-conversion">Ocaml int to binary string conversion</a>
</li>

<li><a href="http://stackoverflow.com/questions/14425762/ocaml-regex-specify-a-number-of-occurrences">OCaml regex: specify a number of occurrences</a>
</li>

<li><a href="http://stackoverflow.com/questions/10459363/side-effects-and-top-level-expressions-in-ocaml">Side-effects and top-level expressions in OCaml</a>
</li>

<li><a href="http://stackoverflow.com/questions/20931144/ocaml-passing-labeled-function-as-parameter-labeled-function-type-equivalence">OCaml passing labeled function as parameter / labeled function type equivalence</a>
</li>

<li><a href="http://stackoverflow.com/questions/21225701/ocaml-bitstring-within-a-script">ocaml bitstring within a script</a>
</li>

<li><a href="http://stackoverflow.com/questions/22067339/whats-the-most-used-data-structure-in-ocaml-to-represent-a-graph">What's the most-used data structure in OCaml to represent a Graph?</a>
</li>
</ul>


<p>
<b>Functional Programming</b>
</p>

<ul class="org-ul">
<li><a href="http://stackoverflow.com/questions/5843773/state-monad-in-ocaml">State monad in OCaml</a>
</li>

<li><a href="http://stackoverflow.com/questions/24943140/the-reverse-state-monad-in-ocaml">The reverse state monad in OCaml</a>
</li>

<li><a href="http://stackoverflow.com/questions/29851449/what-is-the-use-of-monads-in-ocaml">What is the use of monads in OCaml?</a>
</li>

<li><a href="http://stackoverflow.com/questions/25790177/monadic-buffers-in-ocaml">Monadic buffers in OCaml</a>
</li>

<li><a href="http://stackoverflow.com/questions/21031920/does-ocaml-have-fusion-laws">Does OCaml have fusion laws</a>
</li>

<li><a href="http://stackoverflow.com/questions/4997661/composite-functions-in-ocaml">Composite functions in ocaml</a>
</li>

<li><a href="http://stackoverflow.com/questions/30493644/ocaml-operator">OCaml |&gt; operator</a>
</li>

<li><a href="http://stackoverflow.com/questions/8986010/is-it-possible-to-use-pipes-in-ocaml">Is it possible to use pipes in OCaml?</a>
</li>

<li><a href="http://stackoverflow.com/questions/16637015/is-there-an-infix-function-composition-operator-in-ocaml/16637073#16637073">Is there an infix function composition operator in OCaml?</a>
</li>

<li><a href="http://stackoverflow.com/questions/832569/list-of-functional-code-snippets-for-procedural-programmers">List of Functional code snippets for Procedural Programmers?</a>
</li>

<li><a href="http://stackoverflow.com/questions/19771283/application-of-tail-recursion-in-ocaml">Application of Tail-Recursion in OCaml</a>
</li>

<li><a href="http://stackoverflow.com/questions/2030863/in-functional-programming-what-is-a-functor">In Functional Programming, what is a functor?</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="http://stackoverflow.com/questions/13404208/in-pure-functional-languages-is-there-an-algorithm-to-get-the-inverse-function">In pure functional languages, is there an algorithm to get the inverse function?</a>
</li>

<li><a href="http://stackoverflow.com/questions/4399837/what-is-the-benefit-of-purely-functional-data-structure">What is the benefit of purely functional data structure?</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="http://stackoverflow.com/questions/14934242/whats-the-closest-thing-to-haskells-typeclasses-in-ocaml">What's the closest thing to Haskell's typeclasses in OCaml?</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="http://stackoverflow.com/questions/7367655/defining-functions-pointfree-style-in-functional-programming-what-are-the-cons">Defining functions pointfree-style in functional programming. What are the cons/pros?</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="http://stackoverflow.com/questions/28177263/what-is-lenses-in-ocamls-world"> What is <b>lenses</b> in OCaml's world </a>
</li>

<li><a href="http://stackoverflow.com/questions/1738758/linked-list-ocaml">Linked List Ocaml</a>
</li>

<li><a href="http://stackoverflow.com/questions/3660957/functional-programming-languages-introspection">Functional programming languages introspection</a>
</li>

<li><a href="http://stackoverflow.com/questions/10779283/when-should-objects-be-used-in-ocaml">When should objects be used in OCaml?</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="http://stackoverflow.com/questions/5131954/open-and-closed-union-types-in-ocaml">Open and closed union types in Ocaml</a>
</li>

<li><a href="http://stackoverflow.com/questions/14781875/choosing-between-continuation-passing-style-and-memoization">Choosing between continuation passing style and memoization</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="http://stackoverflow.com/questions/27864200/an-concrete-simple-example-to-demonstrate-gadt-in-ocaml">An concrete simple example to demonstrate GADT in OCaml?</a>
</li>

<li><a href="http://stackoverflow.com/questions/18213973/generating-primes-without-blowing-the-stack">Generating primes without blowing the stack</a>
</li>

<li><a href="http://stackoverflow.com/questions/9054613/executing-a-list-of-functions">Executing a list of functions</a>
</li>

<li><a href="http://stackoverflow.com/questions/30241118/best-way-to-represent-a-file-folder-structure">Best way to represent a file/folder structure</a>
</li>

<li><a href="http://stackoverflow.com/questions/27285170/how-would-you-implement-a-grid-in-a-functional-language">How would you implement a Grid in a functional language?</a>
</li>

<li><a href="http://stackoverflow.com/questions/15285386/ocaml-recursive-function-to-apply-a-function-n-times">OCaml recursive function to apply a function n times</a>
</li>

<li><a href="http://stackoverflow.com/questions/28732351/ocaml-read-csv-file-into-array">OCaml - Read csv file into array</a>
</li>
</ul>


<p>
<b>Lazy Evaluation/ Delayed Evaluation/ Generators / Yield</b>
</p>

<ul class="org-ul">
<li><a href="http://stackoverflow.com/questions/30197961/are-streams-in-ocaml-really-used">Are streams in ocaml really used?</a>
</li>

<li><a href="http://stackoverflow.com/questions/1631968/ocaml-lazy-lists">Ocaml: Lazy Lists - How can I make a lazy list representing a sequence of doubling numbers?</a>
</li>

<li><a href="http://stackoverflow.com/questions/18401178/ocaml-lazy-force">Ocaml - Lazy.force</a>
</li>

<li><a href="http://stackoverflow.com/questions/13146128/simple-generators">Simple Generators</a>
</li>

<li>[[<a href="http://stackoverflow.com/questions/16150173/what-does-mean-in-ocaml][What">http://stackoverflow.com/questions/16150173/what-does-mean-in-ocaml][What</a> does `[&lt; &gt;]` mean in OCaml?]]
</li>

<li><a href="http://stackoverflow.com/questions/9760580/what-is-the-purpose-of-ocamls-lazy-lazy-from-val">What is the purpose of OCaml's Lazy.lazy_from_val?</a>
</li>

<li><a href="http://stackoverflow.com/questions/16027627/converting-ocaml-function-to-stream">converting ocaml function to stream</a>
</li>

<li><a href="http://stackoverflow.com/questions/3969321/lazy-n-choose-k-in-ocaml">Lazy “n choose k” in OCaml</a>
</li>

<li><a href="http://stackoverflow.com/questions/24123294/thread-safe-lazy-in-ocaml">Thread safe lazy in OCaml</a>
</li>
</ul>

<p>
<b>SML Dialects</b>
</p>

<ul class="org-ul">
<li><a href="http://stackoverflow.com/questions/699689/what-are-the-differences-between-sml-and-ocaml">What are the differences between SML and Ocaml?</a>
</li>

<li><a href="http://stackoverflow.com/questions/179492/f-changes-to-ocaml">F# changes to OCaml</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="http://stackoverflow.com/questions/14428420/converting-f-seq-expressions-to-ocaml">Converting F# seq expressions to OCaml</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="http://stackoverflow.com/questions/6589959/ienumerablet-in-ocaml">IEnumerable&lt;T&gt; in OCaml</a>
</li>

<li><a href="http://stackoverflow.com/questions/4239121/code-compatibility-between-ocaml-and-f">code compatibility between OCaml and F#</a>
</li>

<li><a href="http://stackoverflow.com/questions/14777522/if-sml-net-had-functors-why-cant-f">If SML.NET had functors why can't F#?</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="http://stackoverflow.com/questions/27045225/streams-aka-lazy-lists-and-tail-recursion">Streams (aka “lazy lists”) and tail recursion</a>
</li>
</ul>

<p>
<b>Standard Library</b>
</p>

<ul class="org-ul">
<li><a href="http://stackoverflow.com/questions/3307936/how-stable-and-widespread-is-ocaml-batteries-included-and-is-it-recommended">How stable and widespread is “OCaml Batteries Included” and is it recommended?</a>
</li>

<li><a href="http://stackoverflow.com/questions/15751851/cygwin-ocaml-opam-batteries">Cygwin &amp; OCaml: OPAM + Batteries</a>
</li>

<li><a href="http://stackoverflow.com/questions/10667329/using-ocaml-batteries-included-as-a-vanilla-cma?rq=1">using OCaml Batteries Included as a vanilla cma</a>
</li>

<li><a href="http://stackoverflow.com/questions/3889117/what-are-the-pros-and-cons-of-batteries-and-core?rq=1">What are the pros and cons of Batteries and Core?</a>
</li>
</ul>


<p>
<b>Build / Compile</b>
</p>

<ul class="org-ul">
<li><a href="http://stackoverflow.com/questions/27771452/building-library-with-ocamlbuild-installing-it-with-ocamlfind-whats-the-best">Building library with ocamlbuild, installing it with ocamlfind - what's the best practice?</a>
</li>

<li><a href="http://stackoverflow.com/questions/5956317/what-is-the-preferred-way-to-structure-and-build-ocaml-projects?rq=1">What is the preferred way to structure and build OCaml projects?</a>
</li>

<li><a href="http://stackoverflow.com/questions/17315402/how-to-make-ocaml-bytecode-that-works-on-windows-and-linux">How to make OCaml bytecode that works on Windows and Linux</a>
</li>
</ul>

<p>
<b>Tool Chain</b>
</p>

<ul class="org-ul">
<li><a href="http://stackoverflow.com/questions/14747939/ide-for-ocaml-language">IDE for OCaml language</a>
</li>

<li><a href="http://stackoverflow.com/questions/3966925/saving-my-running-toplevel-for-later">Saving my running toplevel for later</a>
</li>

<li><a href="http://stackoverflow.com/questions/1849245/is-there-an-enhanced-interpreter-toploop-for-ocaml">Is there an enhanced interpreter toploop for OCaml?</a>
</li>

<li><a href="http://stackoverflow.com/questions/13225070/is-it-possible-to-use-arrow-keys-in-ocaml-interpreter/13225113#13225113">Is it possible to use arrow keys in OCaml interpreter?</a>
</li>

<li><a href="http://stackoverflow.com/questions/27640897/is-it-possible-to-make-an-opam-sandbox">Is it possible to make an opam “sandbox”?</a>
</li>

<li><a href="http://stackoverflow.com/questions/24824849/for-ocaml-is-there-a-tool-to-quickly-access-function-or-library-documentation-f">For OCaml, is there a tool to quickly access function or library documentation from the command line?</a>
</li>

<li><a href="http://stackoverflow.com/questions/4063039/annotations-in-ocaml">Annotations in OCaml</a>
</li>

<li><a href="http://stackoverflow.com/questions/8059657/about-the-topfind">About the “topfind”?</a>
</li>

<li><a href="http://stackoverflow.com/questions/21132371/get-ocamlmerlin-autocomplete-in-vim">Get ocamlmerlin autocomplete in vim</a>
</li>

<li><a href="http://stackoverflow.com/questions/8630599/is-there-a-reason-to-retain-cmo-or-only-cma">Is there a reason to retain .cmo or only .cma?</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="http://stackoverflow.com/questions/20927592/ocaml-utop-library-paths-core-module?rq=1">Ocaml utop library paths, Core module</a>
</li>

<li><a href="http://stackoverflow.com/questions/9426560/how-to-trace-a-program-for-debugging-in-ocaml">How to trace a program for debugging in OCaml ?</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="http://stackoverflow.com/questions/15514908/which-is-the-current-setup-to-use-ocaml-in-vim">Which is the current setup to use OCaml in Vim?</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="http://stackoverflow.com/questions/26032055/how-can-i-use-ocamlbrowser-with-opam-packages">How can I use ocamlbrowser with opam packages?</a>
</li>
</ul>

<p>
<b>Misc</b>
</p>

<ul class="org-ul">
<li><a href="http://stackoverflow.com/questions/1094866/how-do-i-inteface-ocaml-with-iphone-api">How do I inteface OCaml with iPhone API?</a>
</li>

<li><a href="http://stackoverflow.com/questions/13535149/accessing-libraries-written-in-ocaml-and-c-from-ruby-code">Accessing libraries written in OCaml and C++ from Ruby code</a>
</li>
</ul>


<ul class="org-ul">
<li>[Code generation for mathematical
</li>
</ul>
<p>
problems](<a href="http://stackoverflow.com/questions/13203089/code-generation-for-mathematical-problems">http://stackoverflow.com/questions/13203089/code-generation-for-mathematical-problems</a>)
</p>

<ul class="org-ul">
<li><a href="http://stackoverflow.com/questions/27061506/ocaml-for-arm-cortex-m4">Ocaml for ARM cortex M4?</a>
</li>

<li><a href="http://stackoverflow.com/questions/9472371/cross-compiling-ocaml-apps-for-arm">Cross-compiling ocaml apps for ARM</a>
</li>

<li><a href="http://stackoverflow.com/questions/9434050/how-to-represent-a-simple-finite-state-machine-in-ocaml">How to represent a simple finite state machine in Ocaml?</a>
</li>

<li><a href="http://stackoverflow.com/questions/15524450/how-to-convert-numbers-among-hex-oct-decimal-and-binary-in-ocaml">How to convert numbers among hex, oct, decimal and binary in OCaml?</a>
</li>
</ul>
</div>
</li>

<li><a id="sec-1-14-4-6" name="sec-1-14-4-6"></a>See Also<br  /><div class="outline-text-5" id="text-1-14-4-6">
<ul class="org-ul">
<li><a href="http://science.raphael.poss.name/haskell-for-ocaml-programmers.html">Haskell for OCaml programmers</a>
</li>
<li><a href="http://blog.ezyang.com/2010/10/ocaml-for-haskellers/">OCaml for Haskellers</a>
</li>
<li><a href="http://hyperpolyglot.org/ml">ML Dialects and Haskell: SML, OCaml, F#, Haskell</a>
</li>
<li><a href="http://www.csc.villanova.edu/~dmatusze/resources/ocaml/ocaml.html">A Concise Introduction to Objective Caml</a>
</li>
<li><a href="http://keleshev.com/namespacing-variants-in-ml">Namespacing Variants in ML</a>
</li>

<li><a href="https://haifengl.wordpress.com/2014/07/07/ocaml-algebraic-data-types/">Haifeng's Random Walk - OCaml: Algebraic Data Types</a>
</li>

<li><a href="http://caml.inria.fr/pub/docs/u3-ocaml/ocaml051.html">Appendix B  Variant types and labeled arguments</a>
</li>

<li><a href="http://roscidus.com/blog/blog/2013/10/13/ocaml-tips/">Thomas Leonard's blog - OCaml Tips</a>
</li>
<li><a href="http://roscidus.com/blog/blog/2013/09/28/ocaml-objects/">Thomas Leonard's blog - Experiences With OCaml Objects</a>
</li>

<li><a href="http://lambdafoo.com/blog/2015/05/15/unreliable-guide-to-ocaml-modules/">Unreliable Guide to OCaml Modules</a>
</li>
</ul>


<ul class="org-ul">
<li><a href="http://blog.bentobako.org/index.php?post/2011/12/02/A-draft-of-library-to-handle-physical-units-in-OCaml">A draft of library to handle physical units in OCaml</a>
</li>

<li><a href="http://javiermunhoz.com/blog/2014/04/19/detecting-and-removing-computer-virus-with-ocaml.html">Detecting and removing computer virus with OCaml</a>
</li>
</ul>
</div>
</li>

<li><a id="sec-1-14-4-7" name="sec-1-14-4-7"></a>Quick Reference Sheets<br  /><div class="outline-text-5" id="text-1-14-4-7">
<ul class="org-ul">
<li><a href="https://github.com/OCamlPro/ocaml-cheat-sheets">https://github.com/OCamlPro/ocaml-cheat-sheets</a>
</li>

<li><a href="http://www.ocamlpro.com/blog/2011/06/03/cheatsheets.html">OCaml Cheat Sheets</a>
</li>

<li><a href="https://www.lri.fr/~conchon/IPF/fiches/ocaml-lang.pdf">https://www.lri.fr/~conchon/IPF/fiches/ocaml-lang.pdf</a>
</li>

<li><a href="http://cl-informatik.uibk.ac.at/teaching/ss06/ocaml/content/w1-2x2.pdf">http://cl-informatik.uibk.ac.at/teaching/ss06/ocaml/content/w1-2x2.pdf</a>
</li>

<li><a href="https://www.lri.fr/~conchon/IPF/fiches/tuareg-mode.pdf">https://www.lri.fr/~conchon/IPF/fiches/tuareg-mode.pdf</a>
</li>

<li><a href="http://blog.eatonphil.com/2015/03/28/the-ocaml-build-process/">The OCaml Build Process by Example</a>
</li>
</ul>
</div>
</li></ol>
</div>

<div id="outline-container-sec-1-14-5" class="outline-4">
<h4 id="sec-1-14-5"><span class="section-number-4">1.14.5</span> References By Subject</h4>
<div class="outline-text-4" id="text-1-14-5">
<p>
<b>Lazy Evaluation</b>
</p>

<ul class="org-ul">
<li><a href="http://cl-informatik.uibk.ac.at/teaching/ws09/fp/ohp/week12-1x2.pdf">http://cl-informatik.uibk.ac.at/teaching/ws09/fp/ohp/week12-1x2.pdf</a>
</li>
<li><a href="http://typeocaml.com/2014/11/13/magic-of-thunk-lazy/">http://typeocaml.com/2014/11/13/magic-of-thunk-lazy/</a>
</li>
<li><a href="http://www.ii.uni.wroc.pl/~lukstafi/pmwiki/uploads/Functional/functional-lecture07.pdf">http://www.ii.uni.wroc.pl/~lukstafi/pmwiki/uploads/Functional/functional-lecture07.pdf</a>
</li>

<li><a href="http://www.ii.uni.wroc.pl/~lukstafi/pmwiki/uploads/Functional/functional-lecture07.pdf">Lazy Evaluation and Stream Processing</a>
<ul class="org-ul">
<li><a href="http://www.ii.uni.wroc.pl/~lukstafi/pmwiki/index.php?n=Functional.Functional">http://www.ii.uni.wroc.pl/~lukstafi/pmwiki/index.php?n=Functional.Functional</a>
</li>
</ul>
</li>

<li>Lazy Expression Evaluation with Demand Paging / In Virtual Memory
Managementhttp://www.ijeat.org/attachments/File/v2i1/A0690092112.pdf
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<p class="author">Author: arch</p>
<p class="date">Created: 2017-03-03 sex 16:51</p>
<p class="creator"><a href="http://www.gnu.org/software/emacs/">Emacs</a> 25.1.1 (<a href="http://orgmode.org">Org</a> mode 8.2.10)</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>